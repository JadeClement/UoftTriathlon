{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/Forum.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport './Forum.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Forum = () => {\n  _s();\n  const {\n    currentUser,\n    isMember,\n    isExec,\n    getUserRole\n  } = useAuth();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('workouts');\n  const [workoutPosts, setWorkoutPosts] = useState([]);\n  const [eventPosts, setEventPosts] = useState([]);\n  const [newWorkout, setNewWorkout] = useState('');\n  const [newEvent, setNewEvent] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showWorkoutForm, setShowWorkoutForm] = useState(false);\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [workoutForm, setWorkoutForm] = useState({\n    title: '',\n    type: 'spin',\n    date: '',\n    content: '',\n    capacity: ''\n  });\n  const [eventForm, setEventForm] = useState({\n    title: '',\n    date: '',\n    content: ''\n  });\n  const [workoutSignups, setWorkoutSignups] = useState({});\n  const [workoutWaitlists, setWorkoutWaitlists] = useState({});\n  const API_BASE_URL = 'http://localhost:5001/api';\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n\n    // Check if user has member access or higher\n    if (!isMember(currentUser)) {\n      navigate('/login');\n      return;\n    }\n\n    // Load forum posts from backend API\n    loadForumPosts();\n  }, [currentUser, navigate, isMember]);\n  const loadForumPosts = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load workout posts\n      const workoutResponse = await fetch(`${API_BASE_URL}/forum/workouts`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (workoutResponse.ok) {\n        const workoutData = await workoutResponse.json();\n        setWorkoutPosts(workoutData.posts || []);\n\n        // Load signup data for all workouts\n        await loadWorkoutSignups(workoutData.posts || []);\n        // Load waitlist data for all workouts\n        await loadWorkoutWaitlists(workoutData.posts || []);\n      }\n\n      // Load event posts\n      const eventResponse = await fetch(`${API_BASE_URL}/forum/events`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (eventResponse.ok) {\n        const eventData = await eventResponse.json();\n        setEventPosts(eventData.posts || []);\n      }\n    } catch (error) {\n      console.error('Error loading forum posts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadWorkoutSignups = async workouts => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n      const signupsData = {};\n      for (const workout of workouts) {\n        const signupsResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/signups`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (signupsResponse.ok) {\n          const data = await signupsResponse.json();\n          signupsData[workout.id] = data.signups || [];\n        }\n      }\n      setWorkoutSignups(signupsData);\n    } catch (error) {\n      console.error('Error loading workout signups:', error);\n    }\n  };\n  const loadWorkoutWaitlists = async workouts => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n      const waitlistData = {};\n      for (const workout of workouts) {\n        const waitlistResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/waitlist`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (waitlistResponse.ok) {\n          const data = await waitlistResponse.json();\n          waitlistData[workout.id] = data.waitlist || [];\n        }\n      }\n      setWorkoutWaitlists(waitlistData);\n    } catch (error) {\n      console.error('Error loading workout waitlists:', error);\n    }\n  };\n  const handleWorkoutSignUp = async workoutId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Check if user is already signed up\n      const isCurrentlySignedUp = isUserSignedUp(workoutId);\n      if (!isCurrentlySignedUp) {\n        // Check capacity limit before allowing sign-up\n        const workout = workoutPosts.find(w => w.id === workoutId);\n        if (workout && workout.capacity) {\n          var _workoutSignups$worko;\n          const currentSignups = ((_workoutSignups$worko = workoutSignups[workoutId]) === null || _workoutSignups$worko === void 0 ? void 0 : _workoutSignups$worko.length) || 0;\n          if (currentSignups >= workout.capacity) {\n            alert(`Sorry, this workout is full! Maximum capacity: ${workout.capacity} people.`);\n            return;\n          }\n        }\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const result = await response.json();\n\n        // Update local signup state\n        if (result.signedUp) {\n          // Add current user to signups\n          setWorkoutSignups(prev => ({\n            ...prev,\n            [workoutId]: [...(prev[workoutId] || []), {\n              user_name: currentUser.name\n            }]\n          }));\n        } else {\n          // Remove current user from signups\n          setWorkoutSignups(prev => ({\n            ...prev,\n            [workoutId]: (prev[workoutId] || []).filter(s => s.user_name !== currentUser.name)\n          }));\n        }\n      } else {\n        const error = await response.json();\n        console.error('Error updating signup:', error.error);\n      }\n    } catch (error) {\n      console.error('Error updating signup:', error);\n    }\n  };\n  const isUserSignedUp = workoutId => {\n    var _workoutSignups$worko2;\n    return ((_workoutSignups$worko2 = workoutSignups[workoutId]) === null || _workoutSignups$worko2 === void 0 ? void 0 : _workoutSignups$worko2.some(signup => signup.user_name === currentUser.name)) || false;\n  };\n  const isWorkoutFull = workoutId => {\n    var _workoutSignups$worko3;\n    const workout = workoutPosts.find(w => w.id === workoutId);\n    if (!workout || !workout.capacity) return false;\n    const currentSignups = ((_workoutSignups$worko3 = workoutSignups[workoutId]) === null || _workoutSignups$worko3 === void 0 ? void 0 : _workoutSignups$worko3.length) || 0;\n    return currentSignups >= workout.capacity;\n  };\n  const handleSubmitWorkout = async e => {\n    e.preventDefault();\n    if (!workoutForm.title.trim() || !workoutForm.date || !workoutForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(workoutForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n\n    if (selectedDate <= today) {\n      alert('Please select a future date for your workout.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: workoutForm.title.trim(),\n          workoutType: workoutForm.type,\n          workoutDate: workoutForm.date,\n          content: workoutForm.content.trim(),\n          capacity: workoutForm.capacity ? parseInt(workoutForm.capacity) : null,\n          type: 'workout'\n        })\n      });\n      if (response.ok) {\n        const newPostData = await response.json();\n        setWorkoutPosts([newPostData.post, ...workoutPosts]);\n        setWorkoutForm({\n          title: '',\n          type: 'spin',\n          date: '',\n          content: '',\n          capacity: ''\n        });\n        setShowWorkoutForm(false);\n      } else {\n        console.error('Failed to create workout post');\n      }\n    } catch (error) {\n      console.error('Error creating workout post:', error);\n    }\n  };\n  const handleSubmitEvent = async e => {\n    e.preventDefault();\n    if (!eventForm.title.trim() || !eventForm.date || !eventForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(eventForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n\n    if (selectedDate <= today) {\n      alert('Please select a future date for your event.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/events`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: eventForm.title.trim(),\n          eventDate: eventForm.date,\n          content: eventForm.content.trim(),\n          type: 'event'\n        })\n      });\n      if (response.ok) {\n        const newPostData = await response.json();\n        setEventPosts([newPostData.post, ...eventPosts]);\n        setEventForm({\n          title: '',\n          date: '',\n          content: ''\n        });\n        setShowEventForm(false);\n      } else {\n        console.error('Failed to create event post');\n      }\n    } catch (error) {\n      console.error('Error creating event post:', error);\n    }\n  };\n  const handleLike = async postId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        // Reload posts to get updated like count\n        loadForumPosts();\n      } else {\n        console.error('Failed to like post');\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n  const handleDeleteWorkout = async postId => {\n    if (!window.confirm('Are you sure you want to delete this workout post?')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete workout post');\n      }\n    } catch (error) {\n      console.error('Error deleting workout post:', error);\n    }\n  };\n  const handleDeleteEvent = async postId => {\n    if (!window.confirm('Are you sure you want to delete this event post?')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/events/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete event post');\n      }\n    } catch (error) {\n      console.error('Error deleting event post:', error);\n    }\n  };\n\n  // Filter workouts based on selected filter\n  const getFilteredWorkouts = () => {\n    if (workoutFilter === 'all') {\n      return workoutPosts;\n    }\n    return workoutPosts.filter(post => {\n      switch (workoutFilter) {\n        case 'bike':\n          return post.workout_type === 'spin' || post.workout_type === 'outdoor-ride' || post.workout_type === 'brick';\n        case 'swim':\n          return post.workout_type === 'swim';\n        case 'run':\n          return post.workout_type === 'run';\n        default:\n          return true;\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 12\n    }, this);\n  }\n  if (!currentUser) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forum-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"section-title\",\n        children: \"Team Forum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-subtitle\",\n        children: \"Connect with your teammates and discuss training, races, and more!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forum-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'workouts' ? 'active' : ''}`,\n          onClick: () => setActiveTab('workouts'),\n          children: \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F Workouts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'events' ? 'active' : ''}`,\n          onClick: () => setActiveTab('events'),\n          children: \"\\uD83C\\uDF89 Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), activeTab === 'workouts' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workouts-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Workout Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this), isExec(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-post-btn\",\n            onClick: () => setShowWorkoutForm(true),\n            children: \"+ New Workout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workout-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'all' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('all'),\n            children: \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F All Workouts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'bike' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('bike'),\n            children: \"\\uD83D\\uDEB4\\u200D\\u2642\\uFE0F Bike (Indoor/Outdoor/Brick)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'swim' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('swim'),\n            children: \"\\uD83C\\uDFCA\\u200D\\u2642\\uFE0F Swim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'run' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('run'),\n            children: \"\\uD83C\\uDFC3\\u200D\\u2640\\uFE0F Run\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), getFilteredWorkouts().length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-posts\",\n          children: workoutPosts.length === 0 ? 'No workout posts yet.' : `No ${workoutFilter === 'all' ? '' : workoutFilter} workouts found.`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-list\",\n          children: getFilteredWorkouts().map(post => {\n            var _workoutSignups$post$, _workoutSignups$post$2;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-card workout-post\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-header\",\n                children: [post.title && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-title\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `/workout/${post.id}`,\n                      className: \"workout-title-link\",\n                      children: post.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 510,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 509,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 25\n                }, this), currentUser.id === post.user_id && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"delete-btn\",\n                  onClick: () => handleDeleteWorkout(post.id),\n                  children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-author\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"author-info\",\n                  children: [post.authorProfilePictureUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `http://localhost:5001${post.authorProfilePictureUrl}`,\n                    alt: \"Profile\",\n                    className: \"author-avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"author-avatar-placeholder\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: post.author_name ? post.author_name.charAt(0).toUpperCase() : 'U'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"author-name\",\n                    children: [\"Posted by \", post.author_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 21\n              }, this), post.workout_type && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"workout-type-badge\",\n                  children: post.workout_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 25\n                }, this), post.workout_date && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"workout-date\",\n                  children: [\"\\uD83D\\uDCC5 \", new Date(post.workout_date).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-signup-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `signup-btn ${isUserSignedUp(post.id) ? 'signed-up' : ''} ${isWorkoutFull(post.id) ? 'full' : ''}`,\n                  onClick: () => handleWorkoutSignUp(post.id),\n                  disabled: isWorkoutFull(post.id) && !isUserSignedUp(post.id),\n                  children: isUserSignedUp(post.id) ? '✓ Signed Up' : isWorkoutFull(post.id) ? 'Full' : 'Sign Up'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 558,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"signup-count\",\n                  children: [post.capacity ? `${((_workoutSignups$post$ = workoutSignups[post.id]) === null || _workoutSignups$post$ === void 0 ? void 0 : _workoutSignups$post$.length) || 0}/${post.capacity} signed up` : `${((_workoutSignups$post$2 = workoutSignups[post.id]) === null || _workoutSignups$post$2 === void 0 ? void 0 : _workoutSignups$post$2.length) || 0} signed up`, post.capacity && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `capacity-status ${isWorkoutFull(post.id) ? 'full' : 'available'}`,\n                    children: isWorkoutFull(post.id) ? ' (Full)' : ' (Available)'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 571,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 21\n              }, this)]\n            }, post.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }, this), activeTab === 'events' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"events-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Event Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 15\n          }, this), isExec(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-post-btn\",\n            onClick: () => setShowEventForm(true),\n            children: \"+ New Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this), eventPosts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-posts\",\n          children: \"No event posts yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-list\",\n          children: eventPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-card event-post\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-header\",\n              children: [post.title && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `/event/${post.id}`,\n                    className: \"event-title-link\",\n                    children: post.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 25\n              }, this), currentUser.id === post.user_id && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-btn\",\n                onClick: () => handleDeleteEvent(post.id),\n                children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-author\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"author-info\",\n                children: [post.authorProfilePictureUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `http://localhost:5001${post.authorProfilePictureUrl}`,\n                  alt: \"Profile\",\n                  className: \"author-avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"author-avatar-placeholder\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: post.author_name ? post.author_name.charAt(0).toUpperCase() : 'U'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 638,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 637,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"author-name\",\n                  children: [\"Posted by \", post.author_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 21\n            }, this), post.event_date && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-meta\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"event-date\",\n                children: [\"\\uD83D\\uDCC5 \", new Date(post.event_date).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rsvp-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn going\",\n                  children: \"Going\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn maybe\",\n                  children: \"Maybe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 656,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn not-going\",\n                  children: \"Not Going\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 657,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 653,\n              columnNumber: 21\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }, this), showWorkoutForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create New Workout Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmitWorkout,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: workoutForm.title,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  title: e.target.value\n                }),\n                placeholder: \"e.g., Tuesday Morning Swim, Weekend Long Run\",\n                maxLength: \"100\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 675,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: workoutForm.type,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  type: e.target.value\n                }),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"spin\",\n                  children: \"Spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"outdoor-ride\",\n                  children: \"Outdoor Ride\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"run\",\n                  children: \"Run\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"swim\",\n                  children: \"Swim\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"brick\",\n                  children: \"Brick (Bike + Run)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 702,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: workoutForm.date,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  date: e.target.value\n                }),\n                min: new Date().toISOString().split('T')[0],\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Additional Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: workoutForm.content,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  content: e.target.value\n                }),\n                placeholder: \"Describe the workout, time, location, requirements, what to bring...\",\n                rows: \"4\",\n                maxLength: \"500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"char-count\",\n                children: [workoutForm.content.length, \"/500\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Capacity (Optional):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: workoutForm.capacity,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  capacity: e.target.value\n                }),\n                placeholder: \"Leave empty for unlimited spots\",\n                min: \"1\",\n                max: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 727,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Maximum number of people who can sign up. Leave empty for unlimited spots.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Post Workout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowWorkoutForm(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 740,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 11\n      }, this), showEventForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create New Event Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmitEvent,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: eventForm.title,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  title: e.target.value\n                }),\n                placeholder: \"e.g., Club Social Night, Race Watch Party\",\n                maxLength: \"100\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 755,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: eventForm.date,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  date: e.target.value\n                }),\n                min: new Date().toISOString().split('T')[0],\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: eventForm.content,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  content: e.target.value\n                }),\n                placeholder: \"Describe the event, time, location, what to bring, RSVP details...\",\n                rows: \"4\",\n                maxLength: \"500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"char-count\",\n                children: [eventForm.content.length, \"/500\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 786,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 776,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Post Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowEventForm(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 791,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 434,\n    columnNumber: 5\n  }, this);\n};\n_s(Forum, \"i0IWH7FeAeviFgyLHPJ/Mo/058E=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Forum;\nexport default Forum;\nvar _c;\n$RefreshReg$(_c, \"Forum\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","jsxDEV","_jsxDEV","Forum","_s","currentUser","isMember","isExec","getUserRole","navigate","activeTab","setActiveTab","workoutPosts","setWorkoutPosts","eventPosts","setEventPosts","newWorkout","setNewWorkout","newEvent","setNewEvent","loading","setLoading","showWorkoutForm","setShowWorkoutForm","showEventForm","setShowEventForm","workoutFilter","setWorkoutFilter","workoutForm","setWorkoutForm","title","type","date","content","capacity","eventForm","setEventForm","workoutSignups","setWorkoutSignups","workoutWaitlists","setWorkoutWaitlists","API_BASE_URL","loadForumPosts","token","localStorage","getItem","console","error","workoutResponse","fetch","headers","ok","workoutData","json","posts","loadWorkoutSignups","loadWorkoutWaitlists","eventResponse","eventData","workouts","signupsData","workout","signupsResponse","id","data","signups","waitlistData","waitlistResponse","waitlist","handleWorkoutSignUp","workoutId","isCurrentlySignedUp","isUserSignedUp","find","w","_workoutSignups$worko","currentSignups","length","alert","response","method","result","signedUp","prev","user_name","name","filter","s","_workoutSignups$worko2","some","signup","isWorkoutFull","_workoutSignups$worko3","handleSubmitWorkout","e","preventDefault","trim","selectedDate","Date","today","setHours","body","JSON","stringify","workoutType","workoutDate","parseInt","newPostData","post","handleSubmitEvent","eventDate","handleLike","postId","handleDeleteWorkout","window","confirm","handleDeleteEvent","getFilteredWorkouts","workout_type","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","_workoutSignups$post$","_workoutSignups$post$2","href","user_id","authorProfilePictureUrl","src","alt","author_name","charAt","toUpperCase","workout_date","toLocaleDateString","disabled","event_date","onSubmit","value","onChange","target","placeholder","maxLength","required","min","toISOString","split","rows","max","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Forum.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport './Forum.css';\n\nconst Forum = () => {\n  const { currentUser, isMember, isExec, getUserRole } = useAuth();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('workouts');\n  const [workoutPosts, setWorkoutPosts] = useState([]);\n  const [eventPosts, setEventPosts] = useState([]);\n  const [newWorkout, setNewWorkout] = useState('');\n  const [newEvent, setNewEvent] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showWorkoutForm, setShowWorkoutForm] = useState(false);\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [workoutForm, setWorkoutForm] = useState({\n    title: '',\n    type: 'spin',\n    date: '',\n    content: '',\n    capacity: ''\n  });\n  const [eventForm, setEventForm] = useState({\n    title: '',\n    date: '',\n    content: ''\n  });\n  const [workoutSignups, setWorkoutSignups] = useState({});\n  const [workoutWaitlists, setWorkoutWaitlists] = useState({});\n\n  const API_BASE_URL = 'http://localhost:5001/api';\n\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    \n    // Check if user has member access or higher\n    if (!isMember(currentUser)) {\n      navigate('/login');\n      return;\n    }\n    \n    // Load forum posts from backend API\n    loadForumPosts();\n  }, [currentUser, navigate, isMember]);\n\n  const loadForumPosts = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load workout posts\n      const workoutResponse = await fetch(`${API_BASE_URL}/forum/workouts`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (workoutResponse.ok) {\n        const workoutData = await workoutResponse.json();\n        setWorkoutPosts(workoutData.posts || []);\n        \n        // Load signup data for all workouts\n        await loadWorkoutSignups(workoutData.posts || []);\n        // Load waitlist data for all workouts\n        await loadWorkoutWaitlists(workoutData.posts || []);\n      }\n\n      // Load event posts\n      const eventResponse = await fetch(`${API_BASE_URL}/forum/events`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (eventResponse.ok) {\n        const eventData = await eventResponse.json();\n        setEventPosts(eventData.posts || []);\n      }\n    } catch (error) {\n      console.error('Error loading forum posts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadWorkoutSignups = async (workouts) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n\n      const signupsData = {};\n      \n      for (const workout of workouts) {\n        const signupsResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/signups`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        \n        if (signupsResponse.ok) {\n          const data = await signupsResponse.json();\n          signupsData[workout.id] = data.signups || [];\n        }\n      }\n      \n      setWorkoutSignups(signupsData);\n    } catch (error) {\n      console.error('Error loading workout signups:', error);\n    }\n  };\n\n  const loadWorkoutWaitlists = async (workouts) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n\n      const waitlistData = {};\n      \n      for (const workout of workouts) {\n        const waitlistResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/waitlist`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (waitlistResponse.ok) {\n          const data = await waitlistResponse.json();\n          waitlistData[workout.id] = data.waitlist || [];\n        }\n      }\n      \n      setWorkoutWaitlists(waitlistData);\n    } catch (error) {\n      console.error('Error loading workout waitlists:', error);\n    }\n  };\n\n  const handleWorkoutSignUp = async (workoutId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Check if user is already signed up\n      const isCurrentlySignedUp = isUserSignedUp(workoutId);\n      \n      if (!isCurrentlySignedUp) {\n        // Check capacity limit before allowing sign-up\n        const workout = workoutPosts.find(w => w.id === workoutId);\n        if (workout && workout.capacity) {\n          const currentSignups = workoutSignups[workoutId]?.length || 0;\n          if (currentSignups >= workout.capacity) {\n            alert(`Sorry, this workout is full! Maximum capacity: ${workout.capacity} people.`);\n            return;\n          }\n        }\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        \n        // Update local signup state\n        if (result.signedUp) {\n          // Add current user to signups\n          setWorkoutSignups(prev => ({\n            ...prev,\n            [workoutId]: [...(prev[workoutId] || []), { user_name: currentUser.name }]\n          }));\n        } else {\n          // Remove current user from signups\n          setWorkoutSignups(prev => ({\n            ...prev,\n            [workoutId]: (prev[workoutId] || []).filter(s => s.user_name !== currentUser.name)\n          }));\n        }\n      } else {\n        const error = await response.json();\n        console.error('Error updating signup:', error.error);\n      }\n    } catch (error) {\n      console.error('Error updating signup:', error);\n    }\n  };\n\n  const isUserSignedUp = (workoutId) => {\n    return workoutSignups[workoutId]?.some(signup => signup.user_name === currentUser.name) || false;\n  };\n\n  const isWorkoutFull = (workoutId) => {\n    const workout = workoutPosts.find(w => w.id === workoutId);\n    if (!workout || !workout.capacity) return false;\n    const currentSignups = workoutSignups[workoutId]?.length || 0;\n    return currentSignups >= workout.capacity;\n  };\n\n  const handleSubmitWorkout = async (e) => {\n    e.preventDefault();\n    if (!workoutForm.title.trim() || !workoutForm.date || !workoutForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(workoutForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n    \n    if (selectedDate <= today) {\n      alert('Please select a future date for your workout.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: workoutForm.title.trim(),\n          workoutType: workoutForm.type,\n          workoutDate: workoutForm.date,\n          content: workoutForm.content.trim(),\n          capacity: workoutForm.capacity ? parseInt(workoutForm.capacity) : null,\n          type: 'workout'\n        })\n      });\n\n      if (response.ok) {\n        const newPostData = await response.json();\n        setWorkoutPosts([newPostData.post, ...workoutPosts]);\n        setWorkoutForm({\n          title: '',\n          type: 'spin',\n          date: '',\n          content: '',\n          capacity: ''\n        });\n        setShowWorkoutForm(false);\n      } else {\n        console.error('Failed to create workout post');\n      }\n    } catch (error) {\n        console.error('Error creating workout post:', error);\n    }\n  };\n\n  const handleSubmitEvent = async (e) => {\n    e.preventDefault();\n    if (!eventForm.title.trim() || !eventForm.date || !eventForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(eventForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n    \n    if (selectedDate <= today) {\n      alert('Please select a future date for your event.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/events`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: eventForm.title.trim(),\n          eventDate: eventForm.date,\n          content: eventForm.content.trim(),\n          type: 'event'\n        })\n      });\n\n      if (response.ok) {\n        const newPostData = await response.json();\n        setEventPosts([newPostData.post, ...eventPosts]);\n        setEventForm({\n          title: '',\n          date: '',\n          content: ''\n        });\n        setShowEventForm(false);\n      } else {\n        console.error('Failed to create event post');\n      }\n    } catch (error) {\n      console.error('Error creating event post:', error);\n    }\n  };\n\n  const handleLike = async (postId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Reload posts to get updated like count\n        loadForumPosts();\n      } else {\n        console.error('Failed to like post');\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n\n  const handleDeleteWorkout = async (postId) => {\n    if (!window.confirm('Are you sure you want to delete this workout post?')) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete workout post');\n      }\n    } catch (error) {\n      console.error('Error deleting workout post:', error);\n    }\n  };\n\n  const handleDeleteEvent = async (postId) => {\n    if (!window.confirm('Are you sure you want to delete this event post?')) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/events/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete event post');\n      }\n    } catch (error) {\n      console.error('Error deleting event post:', error);\n    }\n  };\n\n  // Filter workouts based on selected filter\n  const getFilteredWorkouts = () => {\n    if (workoutFilter === 'all') {\n      return workoutPosts;\n    }\n    \n    return workoutPosts.filter(post => {\n      switch (workoutFilter) {\n        case 'bike':\n          return post.workout_type === 'spin' || post.workout_type === 'outdoor-ride' || post.workout_type === 'brick';\n        case 'swim':\n          return post.workout_type === 'swim';\n        case 'run':\n          return post.workout_type === 'run';\n        default:\n          return true;\n      }\n    });\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <div className=\"forum-container\">\n      <div className=\"container\">\n        <h1 className=\"section-title\">Team Forum</h1>\n        <p className=\"section-subtitle\">Connect with your teammates and discuss training, races, and more!</p>\n        \n        {/* Forum Tabs */}\n        <div className=\"forum-tabs\">\n          <button \n            className={`tab-button ${activeTab === 'workouts' ? 'active' : ''}`}\n            onClick={() => setActiveTab('workouts')}\n          >\n            🏃‍♂️ Workouts\n          </button>\n          <button \n            className={`tab-button ${activeTab === 'events' ? 'active' : ''}`}\n            onClick={() => setActiveTab('events')}\n          >\n            🎉 Events\n          </button>\n        </div>\n\n        {/* Workouts Section */}\n        {activeTab === 'workouts' && (\n          <div className=\"workouts-section\">\n            <div className=\"section-header\">\n              <h2>Workout Posts</h2>\n              {isExec(currentUser) && (\n                <button \n                  className=\"new-post-btn\"\n                  onClick={() => setShowWorkoutForm(true)}\n                >\n                  + New Workout\n                </button>\n              )}\n            </div>\n\n            {/* Workout Filter Buttons */}\n            <div className=\"workout-filters\">\n              <button \n                className={`filter-btn ${workoutFilter === 'all' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('all')}\n              >\n                🏃‍♂️ All Workouts\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'bike' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('bike')}\n              >\n                🚴‍♂️ Bike (Indoor/Outdoor/Brick)\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'swim' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('swim')}\n              >\n                🏊‍♂️ Swim\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'run' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('run')}\n              >\n                🏃‍♀️ Run\n              </button>\n            </div>\n\n            {getFilteredWorkouts().length === 0 ? (\n              <p className=\"no-posts\">\n                {workoutPosts.length === 0 ? 'No workout posts yet.' : `No ${workoutFilter === 'all' ? '' : workoutFilter} workouts found.`}\n              </p>\n            ) : (\n              <div className=\"posts-list\">\n                {getFilteredWorkouts().map(post => (\n                  <div key={post.id} className=\"post-card workout-post\">\n                    <div className=\"post-header\">\n                      {post.title && (\n                        <div className=\"workout-title\">\n                          <h2>\n                            <a href={`/workout/${post.id}`} className=\"workout-title-link\">\n                              {post.title}\n                            </a>\n                          </h2>\n                        </div>\n                      )}\n                      \n                      {/* Delete button for workout author */}\n                      {currentUser.id === post.user_id && (\n                        <button \n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteWorkout(post.id)}\n                        >\n                          🗑️ Delete\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"workout-author\">\n                      <div className=\"author-info\">\n                        {post.authorProfilePictureUrl ? (\n                          <img \n                            src={`http://localhost:5001${post.authorProfilePictureUrl}`} \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                          />\n                        ) : (\n                          <div className=\"author-avatar-placeholder\">\n                            <span>{post.author_name ? post.author_name.charAt(0).toUpperCase() : 'U'}</span>\n                          </div>\n                        )}\n                        <span className=\"author-name\">Posted by {post.author_name}</span>\n                      </div>\n                    </div>\n                    \n                    {post.workout_type && (\n                      <div className=\"workout-meta\">\n                        <span className=\"workout-type-badge\">{post.workout_type}</span>\n                        {post.workout_date && (\n                          <span className=\"workout-date\">\n                            📅 {new Date(post.workout_date).toLocaleDateString()}\n                          </span>\n                        )}\n                      </div>\n                    )}\n\n                    {/* Sign-up button positioned at bottom right */}\n                    <div className=\"workout-signup-section\">\n                      <button \n                        className={`signup-btn ${isUserSignedUp(post.id) ? 'signed-up' : ''} ${isWorkoutFull(post.id) ? 'full' : ''}`}\n                        onClick={() => handleWorkoutSignUp(post.id)}\n                        disabled={isWorkoutFull(post.id) && !isUserSignedUp(post.id)}\n                      >\n                        {isUserSignedUp(post.id) ? '✓ Signed Up' : isWorkoutFull(post.id) ? 'Full' : 'Sign Up'}\n                      </button>\n                      <span className=\"signup-count\">\n                        {post.capacity \n                          ? `${workoutSignups[post.id]?.length || 0}/${post.capacity} signed up`\n                          : `${workoutSignups[post.id]?.length || 0} signed up`\n                        }\n                        {post.capacity && (\n                          <span className={`capacity-status ${isWorkoutFull(post.id) ? 'full' : 'available'}`}>\n                            {isWorkoutFull(post.id) ? ' (Full)' : ' (Available)'}\n                          </span>\n                        )}\n                      </span>\n                    </div>\n\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Events Section */}\n        {activeTab === 'events' && (\n          <div className=\"events-section\">\n            <div className=\"section-header\">\n              <h2>Event Posts</h2>\n              {isExec(currentUser) && (\n                <button \n                  className=\"new-post-btn\"\n                  onClick={() => setShowEventForm(true)}\n                >\n                  + New Event\n                </button>\n              )}\n            </div>\n\n            {eventPosts.length === 0 ? (\n              <p className=\"no-posts\">No event posts yet.</p>\n            ) : (\n              <div className=\"posts-list\">\n                {eventPosts.map(post => (\n                  <div key={post.id} className=\"post-card event-post\">\n                    <div className=\"post-header\">\n                      {post.title && (\n                        <div className=\"event-title\">\n                          <h3>\n                            <a href={`/event/${post.id}`} className=\"event-title-link\">\n                              {post.title}\n                            </a>\n                          </h3>\n                        </div>\n                      )}\n                      \n                      {/* Delete button for event author */}\n                      {currentUser.id === post.user_id && (\n                        <button \n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteEvent(post.id)}\n                        >\n                          🗑️ Delete\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"event-author\">\n                      <div className=\"author-info\">\n                        {post.authorProfilePictureUrl ? (\n                          <img \n                            src={`http://localhost:5001${post.authorProfilePictureUrl}`} \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                          />\n                        ) : (\n                          <div className=\"author-avatar-placeholder\">\n                            <span>{post.author_name ? post.author_name.charAt(0).toUpperCase() : 'U'}</span>\n                          </div>\n                        )}\n                        <span className=\"author-name\">Posted by {post.author_name}</span>\n                      </div>\n                    </div>\n                    \n                    {post.event_date && (\n                      <div className=\"event-meta\">\n                        <span className=\"event-date\">\n                          📅 {new Date(post.event_date).toLocaleDateString()}\n                        </span>\n                      </div>\n                    )}\n                    \n                    <div className=\"post-footer\">\n                      <div className=\"rsvp-buttons\">\n                        <button className=\"rsvp-btn going\">Going</button>\n                        <button className=\"rsvp-btn maybe\">Maybe</button>\n                        <button className=\"rsvp-btn not-going\">Not Going</button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Workout Creation Modal */}\n        {showWorkoutForm && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal\">\n              <h2>Create New Workout Post</h2>\n              <form onSubmit={handleSubmitWorkout}>\n                <div className=\"form-group\">\n                  <label>Workout Title:</label>\n                  <input\n                    type=\"text\"\n                    value={workoutForm.title}\n                    onChange={(e) => setWorkoutForm({...workoutForm, title: e.target.value})}\n                    placeholder=\"e.g., Tuesday Morning Swim, Weekend Long Run\"\n                    maxLength=\"100\"\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Workout Type:</label>\n                  <select\n                    value={workoutForm.type}\n                    onChange={(e) => setWorkoutForm({...workoutForm, type: e.target.value})}\n                    required\n                  >\n                    <option value=\"spin\">Spin</option>\n                    <option value=\"outdoor-ride\">Outdoor Ride</option>\n                    <option value=\"run\">Run</option>\n                    <option value=\"swim\">Swim</option>\n                    <option value=\"brick\">Brick (Bike + Run)</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Workout Date:</label>\n                  <input\n                    type=\"date\"\n                    value={workoutForm.date}\n                    onChange={(e) => setWorkoutForm({...workoutForm, date: e.target.value})}\n                    min={new Date().toISOString().split('T')[0]}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Additional Details:</label>\n                  <textarea\n                    value={workoutForm.content}\n                    onChange={(e) => setWorkoutForm({...workoutForm, content: e.target.value})}\n                    placeholder=\"Describe the workout, time, location, requirements, what to bring...\"\n                    rows=\"4\"\n                    maxLength=\"500\"\n                    required\n                  />\n                  <small className=\"char-count\">{workoutForm.content.length}/500</small>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Capacity (Optional):</label>\n                  <input\n                    type=\"number\"\n                    value={workoutForm.capacity}\n                    onChange={(e) => setWorkoutForm({...workoutForm, capacity: e.target.value})}\n                    placeholder=\"Leave empty for unlimited spots\"\n                    min=\"1\"\n                    max=\"100\"\n                  />\n                  <small>Maximum number of people who can sign up. Leave empty for unlimited spots.</small>\n                </div>\n\n                <div className=\"modal-actions\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Post Workout</button>\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowWorkoutForm(false)}>Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Event Creation Modal */}\n        {showEventForm && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal\">\n              <h2>Create New Event Post</h2>\n              <form onSubmit={handleSubmitEvent}>\n                <div className=\"form-group\">\n                  <label>Event Title:</label>\n                  <input\n                    type=\"text\"\n                    value={eventForm.title}\n                    onChange={(e) => setEventForm({...eventForm, title: e.target.value})}\n                    placeholder=\"e.g., Club Social Night, Race Watch Party\"\n                    maxLength=\"100\"\n                    required\n                  />\n                </div>\n\n                                <div className=\"form-group\">\n                  <label>Event Date:</label>\n                  <input\n                    type=\"date\"\n                    value={eventForm.date}\n                    onChange={(e) => setEventForm({...eventForm, date: e.target.value})}\n                    min={new Date().toISOString().split('T')[0]}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Event Details:</label>\n                  <textarea\n                    value={eventForm.content}\n                    onChange={(e) => setEventForm({...eventForm, content: e.target.value})}\n                    placeholder=\"Describe the event, time, location, what to bring, RSVP details...\"\n                    rows=\"4\"\n                    maxLength=\"500\"\n                    required\n                  />\n                  <small className=\"char-count\">{eventForm.content.length}/500</small>\n                </div>\n\n                <div className=\"modal-actions\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Post Event</button>\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowEventForm(false)}>Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Forum;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}