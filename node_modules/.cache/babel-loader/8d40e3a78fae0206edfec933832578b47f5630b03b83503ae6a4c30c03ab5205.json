{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/TeamGear.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './TeamGear.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TeamGear = () => {\n  _s();\n  var _orderSelections$sele2, _orderSelections$sele3;\n  const {\n    currentUser,\n    isAdmin\n  } = useAuth();\n  const API_BASE = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const [gearItems, setGearItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // State to track current image index for each gear item\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\n\n  // Admin edit modal state\n  const [editingItem, setEditingItem] = useState(null);\n  const [editForm, setEditForm] = useState({\n    title: '',\n    price: '',\n    description: ''\n  });\n  const [newImages, setNewImages] = useState([]);\n  const [saving, setSaving] = useState(false);\n  const [currentImages, setCurrentImages] = useState([]);\n  // Simple per-item selection for ordering options\n  const [orderSelections, setOrderSelections] = useState({}); // { [itemId]: { fit: 'mens'|'womens', size: 'xs'|'s'|'m'|'l'|'xl'|'2xl' } }\n\n  // Admin add modal state\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addForm, setAddForm] = useState({\n    title: '',\n    price: '',\n    description: ''\n  });\n  const [adding, setAdding] = useState(false);\n\n  // Lightbox (enlarge) state\n  const [lightboxItem, setLightboxItem] = useState(null);\n  const [lightboxIndex, setLightboxIndex] = useState(0);\n\n  // Order confirmation modal state\n  const [showOrderModal, setShowOrderModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [orderSubmitting, setOrderSubmitting] = useState(false);\n  const [orderEmail, setOrderEmail] = useState('');\n  const [orderEmailConfirm, setOrderEmailConfirm] = useState('');\n  const [orderError, setOrderError] = useState('');\n  const normalizeImageUrl = url => {\n    if (!url) {\n      console.log('🖼️ [NORMALIZE] No URL provided, using placeholder');\n      return '/images/placeholder-gear.svg';\n    }\n    console.log('🖼️ [NORMALIZE] Processing URL:', url);\n    if (url.startsWith('/uploads/')) {\n      const normalized = `${API_BASE}/..${url}`;\n      console.log('🖼️ [NORMALIZE] Uploads URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('/api/')) {\n      const normalized = `${API_BASE.replace('/api', '')}${url}`;\n      console.log('🖼️ [NORMALIZE] API URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('http')) {\n      console.log('🖼️ [NORMALIZE] Full URL ->', url);\n      return url;\n    }\n    console.log('🖼️ [NORMALIZE] Fallback to placeholder for:', url);\n    return '/images/placeholder-gear.svg';\n  };\n\n  // Fetch gear items from backend\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`${API_BASE}/gear`);\n        if (!res.ok) throw new Error('Failed to load gear');\n        const data = await res.json();\n        const items = (data.items || []).map(item => ({\n          ...item,\n          images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n        }));\n        setGearItems(items);\n      } catch (e) {\n        setError('Failed to load team gear');\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [API_BASE]);\n\n  // Navigation functions\n  const goToPreviousImage = itemId => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === 0 ? item.images.length - 1 : currentIndex - 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n  const goToNextImage = itemId => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === item.images.length - 1 ? 0 : currentIndex + 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  // Get current image for an item\n  const getCurrentImage = item => {\n    const currentIndex = currentImageIndex[item.id] || 0;\n    const src = item.images[currentIndex] || item.images[0] || '/images/placeholder-gear.svg';\n    return normalizeImageUrl(src);\n  };\n\n  // Lightbox helpers\n  const openLightbox = (item, index = 0) => {\n    setLightboxItem(item);\n    setLightboxIndex(index);\n    document.body.style.overflow = 'hidden';\n  };\n  const closeLightbox = () => {\n    setLightboxItem(null);\n    setLightboxIndex(0);\n    document.body.style.overflow = '';\n  };\n  const lightboxPrev = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex(prev => prev === 0 ? len - 1 : prev - 1);\n  };\n  const lightboxNext = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex(prev => prev === len - 1 ? 0 : prev + 1);\n  };\n\n  // Edit handlers\n  const openEditModal = item => {\n    console.log('📝 [GEAR EDIT] Opening modal for item:', item);\n    setEditingItem(item);\n    setEditForm({\n      title: item.title || '',\n      price: item.price || '',\n      description: item.description || ''\n    });\n    setCurrentImages([...(item.images || [])]);\n    setNewImages([]);\n  };\n  const closeEditModal = () => {\n    setEditingItem(null);\n    setNewImages([]);\n    setCurrentImages([]);\n    setSaving(false);\n  };\n  const handleFilesChange = e => {\n    const files = Array.from(e.target.files || []);\n    console.log('📁 [GEAR FILES] Selected files:', files.map(f => ({\n      name: f.name,\n      size: f.size,\n      type: f.type\n    })));\n    setNewImages(files);\n  };\n\n  // Image management functions\n  const removeImage = async imageUrl => {\n    if (!editingItem) return;\n\n    // Don't try to delete placeholder images\n    if (imageUrl.includes('placeholder-gear.svg') || imageUrl.includes('/images/')) {\n      console.log('🗑️ [FRONTEND] Skipping placeholder image deletion:', imageUrl);\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n      return;\n    }\n    try {\n      console.log('🗑️ [FRONTEND] Attempting to remove image:', imageUrl);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          imageUrl\n        })\n      });\n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({}));\n        console.error('❌ [FRONTEND] Delete image failed:', res.status, errorData);\n        throw new Error(errorData.error || `Failed to remove image (${res.status})`);\n      }\n      const result = await res.json();\n      console.log('✅ [FRONTEND] Image removed successfully:', result);\n\n      // Update local state\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n    } catch (e) {\n      console.error('❌ [FRONTEND] Error removing image:', e);\n      alert(`Failed to remove image: ${e.message}`);\n    }\n  };\n  const moveImageUp = index => {\n    if (index === 0) return;\n    const newImages = [...currentImages];\n    [newImages[index - 1], newImages[index]] = [newImages[index], newImages[index - 1]];\n    setCurrentImages(newImages);\n  };\n  const moveImageDown = index => {\n    if (index === currentImages.length - 1) return;\n    const newImages = [...currentImages];\n    [newImages[index], newImages[index + 1]] = [newImages[index + 1], newImages[index]];\n    setCurrentImages(newImages);\n  };\n\n  // Add new gear item\n  const addGearItem = async () => {\n    if (!addForm.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    try {\n      setAdding(true);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(addForm)\n      });\n      if (!res.ok) throw new Error('Failed to create gear item');\n\n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      setShowAddModal(false);\n      setAddForm({\n        title: '',\n        price: '',\n        description: ''\n      });\n    } catch (e) {\n      console.error('Error adding gear item:', e);\n      alert('Failed to add gear item');\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Delete gear item\n  const deleteGearItem = async itemId => {\n    if (!window.confirm('Are you sure you want to delete this gear item? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error('Failed to delete gear item');\n\n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      closeEditModal();\n    } catch (e) {\n      console.error('Error deleting gear item:', e);\n      alert('Failed to delete gear item');\n    }\n  };\n  const saveEdit = async () => {\n    console.log('🚀 [GEAR SAVE] Function called, editingItem:', editingItem);\n    if (!editingItem) return;\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('triathlonToken');\n      console.log('🔑 [GEAR SAVE] Token exists:', !!token);\n\n      // Update fields including reordered images\n      console.log('📤 [GEAR SAVE] PUT details', editForm);\n      console.log('📤 [GEAR SAVE] Current images order:', currentImages);\n      const putRes = await fetch(`${API_BASE}/gear/${editingItem.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: editForm.title,\n          price: editForm.price,\n          description: editForm.description,\n          images: currentImages\n        })\n      });\n      if (!putRes.ok) throw new Error('Failed to save gear details');\n\n      // Upload new images if any\n      if (newImages.length > 0) {\n        const formData = new FormData();\n        newImages.forEach(f => formData.append('images', f));\n        console.log('📤 [GEAR SAVE] POST images', newImages.map(f => ({\n          name: f.name,\n          size: f.size,\n          type: f.type\n        })));\n        const imgRes = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (!imgRes.ok) throw new Error('Failed to upload images');\n        const imgJson = await imgRes.json().catch(() => null);\n        console.log('✅ [GEAR SAVE] Images response:', imgJson);\n\n        // Update currentImages with the new images from server\n        if (imgJson && imgJson.images) {\n          setCurrentImages(imgJson.images);\n          console.log('🔄 [GEAR SAVE] Updated currentImages with server response:', imgJson.images);\n        }\n      }\n\n      // Refetch list\n      console.log('🔄 [GEAR SAVE] Refetch gear list');\n      const res = await fetch(`${API_BASE}/gear`);\n      const data = await res.json();\n      const updatedItems = (data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      }));\n      setGearItems(updatedItems);\n      console.log('✅ [GEAR SAVE] Updated gear items:', updatedItems);\n      closeEditModal();\n    } catch (e) {\n      console.error(e);\n      alert(e.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Order confirmation handlers\n  const handleOrderClick = item => {\n    setSelectedItem(item);\n    setShowOrderModal(true);\n  };\n  const closeOrderModal = () => {\n    setShowOrderModal(false);\n    setSelectedItem(null);\n    setOrderEmail('');\n    setOrderEmailConfirm('');\n    setOrderError('');\n  };\n  const submitOrder = async () => {\n    if (!selectedItem || !currentUser) return;\n    // Validate email confirmation\n    const emailToUse = (orderEmail || '').trim();\n    const emailConfirmToUse = (orderEmailConfirm || '').trim();\n    const emailRegex = /[^\\s@]+@[^\\s@]+\\.[^\\s@]+/;\n    if (!emailRegex.test(emailToUse)) {\n      setOrderError('Please enter a valid email address.');\n      return;\n    }\n    if (emailToUse !== emailConfirmToUse) {\n      setOrderError('Emails do not match.');\n      return;\n    }\n    setOrderError('');\n    setOrderSubmitting(true);\n    try {\n      var _currentUser$name, _currentUser$name2, _orderSelections$sele;\n      const token = localStorage.getItem('triathlonToken');\n      const orderData = {\n        firstName: currentUser.first_name || ((_currentUser$name = currentUser.name) === null || _currentUser$name === void 0 ? void 0 : _currentUser$name.split(' ')[0]) || '',\n        lastName: currentUser.last_name || ((_currentUser$name2 = currentUser.name) === null || _currentUser$name2 === void 0 ? void 0 : _currentUser$name2.split(' ').slice(1).join(' ')) || '',\n        email: emailToUse,\n        item: selectedItem.title,\n        size: ((_orderSelections$sele = orderSelections[selectedItem.id]) === null || _orderSelections$sele === void 0 ? void 0 : _orderSelections$sele.size) || '',\n        quantity: 1\n      };\n      const response = await fetch(`${API_BASE}/merch-orders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to submit order');\n      }\n      alert('Order submitted successfully! You will receive an invoice email shortly.');\n      closeOrderModal();\n    } catch (error) {\n      console.error('Order submission error:', error);\n      alert('Failed to submit order. Please try again.');\n    } finally {\n      setOrderSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container teamgear-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Team Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"page-description\",\n      children: \"Show your UofT Tri Club pride with our official team gear!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Triathlon Specific Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"The tri suits, bike kits and running singletsre from Champion Systems. The main reference for triathlon is here https://www.champ-sys.ca/pages/triathlon, but you may look at cycling and running items.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: \"Under Armour Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please order through website by October 19th. After this you will receive an invoice from the university.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-grid\",\n      children: gearItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-image-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getCurrentImage(item),\n            alt: item.title,\n            className: \"gear-image\",\n            onError: e => {\n              e.target.src = '/images/placeholder-gear.svg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-enlarge-button\",\n            onClick: () => openLightbox(item, currentImageIndex[item.id] || 0),\n            \"aria-label\": \"Enlarge image\",\n            title: \"Enlarge\",\n            children: \"\\u2922\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), item.images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-nav-button gear-nav-left\",\n              onClick: () => goToPreviousImage(item.id),\n              \"aria-label\": \"Previous image\",\n              children: \"\\u2039\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-nav-button gear-nav-right\",\n              onClick: () => goToNextImage(item.id),\n              \"aria-label\": \"Next image\",\n              children: \"\\u203A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-image-indicators\",\n              children: item.images.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `gear-indicator ${(currentImageIndex[item.id] || 0) === index ? 'active' : ''}`,\n                onClick: () => setCurrentImageIndex(prev => ({\n                  ...prev,\n                  [item.id]: index\n                })),\n                \"aria-label\": `Go to image ${index + 1}`\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gear-title\",\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"gear-description\",\n            children: item.images && item.images.length > 1 ? (item.description || '').replace(/image coming soon\\.?/ig, '').trim() : item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-price\",\n            children: [\"$\", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this), (() => {\n            const isClothingItem = item.title.toLowerCase().includes('suit') || item.title.toLowerCase().includes('jersey') || item.title.toLowerCase().includes('shorts');\n            const isUnisexItem = item.title.toLowerCase().includes('backpack') || item.title.toLowerCase().includes('cap');\n            if (isUnisexItem) {\n              // No ordering options for unisex items (backpack, cap) - they're one-size\n              return null;\n            } else if (isClothingItem) {\n              var _orderSelections$item, _orderSelections$item2, _orderSelections$item3;\n              // Show both fit and size for clothing items\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-order-options\",\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: '8px',\n                  margin: '8px 0 12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Fit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item = orderSelections[item.id]) === null || _orderSelections$item === void 0 ? void 0 : _orderSelections$item.fit) || 'mens',\n                    onChange: e => setOrderSelections(prev => {\n                      const fit = e.target.value;\n                      const prevItem = prev[item.id] || {};\n                      const adjustedSize = fit === 'mens' && prevItem.size === 'xs' ? 's' : prevItem.size || 'm';\n                      return {\n                        ...prev,\n                        [item.id]: {\n                          ...prevItem,\n                          fit,\n                          size: adjustedSize\n                        }\n                      };\n                    }),\n                    \"aria-label\": \"Select fit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mens\",\n                      children: \"Men's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"womens\",\n                      children: \"Women's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 537,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 524,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 541,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item2 = orderSelections[item.id]) === null || _orderSelections$item2 === void 0 ? void 0 : _orderSelections$item2.size) || 'm',\n                    onChange: e => setOrderSelections(prev => ({\n                      ...prev,\n                      [item.id]: {\n                        ...(prev[item.id] || {}),\n                        size: e.target.value\n                      }\n                    })),\n                    \"aria-label\": \"Select size\",\n                    children: [(((_orderSelections$item3 = orderSelections[item.id]) === null || _orderSelections$item3 === void 0 ? void 0 : _orderSelections$item3.fit) || 'mens') !== 'mens' && /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xs\",\n                      children: \"XS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 547,\n                      columnNumber: 87\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"s\",\n                      children: \"S\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"m\",\n                      children: \"M\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"l\",\n                      children: \"L\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xl\",\n                      children: \"XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 551,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2xl\",\n                      children: \"2XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 540,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this);\n            } else {\n              var _orderSelections$item4, _orderSelections$item5, _orderSelections$item6;\n              // Default: show both options for other items\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-order-options\",\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: '8px',\n                  margin: '8px 0 12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Fit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item4 = orderSelections[item.id]) === null || _orderSelections$item4 === void 0 ? void 0 : _orderSelections$item4.fit) || 'mens',\n                    onChange: e => setOrderSelections(prev => {\n                      const fit = e.target.value;\n                      const prevItem = prev[item.id] || {};\n                      const adjustedSize = fit === 'mens' && prevItem.size === 'xs' ? 's' : prevItem.size || 'm';\n                      return {\n                        ...prev,\n                        [item.id]: {\n                          ...prevItem,\n                          fit,\n                          size: adjustedSize\n                        }\n                      };\n                    }),\n                    \"aria-label\": \"Select fit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mens\",\n                      children: \"Men's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"womens\",\n                      children: \"Women's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item5 = orderSelections[item.id]) === null || _orderSelections$item5 === void 0 ? void 0 : _orderSelections$item5.size) || 'm',\n                    onChange: e => setOrderSelections(prev => ({\n                      ...prev,\n                      [item.id]: {\n                        ...(prev[item.id] || {}),\n                        size: e.target.value\n                      }\n                    })),\n                    \"aria-label\": \"Select size\",\n                    children: [(((_orderSelections$item6 = orderSelections[item.id]) === null || _orderSelections$item6 === void 0 ? void 0 : _orderSelections$item6.fit) || 'mens') !== 'mens' && /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xs\",\n                      children: \"XS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 584,\n                      columnNumber: 87\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"s\",\n                      children: \"S\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 585,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"m\",\n                      children: \"M\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 586,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"l\",\n                      children: \"L\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xl\",\n                      children: \"XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 588,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2xl\",\n                      children: \"2XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 21\n              }, this);\n            }\n          })(), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-button\",\n              onClick: () => handleOrderClick(item),\n              children: \"Order Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 597,\n              columnNumber: 17\n            }, this), isAdmin && isAdmin(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-edit-button\",\n              onClick: () => openEditModal(item),\n              children: \"\\u270E Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 601,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), isAdmin && isAdmin(currentUser) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-add-section\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"gear-add-button\",\n        onClick: () => setShowAddModal(true),\n        children: \"+ Add New Merchandise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 612,\n      columnNumber: 9\n    }, this), lightboxItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-lightbox-overlay\",\n      onClick: closeLightbox,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-lightbox\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-close\",\n          onClick: closeLightbox,\n          \"aria-label\": \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-nav gear-lightbox-left\",\n          onClick: lightboxPrev,\n          \"aria-label\": \"Previous\",\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"gear-lightbox-image\",\n          src: normalizeImageUrl(lightboxItem.images[lightboxIndex]),\n          alt: lightboxItem.title,\n          onError: e => {\n            e.target.src = '/images/placeholder-gear.svg';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-nav gear-lightbox-right\",\n          onClick: lightboxNext,\n          \"aria-label\": \"Next\",\n          children: \"\\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 13\n        }, this), Array.isArray(lightboxItem.images) && lightboxItem.images.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-lightbox-indicators\",\n          children: lightboxItem.images.map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `gear-indicator ${lightboxIndex === idx ? 'active' : ''}`,\n            onClick: () => setLightboxIndex(idx),\n            \"aria-label\": `Go to image ${idx + 1}`\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 639,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 625,\n      columnNumber: 9\n    }, this), editingItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: closeEditModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Edit Gear: \", editingItem.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 657,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editForm.title,\n            onChange: e => setEditForm({\n              ...editForm,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editForm.price,\n            onChange: e => setEditForm({\n              ...editForm,\n              price: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: \"5\",\n            value: editForm.description,\n            onChange: e => setEditForm({\n              ...editForm,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Current Images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 15\n          }, this), currentImages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-current-images\",\n            children: currentImages.map((imageUrl, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-image-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: normalizeImageUrl(imageUrl),\n                alt: `Image ${index + 1}`,\n                className: \"gear-image-preview\",\n                onError: e => {\n                  e.target.src = '/images/placeholder-gear.svg';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-image-controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => moveImageUp(index),\n                  disabled: index === 0,\n                  className: \"gear-move-btn\",\n                  title: \"Move up\",\n                  children: \"\\u2191\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => moveImageDown(index),\n                  disabled: index === currentImages.length - 1,\n                  className: \"gear-move-btn\",\n                  title: \"Move down\",\n                  children: \"\\u2193\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removeImage(imageUrl),\n                  className: \"gear-remove-btn\",\n                  title: \"Remove image\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 692,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"gear-no-images\",\n            children: \"No images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 724,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Add New Photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            multiple: true,\n            onChange: handleFilesChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), newImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-new-images\",\n            children: newImages.map((f, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-new-image\",\n              children: f.name\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 727,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: closeEditModal,\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: () => deleteGearItem(editingItem.id),\n            disabled: saving,\n            style: {\n              backgroundColor: '#ef4444',\n              marginRight: 'auto'\n            },\n            children: \"Delete Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: saveEdit,\n            disabled: saving,\n            children: saving ? 'Saving...' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 653,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: () => setShowAddModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Add New Merchandise\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-modal-close\",\n            onClick: () => setShowAddModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 758,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addForm.title,\n              onChange: e => setAddForm({\n                ...addForm,\n                title: e.target.value\n              }),\n              placeholder: \"Enter merchandise title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addForm.price,\n              onChange: e => setAddForm({\n                ...addForm,\n                price: e.target.value\n              }),\n              placeholder: \"Enter price (e.g., $25 or X)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 782,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: \"3\",\n              value: addForm.description,\n              onChange: e => setAddForm({\n                ...addForm,\n                description: e.target.value\n              }),\n              placeholder: \"Enter description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: () => setShowAddModal(false),\n            disabled: adding,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: addGearItem,\n            disabled: adding,\n            children: adding ? 'Adding...' : 'Add Item'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 756,\n      columnNumber: 9\n    }, this), showOrderModal && selectedItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: closeOrderModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Confirm Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 804,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-modal-close\",\n            onClick: closeOrderModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-confirmation\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Order Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Item:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 811,\n                columnNumber: 19\n              }, this), \" \", selectedItem.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `order-item ${(_orderSelections$sele2 = orderSelections[selectedItem.id]) !== null && _orderSelections$sele2 !== void 0 && _orderSelections$sele2.size ? 'size-highlighted' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 19\n              }, this), \" \", (_orderSelections$sele3 = orderSelections[selectedItem.id]) !== null && _orderSelections$sele3 !== void 0 && _orderSelections$sele3.size ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#059669',\n                  fontWeight: '600'\n                },\n                children: orderSelections[selectedItem.id].size.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#6b7280',\n                  fontStyle: 'italic'\n                },\n                children: \"Not specified\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this), \" 1\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 19\n              }, this), \" \", selectedItem.price || 'Contact for pricing']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  fontWeight: 600,\n                  marginBottom: 4\n                },\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 829,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: orderEmail,\n                onChange: e => setOrderEmail(e.target.value),\n                placeholder: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Enter your email',\n                required: true,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 830,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              style: {\n                marginTop: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  fontWeight: 600,\n                  marginBottom: 4\n                },\n                children: \"Confirm Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: orderEmailConfirm,\n                onChange: e => setOrderEmailConfirm(e.target.value),\n                placeholder: \"Retype your email\",\n                required: true,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 839,\n              columnNumber: 17\n            }, this), orderError && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b91c1c',\n                marginTop: 6\n              },\n              children: orderError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: '#6b7280',\n                marginTop: 8\n              },\n              children: \"Note: Use your University of Toronto email, or the same email you used to purchase your gym membership.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-notice\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Important:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 857,\n                  columnNumber: 22\n                }, this), \" You will receive an invoice email shortly after confirming your order.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 857,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please check your email for payment instructions and order details.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 858,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: closeOrderModal,\n            disabled: orderSubmitting,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 863,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: submitOrder,\n            disabled: orderSubmitting,\n            style: {\n              backgroundColor: '#10b981'\n            },\n            children: orderSubmitting ? 'Submitting...' : 'Confirm Order'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 862,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 801,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this);\n};\n_s(TeamGear, \"odS/c3WoWB0HMhJ9+CqrEiH+zQw=\", false, function () {\n  return [useAuth];\n});\n_c = TeamGear;\nexport default TeamGear;\nvar _c;\n$RefreshReg$(_c, \"TeamGear\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","TeamGear","_s","_orderSelections$sele2","_orderSelections$sele3","currentUser","isAdmin","API_BASE","process","env","REACT_APP_API_BASE_URL","gearItems","setGearItems","loading","setLoading","error","setError","currentImageIndex","setCurrentImageIndex","editingItem","setEditingItem","editForm","setEditForm","title","price","description","newImages","setNewImages","saving","setSaving","currentImages","setCurrentImages","orderSelections","setOrderSelections","showAddModal","setShowAddModal","addForm","setAddForm","adding","setAdding","lightboxItem","setLightboxItem","lightboxIndex","setLightboxIndex","showOrderModal","setShowOrderModal","selectedItem","setSelectedItem","orderSubmitting","setOrderSubmitting","orderEmail","setOrderEmail","orderEmailConfirm","setOrderEmailConfirm","orderError","setOrderError","normalizeImageUrl","url","console","log","startsWith","normalized","replace","load","res","fetch","ok","Error","data","json","items","map","item","images","Array","isArray","length","e","goToPreviousImage","itemId","currentIndex","find","id","newIndex","prev","goToNextImage","getCurrentImage","src","openLightbox","index","document","body","style","overflow","closeLightbox","lightboxPrev","len","lightboxNext","openEditModal","closeEditModal","handleFilesChange","files","from","target","f","name","size","type","removeImage","imageUrl","includes","filter","img","token","localStorage","getItem","method","headers","JSON","stringify","errorData","catch","status","result","alert","message","moveImageUp","moveImageDown","addGearItem","trim","gearRes","deleteGearItem","window","confirm","saveEdit","putRes","formData","FormData","forEach","append","imgRes","imgJson","updatedItems","handleOrderClick","closeOrderModal","submitOrder","emailToUse","emailConfirmToUse","emailRegex","test","_currentUser$name","_currentUser$name2","_orderSelections$sele","orderData","firstName","first_name","split","lastName","last_name","slice","join","email","quantity","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","alt","onError","onClick","_","isClothingItem","toLowerCase","isUnisexItem","_orderSelections$item","_orderSelections$item2","_orderSelections$item3","display","gridTemplateColumns","gap","margin","fontSize","color","marginBottom","value","fit","onChange","prevItem","adjustedSize","_orderSelections$item4","_orderSelections$item5","_orderSelections$item6","stopPropagation","idx","rows","disabled","accept","multiple","backgroundColor","marginRight","placeholder","fontWeight","toUpperCase","fontStyle","required","width","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/TeamGear.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './TeamGear.css';\n\nconst TeamGear = () => {\n  const { currentUser, isAdmin } = useAuth();\n  const API_BASE = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const [gearItems, setGearItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // State to track current image index for each gear item\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\n\n  // Admin edit modal state\n  const [editingItem, setEditingItem] = useState(null);\n  const [editForm, setEditForm] = useState({ title: '', price: '', description: '' });\n  const [newImages, setNewImages] = useState([]);\n  const [saving, setSaving] = useState(false);\n  const [currentImages, setCurrentImages] = useState([]);\n  // Simple per-item selection for ordering options\n  const [orderSelections, setOrderSelections] = useState({}); // { [itemId]: { fit: 'mens'|'womens', size: 'xs'|'s'|'m'|'l'|'xl'|'2xl' } }\n\n  // Admin add modal state\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addForm, setAddForm] = useState({ title: '', price: '', description: '' });\n  const [adding, setAdding] = useState(false);\n\n  // Lightbox (enlarge) state\n  const [lightboxItem, setLightboxItem] = useState(null);\n  const [lightboxIndex, setLightboxIndex] = useState(0);\n\n  // Order confirmation modal state\n  const [showOrderModal, setShowOrderModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [orderSubmitting, setOrderSubmitting] = useState(false);\n  const [orderEmail, setOrderEmail] = useState('');\n  const [orderEmailConfirm, setOrderEmailConfirm] = useState('');\n  const [orderError, setOrderError] = useState('');\n\n  const normalizeImageUrl = (url) => {\n    if (!url) {\n      console.log('🖼️ [NORMALIZE] No URL provided, using placeholder');\n      return '/images/placeholder-gear.svg';\n    }\n    \n    console.log('🖼️ [NORMALIZE] Processing URL:', url);\n    \n    if (url.startsWith('/uploads/')) {\n      const normalized = `${API_BASE}/..${url}`;\n      console.log('🖼️ [NORMALIZE] Uploads URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('/api/')) {\n      const normalized = `${API_BASE.replace('/api','')}${url}`;\n      console.log('🖼️ [NORMALIZE] API URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('http')) {\n      console.log('🖼️ [NORMALIZE] Full URL ->', url);\n      return url;\n    }\n    \n    console.log('🖼️ [NORMALIZE] Fallback to placeholder for:', url);\n    return '/images/placeholder-gear.svg';\n  };\n\n  // Fetch gear items from backend\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`${API_BASE}/gear`);\n        if (!res.ok) throw new Error('Failed to load gear');\n        const data = await res.json();\n        const items = (data.items || []).map(item => ({\n          ...item,\n          images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n        }));\n        setGearItems(items);\n      } catch (e) {\n        setError('Failed to load team gear');\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [API_BASE]);\n\n  // Navigation functions\n  const goToPreviousImage = (itemId) => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === 0 ? item.images.length - 1 : currentIndex - 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  const goToNextImage = (itemId) => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === item.images.length - 1 ? 0 : currentIndex + 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  // Get current image for an item\n  const getCurrentImage = (item) => {\n    const currentIndex = currentImageIndex[item.id] || 0;\n    const src = item.images[currentIndex] || item.images[0] || '/images/placeholder-gear.svg';\n    return normalizeImageUrl(src);\n  };\n\n  // Lightbox helpers\n  const openLightbox = (item, index = 0) => {\n    setLightboxItem(item);\n    setLightboxIndex(index);\n    document.body.style.overflow = 'hidden';\n  };\n\n  const closeLightbox = () => {\n    setLightboxItem(null);\n    setLightboxIndex(0);\n    document.body.style.overflow = '';\n  };\n\n  const lightboxPrev = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex((prev) => (prev === 0 ? len - 1 : prev - 1));\n  };\n\n  const lightboxNext = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex((prev) => (prev === len - 1 ? 0 : prev + 1));\n  };\n\n  // Edit handlers\n  const openEditModal = (item) => {\n    console.log('📝 [GEAR EDIT] Opening modal for item:', item);\n    setEditingItem(item);\n    setEditForm({\n      title: item.title || '',\n      price: item.price || '',\n      description: item.description || ''\n    });\n    setCurrentImages([...(item.images || [])]);\n    setNewImages([]);\n  };\n\n  const closeEditModal = () => {\n    setEditingItem(null);\n    setNewImages([]);\n    setCurrentImages([]);\n    setSaving(false);\n  };\n\n  const handleFilesChange = (e) => {\n    const files = Array.from(e.target.files || []);\n    console.log('📁 [GEAR FILES] Selected files:', files.map(f => ({name: f.name, size: f.size, type: f.type})));\n    setNewImages(files);\n  };\n\n  // Image management functions\n  const removeImage = async (imageUrl) => {\n    if (!editingItem) return;\n    \n    // Don't try to delete placeholder images\n    if (imageUrl.includes('placeholder-gear.svg') || imageUrl.includes('/images/')) {\n      console.log('🗑️ [FRONTEND] Skipping placeholder image deletion:', imageUrl);\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n      return;\n    }\n    \n    try {\n      console.log('🗑️ [FRONTEND] Attempting to remove image:', imageUrl);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ imageUrl })\n      });\n      \n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({}));\n        console.error('❌ [FRONTEND] Delete image failed:', res.status, errorData);\n        throw new Error(errorData.error || `Failed to remove image (${res.status})`);\n      }\n      \n      const result = await res.json();\n      console.log('✅ [FRONTEND] Image removed successfully:', result);\n      \n      // Update local state\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n    } catch (e) {\n      console.error('❌ [FRONTEND] Error removing image:', e);\n      alert(`Failed to remove image: ${e.message}`);\n    }\n  };\n\n  const moveImageUp = (index) => {\n    if (index === 0) return;\n    const newImages = [...currentImages];\n    [newImages[index - 1], newImages[index]] = [newImages[index], newImages[index - 1]];\n    setCurrentImages(newImages);\n  };\n\n  const moveImageDown = (index) => {\n    if (index === currentImages.length - 1) return;\n    const newImages = [...currentImages];\n    [newImages[index], newImages[index + 1]] = [newImages[index + 1], newImages[index]];\n    setCurrentImages(newImages);\n  };\n\n  // Add new gear item\n  const addGearItem = async () => {\n    if (!addForm.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    \n    try {\n      setAdding(true);\n      const token = localStorage.getItem('triathlonToken');\n      \n      const res = await fetch(`${API_BASE}/gear`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(addForm)\n      });\n      \n      if (!res.ok) throw new Error('Failed to create gear item');\n      \n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      \n      setShowAddModal(false);\n      setAddForm({ title: '', price: '', description: '' });\n    } catch (e) {\n      console.error('Error adding gear item:', e);\n      alert('Failed to add gear item');\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Delete gear item\n  const deleteGearItem = async (itemId) => {\n    if (!window.confirm('Are you sure you want to delete this gear item? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem('triathlonToken');\n      \n      const res = await fetch(`${API_BASE}/gear/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (!res.ok) throw new Error('Failed to delete gear item');\n      \n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      \n      closeEditModal();\n    } catch (e) {\n      console.error('Error deleting gear item:', e);\n      alert('Failed to delete gear item');\n    }\n  };\n\n  const saveEdit = async () => {\n    console.log('🚀 [GEAR SAVE] Function called, editingItem:', editingItem);\n    if (!editingItem) return;\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('triathlonToken');\n      console.log('🔑 [GEAR SAVE] Token exists:', !!token);\n\n      // Update fields including reordered images\n      console.log('📤 [GEAR SAVE] PUT details', editForm);\n      console.log('📤 [GEAR SAVE] Current images order:', currentImages);\n      const putRes = await fetch(`${API_BASE}/gear/${editingItem.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: editForm.title,\n          price: editForm.price,\n          description: editForm.description,\n          images: currentImages\n        })\n      });\n      if (!putRes.ok) throw new Error('Failed to save gear details');\n\n      // Upload new images if any\n      if (newImages.length > 0) {\n        const formData = new FormData();\n        newImages.forEach(f => formData.append('images', f));\n        console.log('📤 [GEAR SAVE] POST images', newImages.map(f=>({name:f.name,size:f.size,type:f.type})));\n        const imgRes = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (!imgRes.ok) throw new Error('Failed to upload images');\n        const imgJson = await imgRes.json().catch(()=>null);\n        console.log('✅ [GEAR SAVE] Images response:', imgJson);\n        \n        // Update currentImages with the new images from server\n        if (imgJson && imgJson.images) {\n          setCurrentImages(imgJson.images);\n          console.log('🔄 [GEAR SAVE] Updated currentImages with server response:', imgJson.images);\n        }\n      }\n\n      // Refetch list\n      console.log('🔄 [GEAR SAVE] Refetch gear list');\n      const res = await fetch(`${API_BASE}/gear`);\n      const data = await res.json();\n      const updatedItems = (data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      }));\n      setGearItems(updatedItems);\n      console.log('✅ [GEAR SAVE] Updated gear items:', updatedItems);\n\n      closeEditModal();\n    } catch (e) {\n      console.error(e);\n      alert(e.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Order confirmation handlers\n  const handleOrderClick = (item) => {\n    setSelectedItem(item);\n    setShowOrderModal(true);\n  };\n\n  const closeOrderModal = () => {\n    setShowOrderModal(false);\n    setSelectedItem(null);\n    setOrderEmail('');\n    setOrderEmailConfirm('');\n    setOrderError('');\n  };\n\n  const submitOrder = async () => {\n    if (!selectedItem || !currentUser) return;\n    // Validate email confirmation\n    const emailToUse = (orderEmail || '').trim();\n    const emailConfirmToUse = (orderEmailConfirm || '').trim();\n    const emailRegex = /[^\\s@]+@[^\\s@]+\\.[^\\s@]+/;\n    if (!emailRegex.test(emailToUse)) {\n      setOrderError('Please enter a valid email address.');\n      return;\n    }\n    if (emailToUse !== emailConfirmToUse) {\n      setOrderError('Emails do not match.');\n      return;\n    }\n    setOrderError('');\n\n    setOrderSubmitting(true);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const orderData = {\n        firstName: currentUser.first_name || currentUser.name?.split(' ')[0] || '',\n        lastName: currentUser.last_name || currentUser.name?.split(' ').slice(1).join(' ') || '',\n        email: emailToUse,\n        item: selectedItem.title,\n        size: orderSelections[selectedItem.id]?.size || '',\n        quantity: 1\n      };\n\n      const response = await fetch(`${API_BASE}/merch-orders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit order');\n      }\n\n      alert('Order submitted successfully! You will receive an invoice email shortly.');\n      closeOrderModal();\n    } catch (error) {\n      console.error('Order submission error:', error);\n      alert('Failed to submit order. Please try again.');\n    } finally {\n      setOrderSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"page-container teamgear-page\">\n      <h1>Team Gear</h1>\n      <p className=\"page-description\">\n        Show your UofT Tri Club pride with our official team gear! \n      </p>\n      <h3>Triathlon Specific Gear</h3>\n      <p>\n      The tri suits, bike kits and running singletsre from Champion Systems. The main reference for triathlon is here\n      https://www.champ-sys.ca/pages/triathlon, but you may look at cycling and running items. \n\n      \n      </p>\n      \n      <h3 style={{ marginTop: '2rem' }}>Under Armour Gear</h3>\n      <p>Please order through website by October 19th. After this you will receive an invoice from the university.</p>\n      <div className=\"gear-grid\">\n        {gearItems.map(item => (\n          <div key={item.id} className=\"gear-item\">\n            <div className=\"gear-image-container\">\n              <img \n                src={getCurrentImage(item)} \n                alt={item.title}\n                className=\"gear-image\"\n                onError={(e) => {\n                  e.target.src = '/images/placeholder-gear.svg';\n                }}\n              />\n              <button\n                className=\"gear-enlarge-button\"\n                onClick={() => openLightbox(item, currentImageIndex[item.id] || 0)}\n                aria-label=\"Enlarge image\"\n                title=\"Enlarge\"\n              >\n                ⤢\n              </button>\n              {item.images.length > 1 && (\n                <>\n                  <button \n                    className=\"gear-nav-button gear-nav-left\"\n                    onClick={() => goToPreviousImage(item.id)}\n                    aria-label=\"Previous image\"\n                  >\n                    ‹\n                  </button>\n                  <button \n                    className=\"gear-nav-button gear-nav-right\"\n                    onClick={() => goToNextImage(item.id)}\n                    aria-label=\"Next image\"\n                  >\n                    ›\n                  </button>\n                  <div className=\"gear-image-indicators\">\n                    {item.images.map((_, index) => (\n                      <button\n                        key={index}\n                        className={`gear-indicator ${(currentImageIndex[item.id] || 0) === index ? 'active' : ''}`}\n                        onClick={() => setCurrentImageIndex(prev => ({\n                          ...prev,\n                          [item.id]: index\n                        }))}\n                        aria-label={`Go to image ${index + 1}`}\n                      />\n                    ))}\n                  </div>\n                </>\n              )}\n            </div>\n            <div className=\"gear-content\">\n              <h3 className=\"gear-title\">{item.title}</h3>\n              <p className=\"gear-description\">{(item.images && item.images.length > 1) ? (item.description || '').replace(/image coming soon\\.?/ig, '').trim() : item.description}</p>\n              <div className=\"gear-price\">${item.price}</div>\n              {/* Ordering options */}\n              {(() => {\n                const isClothingItem = item.title.toLowerCase().includes('suit') || \n                                     item.title.toLowerCase().includes('jersey') || \n                                     item.title.toLowerCase().includes('shorts');\n                const isUnisexItem = item.title.toLowerCase().includes('backpack') || \n                                   item.title.toLowerCase().includes('cap');\n                \n                if (isUnisexItem) {\n                  // No ordering options for unisex items (backpack, cap) - they're one-size\n                  return null;\n                } else if (isClothingItem) {\n                  // Show both fit and size for clothing items\n                  return (\n                    <div className=\"gear-order-options\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', margin: '8px 0 12px' }}>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Fit</label>\n                        <select\n                          value={(orderSelections[item.id]?.fit) || 'mens'}\n                          onChange={(e) => setOrderSelections(prev => {\n                            const fit = e.target.value;\n                            const prevItem = prev[item.id] || {};\n                            const adjustedSize = (fit === 'mens' && prevItem.size === 'xs') ? 's' : (prevItem.size || 'm');\n                            return { ...prev, [item.id]: { ...prevItem, fit, size: adjustedSize } };\n                          })}\n                          aria-label=\"Select fit\"\n                        >\n                          <option value=\"mens\">Men's</option>\n                          <option value=\"womens\">Women's</option>\n                        </select>\n                      </div>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Size</label>\n                        <select\n                          value={(orderSelections[item.id]?.size) || 'm'}\n                          onChange={(e) => setOrderSelections(prev => ({ ...prev, [item.id]: { ...(prev[item.id]||{}), size: e.target.value } }))}\n                          aria-label=\"Select size\"\n                        >\n                          {((orderSelections[item.id]?.fit) || 'mens') !== 'mens' && (<option value=\"xs\">XS</option>)}\n                          <option value=\"s\">S</option>\n                          <option value=\"m\">M</option>\n                          <option value=\"l\">L</option>\n                          <option value=\"xl\">XL</option>\n                          <option value=\"2xl\">2XL</option>\n                        </select>\n                      </div>\n                    </div>\n                  );\n                } else {\n                  // Default: show both options for other items\n                  return (\n                    <div className=\"gear-order-options\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', margin: '8px 0 12px' }}>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Fit</label>\n                        <select\n                          value={(orderSelections[item.id]?.fit) || 'mens'}\n                          onChange={(e) => setOrderSelections(prev => {\n                            const fit = e.target.value;\n                            const prevItem = prev[item.id] || {};\n                            const adjustedSize = (fit === 'mens' && prevItem.size === 'xs') ? 's' : (prevItem.size || 'm');\n                            return { ...prev, [item.id]: { ...prevItem, fit, size: adjustedSize } };\n                          })}\n                          aria-label=\"Select fit\"\n                        >\n                          <option value=\"mens\">Men's</option>\n                          <option value=\"womens\">Women's</option>\n                        </select>\n                      </div>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Size</label>\n                        <select\n                          value={(orderSelections[item.id]?.size) || 'm'}\n                          onChange={(e) => setOrderSelections(prev => ({ ...prev, [item.id]: { ...(prev[item.id]||{}), size: e.target.value } }))}\n                          aria-label=\"Select size\"\n                        >\n                          {((orderSelections[item.id]?.fit) || 'mens') !== 'mens' && (<option value=\"xs\">XS</option>)}\n                          <option value=\"s\">S</option>\n                          <option value=\"m\">M</option>\n                          <option value=\"l\">L</option>\n                          <option value=\"xl\">XL</option>\n                          <option value=\"2xl\">2XL</option>\n                        </select>\n                      </div>\n                    </div>\n                  );\n                }\n              })()}\n              <div className=\"gear-buttons\">\n                <button className=\"gear-button\" onClick={() => handleOrderClick(item)}>\n                  Order Now\n                </button>\n                {isAdmin && isAdmin(currentUser) && (\n                  <button className=\"gear-edit-button\" onClick={() => openEditModal(item)}>\n                    ✎ Edit\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      {isAdmin && isAdmin(currentUser) && (\n        <div className=\"gear-add-section\">\n          <button \n            className=\"gear-add-button\" \n            onClick={() => setShowAddModal(true)}\n          >\n            + Add New Merchandise\n          </button>\n        </div>\n      )}\n      \n    \n\n      {lightboxItem && (\n        <div className=\"gear-lightbox-overlay\" onClick={closeLightbox}>\n          <div className=\"gear-lightbox\" onClick={(e) => e.stopPropagation()}>\n            <button className=\"gear-lightbox-close\" onClick={closeLightbox} aria-label=\"Close\">×</button>\n            <button className=\"gear-lightbox-nav gear-lightbox-left\" onClick={lightboxPrev} aria-label=\"Previous\">‹</button>\n            <img\n              className=\"gear-lightbox-image\"\n              src={normalizeImageUrl(lightboxItem.images[lightboxIndex])}\n              alt={lightboxItem.title}\n              onError={(e) => { e.target.src = '/images/placeholder-gear.svg'; }}\n            />\n            <button className=\"gear-lightbox-nav gear-lightbox-right\" onClick={lightboxNext} aria-label=\"Next\">›</button>\n            {Array.isArray(lightboxItem.images) && lightboxItem.images.length > 1 && (\n              <div className=\"gear-lightbox-indicators\">\n                {lightboxItem.images.map((_, idx) => (\n                  <button\n                    key={idx}\n                    className={`gear-indicator ${lightboxIndex === idx ? 'active' : ''}`}\n                    onClick={() => setLightboxIndex(idx)}\n                    aria-label={`Go to image ${idx + 1}`}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {editingItem && (\n        <div className=\"gear-modal-overlay\" onClick={closeEditModal}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <h2>Edit Gear: {editingItem.title}</h2>\n            <div className=\"form-group\">\n              <label>Title</label>\n              <input\n                type=\"text\"\n                value={editForm.title}\n                onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Price</label>\n              <input\n                type=\"text\"\n                value={editForm.price}\n                onChange={(e) => setEditForm({ ...editForm, price: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <textarea\n                rows=\"5\"\n                value={editForm.description}\n                onChange={(e) => setEditForm({ ...editForm, description: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Current Images</label>\n              {currentImages.length > 0 ? (\n                <div className=\"gear-current-images\">\n                  {currentImages.map((imageUrl, index) => (\n                    <div key={index} className=\"gear-image-item\">\n                      <img \n                        src={normalizeImageUrl(imageUrl)} \n                        alt={`Image ${index + 1}`}\n                        className=\"gear-image-preview\"\n                        onError={(e) => { e.target.src = '/images/placeholder-gear.svg'; }}\n                      />\n                      <div className=\"gear-image-controls\">\n                        <button \n                          type=\"button\" \n                          onClick={() => moveImageUp(index)}\n                          disabled={index === 0}\n                          className=\"gear-move-btn\"\n                          title=\"Move up\"\n                        >\n                          ↑\n                        </button>\n                        <button \n                          type=\"button\" \n                          onClick={() => moveImageDown(index)}\n                          disabled={index === currentImages.length - 1}\n                          className=\"gear-move-btn\"\n                          title=\"Move down\"\n                        >\n                          ↓\n                        </button>\n                        <button \n                          type=\"button\" \n                          onClick={() => removeImage(imageUrl)}\n                          className=\"gear-remove-btn\"\n                          title=\"Remove image\"\n                        >\n                          ×\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"gear-no-images\">No images</p>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label>Add New Photos</label>\n              <input type=\"file\" accept=\"image/*\" multiple onChange={handleFilesChange} />\n              {newImages.length > 0 && (\n                <div className=\"gear-new-images\">\n                  {newImages.map((f, idx) => (\n                    <div className=\"gear-new-image\" key={idx}>{f.name}</div>\n                  ))}\n                </div>\n              )}\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={closeEditModal} disabled={saving}>Cancel</button>\n              <button \n                className=\"delete-button\" \n                onClick={() => deleteGearItem(editingItem.id)}\n                disabled={saving}\n                style={{ backgroundColor: '#ef4444', marginRight: 'auto' }}\n              >\n                Delete Item\n              </button>\n              <button className=\"save-button\" onClick={saveEdit} disabled={saving}>{saving ? 'Saving...' : 'Save'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add new gear modal */}\n      {showAddModal && (\n        <div className=\"gear-modal-overlay\" onClick={() => setShowAddModal(false)}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"gear-modal-header\">\n              <h2>Add New Merchandise</h2>\n              <button className=\"gear-modal-close\" onClick={() => setShowAddModal(false)}>×</button>\n            </div>\n            <div className=\"gear-modal-body\">\n              <div className=\"form-group\">\n                <label>Title *</label>\n                <input\n                  type=\"text\"\n                  value={addForm.title}\n                  onChange={(e) => setAddForm({ ...addForm, title: e.target.value })}\n                  placeholder=\"Enter merchandise title\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Price</label>\n                <input\n                  type=\"text\"\n                  value={addForm.price}\n                  onChange={(e) => setAddForm({ ...addForm, price: e.target.value })}\n                  placeholder=\"Enter price (e.g., $25 or X)\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Description</label>\n                <textarea\n                  rows=\"3\"\n                  value={addForm.description}\n                  onChange={(e) => setAddForm({ ...addForm, description: e.target.value })}\n                  placeholder=\"Enter description\"\n                />\n              </div>\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={() => setShowAddModal(false)} disabled={adding}>Cancel</button>\n              <button className=\"save-button\" onClick={addGearItem} disabled={adding}>{adding ? 'Adding...' : 'Add Item'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Order confirmation modal */}\n      {showOrderModal && selectedItem && (\n        <div className=\"gear-modal-overlay\" onClick={closeOrderModal}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"gear-modal-header\">\n              <h2>Confirm Order</h2>\n              <button className=\"gear-modal-close\" onClick={closeOrderModal}>×</button>\n            </div>\n            <div className=\"gear-modal-body\">\n              <div className=\"order-confirmation\">\n                <h3>Order Details</h3>\n                <div className=\"order-item\">\n                  <strong>Item:</strong> {selectedItem.title}\n                </div>\n                <div className={`order-item ${orderSelections[selectedItem.id]?.size ? 'size-highlighted' : ''}`}>\n                  <strong>Size:</strong> {orderSelections[selectedItem.id]?.size ? (\n                    <span style={{ color: '#059669', fontWeight: '600' }}>\n                      {orderSelections[selectedItem.id].size.toUpperCase()}\n                    </span>\n                  ) : (\n                    <span style={{ color: '#6b7280', fontStyle: 'italic' }}>Not specified</span>\n                  )}\n                </div>\n                <div className=\"order-item\">\n                  <strong>Quantity:</strong> 1\n                </div>\n                <div className=\"order-item\">\n                  <strong>Price:</strong> {selectedItem.price || 'Contact for pricing'}\n                </div>\n                <div className=\"order-item\" style={{ marginTop: '10px' }}>\n                  <label style={{ display: 'block', fontWeight: 600, marginBottom: 4 }}>Email</label>\n                  <input\n                    type=\"email\"\n                    value={orderEmail}\n                    onChange={(e) => setOrderEmail(e.target.value)}\n                    placeholder={currentUser?.email || 'Enter your email'}\n                    required\n                    style={{ width: '100%' }}\n                  />\n                </div>\n                <div className=\"order-item\" style={{ marginTop: '8px' }}>\n                  <label style={{ display: 'block', fontWeight: 600, marginBottom: 4 }}>Confirm Email</label>\n                  <input\n                    type=\"email\"\n                    value={orderEmailConfirm}\n                    onChange={(e) => setOrderEmailConfirm(e.target.value)}\n                    placeholder=\"Retype your email\"\n                    required\n                    style={{ width: '100%' }}\n                  />\n                </div>\n                {orderError && (\n                  <div style={{ color: '#b91c1c', marginTop: 6 }}>{orderError}</div>\n                )}\n                <p style={{ fontSize: '0.9rem', color: '#6b7280', marginTop: 8 }}>\n                  Note: Use your University of Toronto email, or the same email you used to purchase your gym membership.\n                </p>\n                <div className=\"order-notice\">\n                  <p><strong>Important:</strong> You will receive an invoice email shortly after confirming your order.</p>\n                  <p>Please check your email for payment instructions and order details.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={closeOrderModal} disabled={orderSubmitting}>\n                Cancel\n              </button>\n              <button \n                className=\"save-button\" \n                onClick={submitOrder} \n                disabled={orderSubmitting}\n                style={{ backgroundColor: '#10b981' }}\n              >\n                {orderSubmitting ? 'Submitting...' : 'Confirm Order'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TeamGear;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}