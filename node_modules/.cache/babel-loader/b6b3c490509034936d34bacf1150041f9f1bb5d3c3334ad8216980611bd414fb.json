{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './Admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const {\n    currentUser,\n    isAdmin\n  } = useAuth();\n  const [members, setMembers] = useState([]);\n  const [pendingMembers, setPendingMembers] = useState([]);\n  const [activeTab, setActiveTab] = useState('members');\n  const [bannerForm, setBannerForm] = useState({\n    enabled: false,\n    message: ''\n  });\n  const [emailForm, setEmailForm] = useState({\n    to: '',\n    subject: '',\n    message: ''\n  });\n  const [template, setTemplate] = useState({\n    bannerTitle: '',\n    title: '',\n    intro: '',\n    bullets: [''],\n    body: ''\n  });\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [emailStatus, setEmailStatus] = useState(null);\n  const [sendingBulkEmail, setSendingBulkEmail] = useState(false);\n  const [bulkEmailStatus, setBulkEmailStatus] = useState(null);\n  const [emailType, setEmailType] = useState('individual'); // 'individual' or 'everyone'\n\n  const [editingMember, setEditingMember] = useState(null);\n  const [editForm, setEditForm] = useState({\n    name: '',\n    email: '',\n    role: '',\n    expiryDate: '',\n    phoneNumber: '',\n    charterAccepted: false\n  });\n  const [approvingMember, setApprovingMember] = useState(null);\n  const [approvalForm, setApprovalForm] = useState({\n    role: 'member',\n    expiryDate: ''\n  });\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n\n  // Phone number formatting functions (same as Login.js and Profile.js)\n  const validatePhoneNumber = phone => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Check if it's 10 digits (North American format)\n    return digitsOnly.length === 10;\n  };\n  const formatPhoneNumber = phone => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Format as (XXX) XXX-XXXX\n    if (digitsOnly.length === 10) {\n      return `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n    }\n    return phone; // Return original if not 10 digits\n  };\n  const handlePhoneNumberChange = e => {\n    const value = e.target.value;\n    // Remove all non-digit characters\n    const digitsOnly = value.replace(/\\D/g, '');\n\n    // Limit to 10 digits\n    if (digitsOnly.length <= 10) {\n      // Format as user types\n      let formatted = digitsOnly;\n      if (digitsOnly.length >= 6) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n      } else if (digitsOnly.length >= 3) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3)}`;\n      } else if (digitsOnly.length > 0) {\n        formatted = `(${digitsOnly}`;\n      }\n      setEditForm({\n        ...editForm,\n        phoneNumber: formatted\n      });\n    }\n  };\n\n  // Load data from backend API\n  useEffect(() => {\n    if (!currentUser || !isAdmin(currentUser)) {\n      return;\n    }\n    loadAdminData();\n  }, [currentUser, isAdmin]);\n  const loadBannerData = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/site/banner`);\n      if (response.ok) {\n        var _data$banner, _data$banner2;\n        const data = await response.json();\n        setBannerForm({\n          enabled: ((_data$banner = data.banner) === null || _data$banner === void 0 ? void 0 : _data$banner.enabled) || false,\n          message: ((_data$banner2 = data.banner) === null || _data$banner2 === void 0 ? void 0 : _data$banner2.message) || ''\n        });\n      }\n    } catch (error) {\n      console.error('Error loading banner data:', error);\n    }\n  };\n  const handleSendEmail = async () => {\n    setEmailStatus(null);\n    setBulkEmailStatus(null);\n    if (!template.title && !template.intro && !template.bullets.some(b => b.trim()) && !template.body) {\n      const errorMsg = 'Please provide template content.';\n      if (emailType === 'individual') {\n        setEmailStatus({\n          type: 'error',\n          text: errorMsg\n        });\n      } else {\n        setBulkEmailStatus({\n          type: 'error',\n          text: errorMsg\n        });\n      }\n      return;\n    }\n    if (emailType === 'individual' && !emailForm.to) {\n      setEmailStatus({\n        type: 'error',\n        text: 'Please provide recipient email.'\n      });\n      return;\n    }\n    try {\n      if (emailType === 'individual') {\n        setSendingEmail(true);\n        const token = localStorage.getItem('triathlonToken');\n        const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            to: emailForm.to,\n            subject: template.title || 'UofT Tri Club Update',\n            message: emailForm.message || '',\n            template: template\n          })\n        });\n        const data = await resp.json();\n        if (resp.ok) {\n          setEmailStatus({\n            type: 'success',\n            text: 'Email sent successfully!'\n          });\n          setEmailForm({\n            to: '',\n            subject: '',\n            message: ''\n          });\n          setTemplate({\n            bannerTitle: '',\n            title: '',\n            intro: '',\n            bullets: [''],\n            body: ''\n          });\n        } else {\n          setEmailStatus({\n            type: 'error',\n            text: data.error || 'Failed to send email'\n          });\n        }\n        setSendingEmail(false);\n      } else {\n        setSendingBulkEmail(true);\n        const token = localStorage.getItem('triathlonToken');\n        const resp = await fetch(`${API_BASE_URL}/admin/send-bulk-email`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          },\n          body: JSON.stringify({\n            subject: template.title || 'UofT Tri Club Update',\n            message: template.body || '',\n            template: template,\n            recipients: {\n              members: true,\n              exec: true,\n              admin: true,\n              pending: false\n            }\n          })\n        });\n        const data = await resp.json();\n        if (resp.ok) {\n          setBulkEmailStatus({\n            type: 'success',\n            text: `Bulk email sent successfully to ${data.sentCount} recipients!`\n          });\n          setTemplate({\n            bannerTitle: '',\n            title: '',\n            intro: '',\n            bullets: [''],\n            body: ''\n          });\n        } else {\n          setBulkEmailStatus({\n            type: 'error',\n            text: data.error || 'Failed to send bulk email'\n          });\n        }\n        setSendingBulkEmail(false);\n      }\n    } catch (err) {\n      if (emailType === 'individual') {\n        setEmailStatus({\n          type: 'error',\n          text: err.message\n        });\n        setSendingEmail(false);\n      } else {\n        setBulkEmailStatus({\n          type: 'error',\n          text: err.message\n        });\n        setSendingBulkEmail(false);\n      }\n    }\n  };\n  const loadAdminData = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load banner data\n      await loadBannerData();\n\n      // Load all members\n      const membersResponse = await fetch(`${API_BASE_URL}/admin/members`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (membersResponse.ok) {\n        var _transformedMembers$f, _transformedMembers$f2;\n        const membersData = await membersResponse.json();\n        console.log('ðŸ“Š Members data received:', membersData.members);\n\n        // Transform backend data to frontend format (snake_case to camelCase)\n        const transformedMembers = membersData.members.map(member => ({\n          ...member,\n          joinDate: member.join_date,\n          expiryDate: member.expiry_date,\n          absences: member.absences || 0,\n          charterAccepted: member.charter_accepted || 0\n        }));\n        console.log('ðŸ”„ Transformed members data:', transformedMembers);\n        console.log('ðŸ“Š Raw backend data:', membersData.members);\n        console.log('ðŸ” Sample member with absences:', (_transformedMembers$f = transformedMembers.find(m => m.id)) === null || _transformedMembers$f === void 0 ? void 0 : _transformedMembers$f.absences);\n        console.log('ðŸ” Sample member with charter:', (_transformedMembers$f2 = transformedMembers.find(m => m.id)) === null || _transformedMembers$f2 === void 0 ? void 0 : _transformedMembers$f2.charterAccepted);\n        console.log('ðŸ” Raw charter_accepted values:', membersData.members.map(m => ({\n          id: m.id,\n          charter_accepted: m.charter_accepted\n        })));\n        console.log('ðŸ” Full transformed members:', JSON.stringify(transformedMembers, null, 2));\n        setMembers(transformedMembers);\n\n        // Filter pending members\n        const pending = transformedMembers.filter(m => m.role === 'pending');\n        setPendingMembers(pending);\n      }\n    } catch (error) {\n      console.error('Error loading admin data:', error);\n    }\n  };\n  const approveMember = member => {\n    setApprovingMember(member);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n  const handleApprovalSubmit = async () => {\n    if (!approvingMember || !approvalForm.expiryDate) {\n      alert('Please set an expiry date before approving the member.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${approvingMember.id}/approve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role: approvalForm.role,\n          expiryDate: approvalForm.expiryDate\n        })\n      });\n      if (response.ok) {\n        // Reload data to get updated information\n        await loadAdminData();\n        setApprovingMember(null);\n        setApprovalForm({\n          role: 'member',\n          expiryDate: ''\n        });\n      } else {\n        console.error('Failed to approve member');\n      }\n    } catch (error) {\n      console.error('Error approving member:', error);\n    }\n  };\n  const cancelApproval = () => {\n    setApprovingMember(null);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n  const removeMember = async memberId => {\n    const confirmed = window.confirm('âš ï¸ WARNING: This will PERMANENTLY DELETE this user and all their data!\\n\\nThis action cannot be undone. Are you sure you want to continue?');\n    if (!confirmed) return;\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        console.log('âœ… User deleted successfully');\n        await loadAdminData();\n      } else {\n        console.error('Failed to delete user');\n        const err = await response.json().catch(() => ({}));\n        alert(`Failed to delete user${err.error ? `: ${err.error}` : ''}`);\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      alert(`Error deleting user: ${error.message}`);\n    }\n  };\n  const rejectMember = async memberId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role: 'rejected'\n        })\n      });\n      if (response.ok) {\n        // Reload data to get updated information\n        loadAdminData();\n      } else {\n        console.error('Failed to reject member');\n      }\n    } catch (error) {\n      console.error('Error rejecting member:', error);\n    }\n  };\n  const editMember = member => {\n    console.log('ðŸ”„ Editing member:', member);\n    console.log('ðŸ” Member charterAccepted value:', member.charterAccepted);\n    const initialCharterAccepted = member.charterAccepted || false;\n    console.log('ðŸ” Initial charterAccepted value:', initialCharterAccepted);\n    setEditingMember(member);\n    setEditForm({\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n    console.log('ðŸ“ Edit form set to:', {\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n  };\n  const saveMemberEdit = async () => {\n    console.log('ðŸš¨ saveMemberEdit function called!');\n    if (!editingMember) {\n      console.log('âŒ No editingMember, returning early');\n      return;\n    }\n    console.log('ðŸ”„ Saving member edit for:', editingMember.id);\n    console.log('ðŸ“ Form data:', editForm);\n\n    // Clean up the form data - convert empty strings to null for optional fields\n    const cleanFormData = {\n      ...editForm,\n      phoneNumber: formatPhoneNumber(editForm.phoneNumber),\n      // Format phone number before sending\n      expiryDate: editForm.expiryDate || null,\n      charterAccepted: editForm.charterAccepted ? 1 : 0\n    };\n    console.log('ðŸ§¹ Cleaned form data:', cleanFormData);\n    console.log('ðŸ” Charter accepted value being sent:', editForm.charterAccepted, 'â†’', cleanFormData.charterAccepted);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ Token:', token ? 'Present' : 'Missing');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${editingMember.id}/update`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(cleanFormData)\n      });\n      console.log('ðŸ“¡ Response status:', response.status);\n      if (response.ok) {\n        const result = await response.json();\n        console.log('âœ… Update successful:', result);\n\n        // Check if role was changed and notify the user\n        if (editForm.role !== editingMember.role) {\n          console.log('ðŸ”„ Role changed from', editingMember.role, 'to', editForm.role);\n\n          // Send notification to the user about role change\n          try {\n            const notifyResponse = await fetch(`${API_BASE_URL}/admin/notify-role-change`, {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userId: editingMember.id,\n                oldRole: editingMember.role,\n                newRole: editForm.role\n              })\n            });\n            if (notifyResponse.ok) {\n              console.log('âœ… Role change notification sent');\n            } else {\n              console.log('âš ï¸ Failed to send role change notification');\n            }\n          } catch (error) {\n            console.log('âš ï¸ Error sending role change notification:', error);\n          }\n        }\n        console.log('ðŸ”„ Reloading admin data...');\n\n        // Reload data to get updated information\n        await loadAdminData();\n        console.log('âœ… Admin data reloaded');\n        setEditingMember(null);\n        setEditForm({\n          name: '',\n          email: '',\n          role: '',\n          expiryDate: '',\n          phoneNumber: '',\n          charterAccepted: false\n        });\n      } else {\n        const errorData = await response.json();\n        console.error('âŒ Failed to update member:', errorData);\n        alert(`Failed to update member: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('âŒ Error updating member:', error);\n      alert(`Error updating member: ${error.message}`);\n    }\n  };\n  const cancelEdit = () => {\n    setEditingMember(null);\n    setEditForm({\n      name: '',\n      email: '',\n      role: '',\n      expiryDate: '',\n      phoneNumber: '',\n      charterAccepted: false\n    });\n  };\n\n  // Debug: Log current user info\n  console.log('Current user:', currentUser);\n  console.log('Is admin check:', isAdmin(currentUser));\n\n  // Check if current user is admin\n  if (!currentUser || !isAdmin(currentUser)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-access-denied\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You don't have permission to access the admin panel.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current user: \", currentUser ? currentUser.email : 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User role: \", currentUser ? currentUser.role : 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please contact the club administrators if you believe this is an error.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Manage club members and monitor activity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'members' ? 'active' : ''}`,\n        onClick: () => setActiveTab('members'),\n        children: \"All Members\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'pending' ? 'active' : ''}`,\n        onClick: () => setActiveTab('pending'),\n        children: \"Pending Approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'email' ? 'active' : ''}`,\n        onClick: () => setActiveTab('email'),\n        children: \"Send Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'banner' ? 'active' : ''}`,\n        onClick: () => setActiveTab('banner'),\n        children: \"Site Banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [activeTab === 'members' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"members-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"All Members\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-warning\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u26A0\\uFE0F Important:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 20\n            }, this), \" The \\\"Delete\\\" button will permanently remove users and all their data. This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"members-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 530,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Join Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Absences\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Charter Accepted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: members.map(member => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `role-badge ${member.role}`,\n                    children: member.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 545,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.phone_number || 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.joinDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `absence-count ${member.absences > 0 ? 'has-absences' : 'no-absences'}`,\n                    children: member.absences || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `charter-status ${member.charterAccepted ? 'accepted' : 'not-accepted'}`,\n                    children: member.charterAccepted ? 'âœ… Yes' : 'âŒ No'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 555,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 554,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn small\",\n                    onClick: () => editMember(member),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn small danger\",\n                    onClick: () => removeMember(member.id),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 23\n                }, this)]\n              }, member.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 23\n      }, this), activeTab === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pending-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Pending Approval\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), pendingMembers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-pending\",\n          children: \"No pending members to approve!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pending-grid\",\n          children: pendingMembers.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pending-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"member-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: member.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 26\n                }, this), \" \", member.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Role:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 26\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"role-badge\",\n                  children: member.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Phone Number:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 26\n                }, this), \" \", member.phone_number || 'Not set']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Join Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 586,\n                  columnNumber: 26\n                }, this), \" \", member.joinDate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Expiry Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 26\n                }, this), \" \", member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"approval-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"approve-btn\",\n                onClick: () => approveMember(member),\n                children: \"\\u2705 Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"reject-btn\",\n                onClick: () => rejectMember(member.id),\n                children: \"\\u274C Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 21\n            }, this)]\n          }, member.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this), activeTab === 'banner' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Site Banner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Toggle a banner at the top of the site with a message.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: async e => {\n            e.preventDefault();\n            try {\n              const token = localStorage.getItem('triathlonToken');\n              const resp = await fetch(`${API_BASE_URL}/site/banner`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(bannerForm)\n              });\n              if (!resp.ok) {\n                const err = await resp.json().catch(() => ({}));\n                throw new Error(err.error || 'Failed to update banner');\n              }\n              alert('Banner updated');\n            } catch (err) {\n              alert(err.message);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"toggle-switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: !!bannerForm.enabled,\n                onChange: e => setBannerForm({\n                  ...bannerForm,\n                  enabled: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"toggle-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"toggle-label\",\n              children: bannerForm.enabled ? 'On' : 'Off'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: bannerForm.message,\n              onChange: e => setBannerForm({\n                ...bannerForm,\n                message: e.target.value\n              }),\n              placeholder: \"Work in progress\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Save Banner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 645,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 11\n      }, this), activeTab === 'email' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Send Individual Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 653,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: async e => {\n            e.preventDefault();\n            setEmailStatus(null);\n            if (!emailForm.to || !emailForm.subject) {\n              setEmailStatus({\n                type: 'error',\n                text: 'Please provide recipient and subject.'\n              });\n              return;\n            }\n            const hasTemplate = template.title || template.intro || (template.bullets || []).some(Boolean) || template.body;\n            if (!emailForm.message && !hasTemplate) {\n              setEmailStatus({\n                type: 'error',\n                text: 'Provide either Message or Template content.'\n              });\n              return;\n            }\n            try {\n              setSendingEmail(true);\n              const token = localStorage.getItem('triathlonToken');\n              const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify({\n                  ...emailForm,\n                  template\n                })\n              });\n              if (!resp.ok) {\n                const err = await resp.json().catch(() => ({}));\n                throw new Error(err.error || 'Failed to send email');\n              }\n              setEmailStatus({\n                type: 'success',\n                text: 'Email sent successfully.'\n              });\n              setEmailForm({\n                to: '',\n                subject: '',\n                message: ''\n              });\n              setTemplate({\n                bannerTitle: '',\n                title: '',\n                intro: '',\n                bullets: [''],\n                body: ''\n              });\n            } catch (err) {\n              setEmailStatus({\n                type: 'error',\n                text: err.message\n              });\n            } finally {\n              setSendingEmail(false);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: emailForm.to,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                to: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: emailForm.subject,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                subject: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Message (optional if using template)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: \"6\",\n              value: emailForm.message,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                message: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              padding: '16px',\n              border: '1px solid #eee',\n              borderRadius: 6,\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"Optional Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Banner Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 703,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: template.bannerTitle,\n                onChange: e => setTemplate({\n                  ...template,\n                  bannerTitle: e.target.value\n                }),\n                placeholder: `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined, {\n                  year: 'numeric',\n                  month: 'short',\n                  day: 'numeric'\n                })}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: template.title,\n                onChange: e => setTemplate({\n                  ...template,\n                  title: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Intro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 711,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"3\",\n                value: template.intro,\n                onChange: e => setTemplate({\n                  ...template,\n                  intro: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 710,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bullets\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 715,\n                columnNumber: 19\n              }, this), (template.bullets || []).map((b, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 8,\n                  marginBottom: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: b,\n                  onChange: e => {\n                    const copy = [...template.bullets];\n                    copy[idx] = e.target.value;\n                    setTemplate({\n                      ...template,\n                      bullets: copy\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"action-btn small danger\",\n                  onClick: () => {\n                    const copy = [...template.bullets];\n                    copy.splice(idx, 1);\n                    if (copy.length === 0) copy.push('');\n                    setTemplate({\n                      ...template,\n                      bullets: copy\n                    });\n                  },\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 719,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"action-btn small\",\n                onClick: () => setTemplate({\n                  ...template,\n                  bullets: [...template.bullets, '']\n                }),\n                children: \"Add bullet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Body\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"6\",\n                value: template.body,\n                onChange: e => setTemplate({\n                  ...template,\n                  body: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              padding: '16px',\n              border: '1px solid #eee',\n              borderRadius: 6,\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#dc2626',\n                color: '#fff',\n                padding: '12px',\n                borderRadius: 8,\n                textAlign: 'center',\n                marginBottom: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: template.bannerTitle || `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined, {\n                  year: 'numeric',\n                  month: 'short',\n                  day: 'numeric'\n                })}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 17\n            }, this), template.title && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: template.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 36\n            }, this), template.intro && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: template.intro\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 36\n            }, this), (template.bullets || []).filter(Boolean).length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: template.bullets.filter(Boolean).map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: b\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 739,\n                columnNumber: 68\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 19\n            }, this), (template.body || emailForm.message) && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: template.body || emailForm.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this), emailStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `notice ${emailStatus.type}`,\n            children: emailStatus.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: sendingEmail,\n              children: sendingEmail ? 'Sending...' : 'Send Email'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 749,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '2rem',\n            padding: '1.5rem',\n            border: '1px solid #e5e7eb',\n            borderRadius: '8px',\n            backgroundColor: '#f9fafb'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0,\n              color: '#1f2937'\n            },\n            children: \"Send to All Members, Exec, and Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#6b7280',\n              marginBottom: '1rem'\n            },\n            children: \"This will send the template above to all members, executives, and admins (excluding pending users).\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this), bulkEmailStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `notice ${bulkEmailStatus.type}`,\n            style: {\n              marginBottom: '1rem'\n            },\n            children: bulkEmailStatus.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendBulkEmail,\n            disabled: sendingBulkEmail,\n            className: \"btn btn-secondary\",\n            style: {\n              backgroundColor: '#dc2626',\n              color: 'white',\n              border: 'none',\n              padding: '0.75rem 1.5rem',\n              borderRadius: '6px',\n              cursor: sendingBulkEmail ? 'not-allowed' : 'pointer',\n              opacity: sendingBulkEmail ? 0.6 : 1\n            },\n            children: sendingBulkEmail ? 'Sending to All...' : 'Send to All Members, Exec & Admin'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 652,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 7\n    }, this), editingMember && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Edit Member: \", editingMember.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 13\n        }, this), console.log('ðŸ” Modal rendering with editForm:', editForm), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            saveMemberEdit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 799,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editForm.name,\n              onChange: e => setEditForm({\n                ...editForm,\n                name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: editForm.email,\n              onChange: e => setEditForm({\n                ...editForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editForm.role,\n              onChange: e => setEditForm({\n                ...editForm,\n                role: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pending\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"member\",\n                children: \"Member\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exec\",\n                children: \"Executive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 825,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"administrator\",\n                children: \"Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 826,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Expiry Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 831,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: editForm.expiryDate,\n              onChange: e => setEditForm({\n                ...editForm,\n                expiryDate: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Phone Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 840,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              value: editForm.phoneNumber,\n              onChange: handlePhoneNumberChange,\n              placeholder: \"(123) 456-7890\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 841,\n              columnNumber: 17\n            }, this), editForm.phoneNumber && !validatePhoneNumber(editForm.phoneNumber) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: \"Please enter a valid 10-digit phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"For SMS notifications when promoted from waitlists\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 852,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 839,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Charter Accepted:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editForm.charterAccepted ? '1' : '0',\n              onChange: e => {\n                const newValue = e.target.value === '1';\n                console.log('ðŸ” Charter dropdown changed:', e.target.value, 'â†’', newValue);\n                setEditForm({\n                  ...editForm,\n                  charterAccepted: newValue\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"Yes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 857,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Whether the member has accepted the team charter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 868,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8em',\n                color: '#666',\n                marginTop: '4px'\n              },\n              children: [\"Current value: \", editForm.charterAccepted ? 'Yes (1)' : 'No (0)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 855,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: cancelEdit,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 875,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 794,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 793,\n      columnNumber: 9\n    }, this), approvingMember && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Approve Member: \", approvingMember.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 886,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleApprovalSubmit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 889,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: approvalForm.role,\n              onChange: e => setApprovalForm({\n                ...approvalForm,\n                role: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"member\",\n                children: \"Member\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exec\",\n                children: \"Executive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 896,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"administrator\",\n                children: \"Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 897,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 890,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 888,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Expiry Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: approvalForm.expiryDate,\n              onChange: e => setApprovalForm({\n                ...approvalForm,\n                expiryDate: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 903,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Membership will expire on this date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 901,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Approve Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 913,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: cancelApproval,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 885,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 884,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 482,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"XUayQ0R+gpdHFlp8CJ2mgqpl41A=\", false, function () {\n  return [useAuth];\n});\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useAuth","jsxDEV","_jsxDEV","Admin","_s","currentUser","isAdmin","members","setMembers","pendingMembers","setPendingMembers","activeTab","setActiveTab","bannerForm","setBannerForm","enabled","message","emailForm","setEmailForm","to","subject","template","setTemplate","bannerTitle","title","intro","bullets","body","sendingEmail","setSendingEmail","emailStatus","setEmailStatus","sendingBulkEmail","setSendingBulkEmail","bulkEmailStatus","setBulkEmailStatus","emailType","setEmailType","editingMember","setEditingMember","editForm","setEditForm","name","email","role","expiryDate","phoneNumber","charterAccepted","approvingMember","setApprovingMember","approvalForm","setApprovalForm","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","validatePhoneNumber","phone","digitsOnly","replace","length","formatPhoneNumber","slice","handlePhoneNumberChange","e","value","target","formatted","loadAdminData","loadBannerData","response","fetch","ok","_data$banner","_data$banner2","data","json","banner","error","console","handleSendEmail","some","b","trim","errorMsg","type","text","token","localStorage","getItem","resp","method","headers","JSON","stringify","recipients","exec","admin","pending","sentCount","err","membersResponse","_transformedMembers$f","_transformedMembers$f2","membersData","log","transformedMembers","map","member","joinDate","join_date","expiry_date","absences","charter_accepted","find","m","id","filter","approveMember","handleApprovalSubmit","alert","cancelApproval","removeMember","memberId","confirmed","window","confirm","catch","rejectMember","editMember","initialCharterAccepted","phone_number","saveMemberEdit","cleanFormData","status","result","notifyResponse","userId","oldRole","newRole","errorData","cancelEdit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Date","toLocaleDateString","onSubmit","preventDefault","Error","style","display","alignItems","gap","checked","onChange","placeholder","hasTemplate","Boolean","required","rows","padding","border","borderRadius","marginBottom","marginTop","undefined","year","month","day","idx","copy","splice","push","background","color","textAlign","i","whiteSpace","disabled","backgroundColor","handleSendBulkEmail","cursor","opacity","newValue","fontSize","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './Admin.css';\n\nconst Admin = () => {\n  const { currentUser, isAdmin } = useAuth();\n  const [members, setMembers] = useState([]);\n  const [pendingMembers, setPendingMembers] = useState([]);\n  const [activeTab, setActiveTab] = useState('members');\n  const [bannerForm, setBannerForm] = useState({ enabled: false, message: '' });\n  const [emailForm, setEmailForm] = useState({ to: '', subject: '', message: '' });\n  const [template, setTemplate] = useState({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [emailStatus, setEmailStatus] = useState(null);\n  const [sendingBulkEmail, setSendingBulkEmail] = useState(false);\n  const [bulkEmailStatus, setBulkEmailStatus] = useState(null);\n  const [emailType, setEmailType] = useState('individual'); // 'individual' or 'everyone'\n\n  const [editingMember, setEditingMember] = useState(null);\n  const [editForm, setEditForm] = useState({\n    name: '',\n    email: '',\n    role: '',\n    expiryDate: '',\n    phoneNumber: '',\n    charterAccepted: false\n  });\n  const [approvingMember, setApprovingMember] = useState(null);\n  const [approvalForm, setApprovalForm] = useState({\n    role: 'member',\n    expiryDate: ''\n  });\n\n\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n\n\n  // Phone number formatting functions (same as Login.js and Profile.js)\n  const validatePhoneNumber = (phone) => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Check if it's 10 digits (North American format)\n    return digitsOnly.length === 10;\n  };\n\n  const formatPhoneNumber = (phone) => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Format as (XXX) XXX-XXXX\n    if (digitsOnly.length === 10) {\n      return `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n    }\n    return phone; // Return original if not 10 digits\n  };\n\n  const handlePhoneNumberChange = (e) => {\n    const value = e.target.value;\n    // Remove all non-digit characters\n    const digitsOnly = value.replace(/\\D/g, '');\n    \n    // Limit to 10 digits\n    if (digitsOnly.length <= 10) {\n      // Format as user types\n      let formatted = digitsOnly;\n      if (digitsOnly.length >= 6) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n      } else if (digitsOnly.length >= 3) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3)}`;\n      } else if (digitsOnly.length > 0) {\n        formatted = `(${digitsOnly}`;\n      }\n      setEditForm({...editForm, phoneNumber: formatted});\n    }\n  };\n\n  // Load data from backend API\n  useEffect(() => {\n    if (!currentUser || !isAdmin(currentUser)) {\n      return;\n    }\n\n    loadAdminData();\n  }, [currentUser, isAdmin]);\n\n  const loadBannerData = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/site/banner`);\n      if (response.ok) {\n        const data = await response.json();\n        setBannerForm({\n          enabled: data.banner?.enabled || false,\n          message: data.banner?.message || ''\n        });\n      }\n    } catch (error) {\n      console.error('Error loading banner data:', error);\n    }\n  };\n\n  const handleSendEmail = async () => {\n    setEmailStatus(null);\n    setBulkEmailStatus(null);\n    \n    if (!template.title && !template.intro && !template.bullets.some(b => b.trim()) && !template.body) {\n      const errorMsg = 'Please provide template content.';\n      if (emailType === 'individual') {\n        setEmailStatus({ type: 'error', text: errorMsg });\n      } else {\n        setBulkEmailStatus({ type: 'error', text: errorMsg });\n      }\n      return;\n    }\n    \n    if (emailType === 'individual' && !emailForm.to) {\n      setEmailStatus({ type: 'error', text: 'Please provide recipient email.' });\n      return;\n    }\n    \n    try {\n      if (emailType === 'individual') {\n        setSendingEmail(true);\n        const token = localStorage.getItem('triathlonToken');\n        const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n          body: JSON.stringify({ \n            to: emailForm.to, \n            subject: template.title || 'UofT Tri Club Update',\n            message: emailForm.message || '',\n            template: template \n          })\n        });\n        const data = await resp.json();\n        if (resp.ok) {\n          setEmailStatus({ type: 'success', text: 'Email sent successfully!' });\n          setEmailForm({ to: '', subject: '', message: '' });\n          setTemplate({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n        } else {\n          setEmailStatus({ type: 'error', text: data.error || 'Failed to send email' });\n        }\n        setSendingEmail(false);\n      } else {\n        setSendingBulkEmail(true);\n        const token = localStorage.getItem('triathlonToken');\n        const resp = await fetch(`${API_BASE_URL}/admin/send-bulk-email`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n          body: JSON.stringify({\n            subject: template.title || 'UofT Tri Club Update',\n            message: template.body || '',\n            template: template,\n            recipients: {\n              members: true,\n              exec: true,\n              admin: true,\n              pending: false\n            }\n          })\n        });\n        const data = await resp.json();\n        if (resp.ok) {\n          setBulkEmailStatus({ type: 'success', text: `Bulk email sent successfully to ${data.sentCount} recipients!` });\n          setTemplate({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n        } else {\n          setBulkEmailStatus({ type: 'error', text: data.error || 'Failed to send bulk email' });\n        }\n        setSendingBulkEmail(false);\n      }\n    } catch (err) {\n      if (emailType === 'individual') {\n        setEmailStatus({ type: 'error', text: err.message });\n        setSendingEmail(false);\n      } else {\n        setBulkEmailStatus({ type: 'error', text: err.message });\n        setSendingBulkEmail(false);\n      }\n    }\n  };\n\n  const loadAdminData = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load banner data\n      await loadBannerData();\n\n      // Load all members\n      const membersResponse = await fetch(`${API_BASE_URL}/admin/members`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (membersResponse.ok) {\n        const membersData = await membersResponse.json();\n        console.log('ðŸ“Š Members data received:', membersData.members);\n        \n        // Transform backend data to frontend format (snake_case to camelCase)\n        const transformedMembers = membersData.members.map(member => ({\n          ...member,\n          joinDate: member.join_date,\n          expiryDate: member.expiry_date,\n          absences: member.absences || 0,\n          charterAccepted: member.charter_accepted || 0\n        }));\n        \n        console.log('ðŸ”„ Transformed members data:', transformedMembers);\n        console.log('ðŸ“Š Raw backend data:', membersData.members);\n        console.log('ðŸ” Sample member with absences:', transformedMembers.find(m => m.id)?.absences);\n        console.log('ðŸ” Sample member with charter:', transformedMembers.find(m => m.id)?.charterAccepted);\n        console.log('ðŸ” Raw charter_accepted values:', membersData.members.map(m => ({ id: m.id, charter_accepted: m.charter_accepted })));\n        console.log('ðŸ” Full transformed members:', JSON.stringify(transformedMembers, null, 2));\n        setMembers(transformedMembers);\n        \n        // Filter pending members\n        const pending = transformedMembers.filter(m => m.role === 'pending');\n        setPendingMembers(pending);\n      }\n    } catch (error) {\n      console.error('Error loading admin data:', error);\n    }\n  };\n\n  const approveMember = (member) => {\n    setApprovingMember(member);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n\n  const handleApprovalSubmit = async () => {\n    if (!approvingMember || !approvalForm.expiryDate) {\n      alert('Please set an expiry date before approving the member.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${approvingMember.id}/approve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ \n          role: approvalForm.role,\n          expiryDate: approvalForm.expiryDate\n        })\n      });\n\n      if (response.ok) {\n        // Reload data to get updated information\n        await loadAdminData();\n        setApprovingMember(null);\n        setApprovalForm({ role: 'member', expiryDate: '' });\n      } else {\n        console.error('Failed to approve member');\n      }\n    } catch (error) {\n      console.error('Error approving member:', error);\n    }\n  };\n\n  const cancelApproval = () => {\n    setApprovingMember(null);\n    setApprovalForm({ role: 'member', expiryDate: '' });\n  };\n\n\n\n  const removeMember = async (memberId) => {\n    const confirmed = window.confirm('âš ï¸ WARNING: This will PERMANENTLY DELETE this user and all their data!\\n\\nThis action cannot be undone. Are you sure you want to continue?');\n    if (!confirmed) return;\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        console.log('âœ… User deleted successfully');\n        await loadAdminData();\n      } else {\n        console.error('Failed to delete user');\n        const err = await response.json().catch(() => ({}));\n        alert(`Failed to delete user${err.error ? `: ${err.error}` : ''}`);\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      alert(`Error deleting user: ${error.message}`);\n    }\n  };\n\n  const rejectMember = async (memberId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ role: 'rejected' })\n      });\n\n      if (response.ok) {\n        // Reload data to get updated information\n        loadAdminData();\n      } else {\n        console.error('Failed to reject member');\n      }\n    } catch (error) {\n      console.error('Error rejecting member:', error);\n    }\n  };\n\n  const editMember = (member) => {\n    console.log('ðŸ”„ Editing member:', member);\n    console.log('ðŸ” Member charterAccepted value:', member.charterAccepted);\n    \n    const initialCharterAccepted = member.charterAccepted || false;\n    console.log('ðŸ” Initial charterAccepted value:', initialCharterAccepted);\n    \n    setEditingMember(member);\n    setEditForm({\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n    console.log('ðŸ“ Edit form set to:', {\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n  };\n\n  const saveMemberEdit = async () => {\n    console.log('ðŸš¨ saveMemberEdit function called!');\n    if (!editingMember) {\n      console.log('âŒ No editingMember, returning early');\n      return;\n    }\n    \n    console.log('ðŸ”„ Saving member edit for:', editingMember.id);\n    console.log('ðŸ“ Form data:', editForm);\n    \n    // Clean up the form data - convert empty strings to null for optional fields\n    const cleanFormData = {\n      ...editForm,\n      phoneNumber: formatPhoneNumber(editForm.phoneNumber), // Format phone number before sending\n      expiryDate: editForm.expiryDate || null,\n      charterAccepted: editForm.charterAccepted ? 1 : 0\n    };\n    \n    console.log('ðŸ§¹ Cleaned form data:', cleanFormData);\n    console.log('ðŸ” Charter accepted value being sent:', editForm.charterAccepted, 'â†’', cleanFormData.charterAccepted);\n    \n    try {\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ Token:', token ? 'Present' : 'Missing');\n      \n      const response = await fetch(`${API_BASE_URL}/admin/members/${editingMember.id}/update`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(cleanFormData)\n      });\n\n      console.log('ðŸ“¡ Response status:', response.status);\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('âœ… Update successful:', result);\n        \n        // Check if role was changed and notify the user\n        if (editForm.role !== editingMember.role) {\n          console.log('ðŸ”„ Role changed from', editingMember.role, 'to', editForm.role);\n          \n          // Send notification to the user about role change\n          try {\n            const notifyResponse = await fetch(`${API_BASE_URL}/admin/notify-role-change`, {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userId: editingMember.id,\n                oldRole: editingMember.role,\n                newRole: editForm.role\n              })\n            });\n            \n            if (notifyResponse.ok) {\n              console.log('âœ… Role change notification sent');\n            } else {\n              console.log('âš ï¸ Failed to send role change notification');\n            }\n          } catch (error) {\n            console.log('âš ï¸ Error sending role change notification:', error);\n          }\n        }\n        \n        console.log('ðŸ”„ Reloading admin data...');\n        \n        // Reload data to get updated information\n        await loadAdminData();\n        console.log('âœ… Admin data reloaded');\n        \n        setEditingMember(null);\n        setEditForm({\n          name: '',\n          email: '',\n          role: '',\n          expiryDate: '',\n          phoneNumber: '',\n          charterAccepted: false\n        });\n      } else {\n        const errorData = await response.json();\n        console.error('âŒ Failed to update member:', errorData);\n        alert(`Failed to update member: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('âŒ Error updating member:', error);\n      alert(`Error updating member: ${error.message}`);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingMember(null);\n    setEditForm({\n      name: '',\n      email: '',\n      role: '',\n      expiryDate: '',\n      phoneNumber: '',\n      charterAccepted: false\n    });\n  };\n\n\n\n  // Debug: Log current user info\n  console.log('Current user:', currentUser);\n  console.log('Is admin check:', isAdmin(currentUser));\n\n  // Check if current user is admin\n  if (!currentUser || !isAdmin(currentUser)) {\n    return (\n      <div className=\"admin-container\">\n        <div className=\"admin-access-denied\">\n          <h2>Access Denied</h2>\n          <p>You don't have permission to access the admin panel.</p>\n          <p>Current user: {currentUser ? currentUser.email : 'None'}</p>\n          <p>User role: {currentUser ? currentUser.role : 'None'}</p>\n          <p>Please contact the club administrators if you believe this is an error.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-container\">\n              <div className=\"admin-header\">\n          <h1>Admin Dashboard</h1>\n          <p>Manage club members and monitor activity</p>\n\n        </div>\n\n      <div className=\"admin-tabs\">\n        <button \n          className={`tab-button ${activeTab === 'members' ? 'active' : ''}`}\n          onClick={() => setActiveTab('members')}\n        >\n          All Members\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'pending' ? 'active' : ''}`}\n          onClick={() => setActiveTab('pending')}\n        >\n          Pending Approval\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'email' ? 'active' : ''}`}\n          onClick={() => setActiveTab('email')}\n        >\n          Send Email\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'banner' ? 'active' : ''}`}\n          onClick={() => setActiveTab('banner')}\n        >\n          Site Banner\n        </button>\n      </div>\n\n      <div className=\"admin-content\">\n\n\n        {activeTab === 'members' && (\n                      <div className=\"members-section\">\n              <h2>All Members</h2>\n              <div className=\"admin-warning\">\n                <p><strong>âš ï¸ Important:</strong> The \"Delete\" button will permanently remove users and all their data. This action cannot be undone.</p>\n              </div>\n              <div className=\"members-table\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Role</th>\n                    <th>Phone Number</th>\n                    <th>Join Date</th>\n                    <th>Expiry Date</th>\n                    <th>Absences</th>\n                    <th>Charter Accepted</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {members.map(member => (\n                    <tr key={member.id}>\n                      <td>{member.name}</td>\n                      <td>{member.email}</td>\n                      <td><span className={`role-badge ${member.role}`}>{member.role}</span></td>\n                      <td>{member.phone_number || 'Not set'}</td>\n                      <td>{member.joinDate}</td>\n                      <td>{member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'}</td>\n                      <td>\n                        <span className={`absence-count ${member.absences > 0 ? 'has-absences' : 'no-absences'}`}>\n                          {member.absences || 0}\n                        </span>\n                      </td>\n                      <td>\n                        <span className={`charter-status ${member.charterAccepted ? 'accepted' : 'not-accepted'}`}>\n                          {member.charterAccepted ? 'âœ… Yes' : 'âŒ No'}\n                        </span>\n                      </td>\n\n                      <td>\n                        <button className=\"action-btn small\" onClick={() => editMember(member)}>Edit</button>\n                        <button className=\"action-btn small danger\" onClick={() => removeMember(member.id)}>Delete</button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'pending' && (\n          <div className=\"pending-section\">\n            <h2>Pending Approval</h2>\n            {pendingMembers.length === 0 ? (\n              <p className=\"no-pending\">No pending members to approve!</p>\n            ) : (\n              <div className=\"pending-grid\">\n                {pendingMembers.map(member => (\n                  <div key={member.id} className=\"pending-card\">\n                    <div className=\"member-info\">\n                      <h3>{member.name}</h3>\n                      <p><strong>Email:</strong> {member.email}</p>\n                      <p><strong>Role:</strong> <span className=\"role-badge\">{member.role}</span></p>\n                      <p><strong>Phone Number:</strong> {member.phone_number || 'Not set'}</p>\n                      <p><strong>Join Date:</strong> {member.joinDate}</p>\n                      <p><strong>Expiry Date:</strong> {member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'}</p>\n      \n                    </div>\n                    <div className=\"approval-actions\">\n                                              <button \n                          className=\"approve-btn\"\n                          onClick={() => approveMember(member)}\n                        >\n                          âœ… Approve\n                        </button>\n                      <button \n                        className=\"reject-btn\"\n                        onClick={() => rejectMember(member.id)}\n                      >\n                        âŒ Reject\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'banner' && (\n          <div className=\"email-section\">\n            <h2>Site Banner</h2>\n            <p>Toggle a banner at the top of the site with a message.</p>\n            <form onSubmit={async (e) => {\n              e.preventDefault();\n              try {\n                const token = localStorage.getItem('triathlonToken');\n                const resp = await fetch(`${API_BASE_URL}/site/banner`, {\n                  method: 'PUT',\n                  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n                  body: JSON.stringify(bannerForm)\n                });\n                if (!resp.ok) {\n                  const err = await resp.json().catch(() => ({}));\n                  throw new Error(err.error || 'Failed to update banner');\n                }\n                alert('Banner updated');\n              } catch (err) {\n                alert(err.message);\n              }\n            }}>\n              <div className=\"form-group\" style={{display:'flex', alignItems:'center', gap:'12px'}}>\n                <label className=\"toggle-switch\">\n                  <input type=\"checkbox\" checked={!!bannerForm.enabled} onChange={(e)=> setBannerForm({ ...bannerForm, enabled: e.target.checked })} />\n                  <span className=\"toggle-slider\"></span>\n                </label>\n                <span className=\"toggle-label\">{bannerForm.enabled ? 'On' : 'Off'}</span>\n              </div>\n              <div className=\"form-group\">\n                <label>Message</label>\n                <input type=\"text\" value={bannerForm.message} onChange={(e)=> setBannerForm({ ...bannerForm, message: e.target.value })} placeholder=\"Work in progressâ€¦\" />\n              </div>\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Save Banner</button>\n              </div>\n            </form>\n          </div>\n        )}\n\n        {activeTab === 'email' && (\n          <div className=\"email-section\">\n            <h2>Send Individual Email</h2>\n            <form onSubmit={async (e) => {\n              e.preventDefault();\n              setEmailStatus(null);\n              if (!emailForm.to || !emailForm.subject) {\n                setEmailStatus({ type: 'error', text: 'Please provide recipient and subject.' });\n                return;\n              }\n              const hasTemplate = (template.title || template.intro || (template.bullets||[]).some(Boolean) || template.body);\n              if (!emailForm.message && !hasTemplate) {\n                setEmailStatus({ type: 'error', text: 'Provide either Message or Template content.' });\n                return;\n              }\n              try {\n                setSendingEmail(true);\n                const token = localStorage.getItem('triathlonToken');\n                const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n                  body: JSON.stringify({ ...emailForm, template })\n                });\n                if (!resp.ok) {\n                  const err = await resp.json().catch(() => ({}));\n                  throw new Error(err.error || 'Failed to send email');\n                }\n                setEmailStatus({ type: 'success', text: 'Email sent successfully.' });\n                setEmailForm({ to: '', subject: '', message: '' });\n                setTemplate({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n              } catch (err) {\n                setEmailStatus({ type: 'error', text: err.message });\n              } finally {\n                setSendingEmail(false);\n              }\n            }}>\n              <div className=\"form-group\">\n                <label>To</label>\n                <input type=\"email\" value={emailForm.to} onChange={(e) => setEmailForm({ ...emailForm, to: e.target.value })} required />\n              </div>\n              <div className=\"form-group\">\n                <label>Subject</label>\n                <input type=\"text\" value={emailForm.subject} onChange={(e) => setEmailForm({ ...emailForm, subject: e.target.value })} required />\n              </div>\n              <div className=\"form-group\">\n                <label>Message (optional if using template)</label>\n                <textarea rows=\"6\" value={emailForm.message} onChange={(e) => setEmailForm({ ...emailForm, message: e.target.value })} />\n              </div>\n\n              <div className=\"card\" style={{padding:'16px', border:'1px solid #eee', borderRadius:6, marginBottom:16}}>\n                <h3 style={{marginTop:0}}>Optional Template</h3>\n                <div className=\"form-group\">\n                  <label>Banner Title</label>\n                  <input type=\"text\" value={template.bannerTitle} onChange={(e)=>setTemplate({...template, bannerTitle:e.target.value})} placeholder={`UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'})}`} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input type=\"text\" value={template.title} onChange={(e)=>setTemplate({...template, title:e.target.value})} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Intro</label>\n                  <textarea rows=\"3\" value={template.intro} onChange={(e)=>setTemplate({...template, intro:e.target.value})} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Bullets</label>\n                  {(template.bullets||[]).map((b, idx)=> (\n                    <div key={idx} style={{display:'flex', gap:8, marginBottom:8}}>\n                      <input type=\"text\" value={b} onChange={(e)=>{ const copy=[...template.bullets]; copy[idx]=e.target.value; setTemplate({...template, bullets:copy}); }} />\n                      <button type=\"button\" className=\"action-btn small danger\" onClick={()=>{ const copy=[...template.bullets]; copy.splice(idx,1); if(copy.length===0) copy.push(''); setTemplate({...template, bullets:copy}); }}>Remove</button>\n                    </div>\n                  ))}\n                  <button type=\"button\" className=\"action-btn small\" onClick={()=> setTemplate({...template, bullets:[...template.bullets, '']})}>Add bullet</button>\n                </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea rows=\"6\" value={template.body} onChange={(e)=>setTemplate({...template, body:e.target.value})} />\n                </div>\n              </div>\n\n              <div className=\"card\" style={{padding:'16px', border:'1px solid #eee', borderRadius:6, marginBottom:16}}>\n                <h3 style={{marginTop:0}}>Preview</h3>\n                <div style={{background:'#dc2626', color:'#fff', padding:'12px', borderRadius:8, textAlign:'center', marginBottom:12}}>\n                  <strong>{template.bannerTitle || `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'})}`}</strong>\n                </div>\n                {template.title && <h4>{template.title}</h4>}\n                {template.intro && <p>{template.intro}</p>}\n                {(template.bullets||[]).filter(Boolean).length>0 && (\n                  <ul>\n                    {template.bullets.filter(Boolean).map((b, i)=> <li key={i}>{b}</li>)}\n                  </ul>\n                )}\n                {(template.body || emailForm.message) && <p style={{whiteSpace:'pre-wrap'}}>{template.body || emailForm.message}</p>}\n              </div>\n\n              {emailStatus && (\n                <div className={`notice ${emailStatus.type}`}>{emailStatus.text}</div>\n              )}\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={sendingEmail}>\n                  {sendingEmail ? 'Sending...' : 'Send Email'}\n                </button>\n              </div>\n            </form>\n            \n            {/* Bulk Email Section */}\n            <div style={{ marginTop: '2rem', padding: '1.5rem', border: '1px solid #e5e7eb', borderRadius: '8px', backgroundColor: '#f9fafb' }}>\n              <h3 style={{ marginTop: 0, color: '#1f2937' }}>Send to All Members, Exec, and Admin</h3>\n              <p style={{ color: '#6b7280', marginBottom: '1rem' }}>\n                This will send the template above to all members, executives, and admins (excluding pending users).\n              </p>\n              \n              {bulkEmailStatus && (\n                <div className={`notice ${bulkEmailStatus.type}`} style={{ marginBottom: '1rem' }}>\n                  {bulkEmailStatus.text}\n                </div>\n              )}\n              \n              <button \n                onClick={handleSendBulkEmail}\n                disabled={sendingBulkEmail}\n                className=\"btn btn-secondary\"\n                style={{ \n                  backgroundColor: '#dc2626', \n                  color: 'white', \n                  border: 'none',\n                  padding: '0.75rem 1.5rem',\n                  borderRadius: '6px',\n                  cursor: sendingBulkEmail ? 'not-allowed' : 'pointer',\n                  opacity: sendingBulkEmail ? 0.6 : 1\n                }}\n              >\n                {sendingBulkEmail ? 'Sending to All...' : 'Send to All Members, Exec & Admin'}\n              </button>\n            </div>\n          </div>\n        )}\n\n\n      </div>\n\n      {/* Edit Member Modal */}\n      {editingMember && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h2>Edit Member: {editingMember.name}</h2>\n            {console.log('ðŸ” Modal rendering with editForm:', editForm)}\n            <form onSubmit={(e) => { e.preventDefault(); saveMemberEdit(); }}>\n              <div className=\"form-group\">\n                <label>Name:</label>\n                <input\n                  type=\"text\"\n                  value={editForm.name}\n                  onChange={(e) => setEditForm({...editForm, name: e.target.value})}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Email:</label>\n                <input\n                  type=\"email\"\n                  value={editForm.email}\n                  onChange={(e) => setEditForm({...editForm, email: e.target.value})}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Role:</label>\n                <select\n                  value={editForm.role}\n                  onChange={(e) => setEditForm({...editForm, role: e.target.value})}\n                  required\n                >\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"member\">Member</option>\n                  <option value=\"exec\">Executive</option>\n                  <option value=\"administrator\">Administrator</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Expiry Date:</label>\n                <input\n                  type=\"date\"\n                  value={editForm.expiryDate}\n                  onChange={(e) => setEditForm({...editForm, expiryDate: e.target.value})}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>Phone Number:</label>\n                <input\n                  type=\"tel\"\n                  value={editForm.phoneNumber}\n                  onChange={handlePhoneNumberChange}\n                  placeholder=\"(123) 456-7890\"\n                />\n                {editForm.phoneNumber && !validatePhoneNumber(editForm.phoneNumber) && (\n                  <div className=\"error-message\">\n                    Please enter a valid 10-digit phone number\n                  </div>\n                )}\n                <small>For SMS notifications when promoted from waitlists</small>\n              </div>\n              \n              <div className=\"form-group\">\n                <label>Charter Accepted:</label>\n                <select\n                  value={editForm.charterAccepted ? '1' : '0'}\n                  onChange={(e) => {\n                    const newValue = e.target.value === '1';\n                    console.log('ðŸ” Charter dropdown changed:', e.target.value, 'â†’', newValue);\n                    setEditForm({...editForm, charterAccepted: newValue});\n                  }}\n                >\n                  <option value=\"0\">No</option>\n                  <option value=\"1\">Yes</option>\n                </select>\n                <small>Whether the member has accepted the team charter</small>\n                <div style={{fontSize: '0.8em', color: '#666', marginTop: '4px'}}>\n                  Current value: {editForm.charterAccepted ? 'Yes (1)' : 'No (0)'}\n                </div>\n              </div>\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelEdit}>Cancel</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Approval Modal */}\n      {approvingMember && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h2>Approve Member: {approvingMember.name}</h2>\n            <form onSubmit={(e) => { e.preventDefault(); handleApprovalSubmit(); }}>\n              <div className=\"form-group\">\n                <label>Role:</label>\n                <select\n                  value={approvalForm.role}\n                  onChange={(e) => setApprovalForm({...approvalForm, role: e.target.value})}\n                  required\n                >\n                  <option value=\"member\">Member</option>\n                  <option value=\"exec\">Executive</option>\n                  <option value=\"administrator\">Administrator</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Expiry Date:</label>\n                <input\n                  type=\"date\"\n                  value={approvalForm.expiryDate}\n                  onChange={(e) => setApprovalForm({...approvalForm, expiryDate: e.target.value})}\n                  required\n                />\n                <small>Membership will expire on this date</small>\n              </div>\n\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Approve Member</button>\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelApproval}>Cancel</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}