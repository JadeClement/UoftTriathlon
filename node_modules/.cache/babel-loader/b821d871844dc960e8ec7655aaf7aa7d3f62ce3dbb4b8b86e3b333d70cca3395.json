{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/Forum.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { useWorkoutEdit } from '../hooks/useWorkoutEdit';\nimport './Forum.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Forum = () => {\n  _s();\n  const {\n    currentUser,\n    isMember,\n    isExec,\n    getUserRole\n  } = useAuth();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('workouts');\n  const [workoutPosts, setWorkoutPosts] = useState([]);\n  const [eventPosts, setEventPosts] = useState([]);\n  const [newWorkout, setNewWorkout] = useState('');\n  const [newEvent, setNewEvent] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showWorkoutForm, setShowWorkoutForm] = useState(false);\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [workoutForm, setWorkoutForm] = useState({\n    title: '',\n    type: 'spin',\n    date: '',\n    time: '',\n    content: '',\n    capacity: ''\n  });\n  const [eventForm, setEventForm] = useState({\n    title: '',\n    date: '',\n    content: ''\n  });\n  const [workoutSignups, setWorkoutSignups] = useState({});\n  const [workoutWaitlists, setWorkoutWaitlists] = useState({});\n  const [showCancelModal, setShowCancelModal] = useState(false);\n  const [workoutToCancel, setWorkoutToCancel] = useState(null);\n  const [showPromotionMessage, setShowPromotionMessage] = useState(false);\n  const [promotedWorkout, setPromotedWorkout] = useState(null);\n  const {\n    editingWorkout,\n    editForm,\n    saving,\n    startEdit,\n    cancelEdit,\n    updateField,\n    saveWorkout\n  } = useWorkoutEdit(API_BASE_URL);\n  const API_BASE_URL = 'http://localhost:5001/api';\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n\n    // Check if user has member access or higher\n    if (!isMember(currentUser)) {\n      navigate('/login');\n      return;\n    }\n\n    // Load forum posts from backend API\n    loadForumPosts();\n  }, [currentUser, navigate, isMember]);\n\n  // Listen for profile updates to refresh profile pictures\n  useEffect(() => {\n    const handleProfileUpdate = event => {\n      console.log('ðŸ”„ Profile updated event received in Forum, refreshing posts...');\n      loadForumPosts();\n    };\n    window.addEventListener('profileUpdated', handleProfileUpdate);\n    return () => {\n      window.removeEventListener('profileUpdated', handleProfileUpdate);\n    };\n  }, []);\n  const loadForumPosts = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load workout posts\n      const workoutResponse = await fetch(`${API_BASE_URL}/forum/posts?type=workout`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (workoutResponse.ok) {\n        const workoutData = await workoutResponse.json();\n        console.log('ðŸ” Workout data received:', workoutData);\n\n        // Ensure we have valid posts data\n        const posts = workoutData.posts || workoutData || [];\n        console.log('ðŸ” Posts to set:', posts);\n\n        // Filter out any invalid posts\n        const validPosts = posts.filter(post => post && post.id && typeof post === 'object');\n        console.log('ðŸ” Valid posts:', validPosts);\n        setWorkoutPosts(validPosts);\n\n        // Load signup data for all workouts\n        await loadWorkoutSignups(validPosts);\n        // Load waitlist data for all workouts\n        await loadWorkoutWaitlists(validPosts);\n      }\n\n      // Load event posts\n      const eventResponse = await fetch(`${API_BASE_URL}/forum/posts?type=event`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (eventResponse.ok) {\n        const eventData = await eventResponse.json();\n        console.log('ðŸ” Event data received:', eventData);\n\n        // Ensure we have valid posts data\n        const posts = eventData.posts || eventData || [];\n        console.log('ðŸ” Event posts to set:', posts);\n\n        // Filter out any invalid posts\n        const validPosts = posts.filter(post => post && post.id && typeof post === 'object');\n        console.log('ðŸ” Valid event posts:', validPosts);\n        setEventPosts(validPosts);\n      }\n    } catch (error) {\n      console.error('Error loading forum posts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadWorkoutSignups = async workouts => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n      const signupsData = {};\n      for (const workout of workouts) {\n        const signupsResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/signups`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (signupsResponse.ok) {\n          const data = await signupsResponse.json();\n          signupsData[workout.id] = data.signups || [];\n          console.log(`ðŸ” Workout ${workout.id} signups:`, data.signups || []);\n        }\n      }\n      setWorkoutSignups(signupsData);\n      console.log('ðŸ“Š All workout signups loaded:', signupsData);\n      console.log('ðŸ” Current workoutSignups state structure:', Object.keys(signupsData).map(key => {\n        var _signupsData$key;\n        return {\n          workoutId: key,\n          signupCount: ((_signupsData$key = signupsData[key]) === null || _signupsData$key === void 0 ? void 0 : _signupsData$key.length) || 0,\n          signups: signupsData[key] || []\n        };\n      }));\n    } catch (error) {\n      console.error('Error loading workout signups:', error);\n    }\n  };\n  const loadWorkoutWaitlists = async workouts => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n      const waitlistData = {};\n      for (const workout of workouts) {\n        const waitlistResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/waitlist`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (waitlistResponse.ok) {\n          const data = await waitlistResponse.json();\n          waitlistData[workout.id] = data.waitlist || [];\n        }\n      }\n      setWorkoutWaitlists(waitlistData);\n    } catch (error) {\n      console.error('Error loading workout waitlists:', error);\n    }\n  };\n  const handleWorkoutSignUp = async workoutId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Check if user is already signed up\n      const isCurrentlySignedUp = isUserSignedUp(workoutId);\n      if (!isCurrentlySignedUp) {\n        // Check capacity limit before allowing sign-up\n        const workout = workoutPosts.find(w => w.id === workoutId);\n        if (workout && workout.capacity) {\n          var _workoutSignups$worko;\n          const currentSignups = ((_workoutSignups$worko = workoutSignups[workoutId]) === null || _workoutSignups$worko === void 0 ? void 0 : _workoutSignups$worko.length) || 0;\n          if (currentSignups >= workout.capacity) {\n            alert(`Sorry, this workout is full! Maximum capacity: ${workout.capacity} people.`);\n            return;\n          }\n        }\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const result = await response.json();\n\n        // Reload signup data from backend to ensure accuracy\n        await loadWorkoutSignups(workoutPosts);\n\n        // Also reload waitlist data in case someone was promoted\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        console.error('Error updating signup:', error.error);\n      }\n    } catch (error) {\n      console.error('Error updating signup:', error);\n    }\n  };\n  const isUserSignedUp = workoutId => {\n    if (!workoutId) return false;\n    const signups = workoutSignups[workoutId] || [];\n    const isSignedUp = signups.some(signup => signup && signup.user_id === currentUser.id);\n    console.log(`ðŸ” isUserSignedUp for workout ${workoutId}:`, {\n      workoutId,\n      currentUser: currentUser.id,\n      currentUserEmail: currentUser.email,\n      signups,\n      isSignedUp\n    });\n    return isSignedUp;\n  };\n  const isWorkoutFull = workoutId => {\n    var _workoutSignups$worko2;\n    if (!workoutId) return false;\n    const workout = workoutPosts.find(w => w && w.id === workoutId);\n    if (!workout || !workout.capacity) return false;\n    const currentSignups = ((_workoutSignups$worko2 = workoutSignups[workoutId]) === null || _workoutSignups$worko2 === void 0 ? void 0 : _workoutSignups$worko2.length) || 0;\n    return currentSignups >= workout.capacity;\n  };\n  const isUserOnWaitlist = workoutId => {\n    var _workoutWaitlists$wor;\n    if (!workoutId) return false;\n    return ((_workoutWaitlists$wor = workoutWaitlists[workoutId]) === null || _workoutWaitlists$wor === void 0 ? void 0 : _workoutWaitlists$wor.some(waitlist => waitlist && waitlist.user_id === currentUser.id)) || false;\n  };\n\n  // Returns 1-based position or null if not on waitlist\n  const getWaitlistPosition = workoutId => {\n    if (!workoutId) return null;\n    const list = workoutWaitlists[workoutId] || [];\n    const idx = list.findIndex(w => w && w.user_id === currentUser.id);\n    return idx === -1 ? null : idx + 1;\n  };\n  const formatOrdinal = n => {\n    if (n == null) return '';\n    const s = [\"th\", \"st\", \"nd\", \"rd\"],\n      v = n % 100;\n    return n + (s[(v - 20) % 10] || s[v] || s[0]);\n  };\n  const handleWaitlistJoin = async workoutId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/waitlist`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        // Refresh waitlist data\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to join waitlist');\n      }\n    } catch (error) {\n      console.error('Error joining waitlist:', error);\n      alert('Failed to join waitlist');\n    }\n  };\n  const handleWaitlistLeave = async workoutId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/waitlist`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        // Refresh waitlist data\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to leave waitlist');\n      }\n    } catch (error) {\n      console.error('Error leaving waitlist:', error);\n      alert('Failed to leave waitlist');\n    }\n  };\n  const handleCancelClick = workoutId => {\n    setWorkoutToCancel(workoutId);\n    setShowCancelModal(true);\n  };\n  const handleCancelConfirm = async () => {\n    if (!workoutToCancel) return;\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutToCancel}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        // Refresh both signup and waitlist data since someone might have been promoted\n        await loadWorkoutSignups(workoutPosts);\n        await loadWorkoutWaitlists(workoutPosts);\n        setShowCancelModal(false);\n        setWorkoutToCancel(null);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to cancel signup');\n      }\n    } catch (error) {\n      console.error('Error canceling signup:', error);\n      alert('Failed to cancel signup');\n    }\n  };\n  const handleCancelCancel = () => {\n    setShowCancelModal(false);\n    setWorkoutToCancel(null);\n  };\n\n  // Check if user was promoted from waitlist after data refresh\n  const checkForWaitlistPromotion = workoutId => {\n    var _workoutWaitlists$wor2, _workoutSignups$worko3;\n    const wasOnWaitlist = (_workoutWaitlists$wor2 = workoutWaitlists[workoutId]) === null || _workoutWaitlists$wor2 === void 0 ? void 0 : _workoutWaitlists$wor2.some(w => w.user_id === currentUser.id);\n    const isNowSignedUp = (_workoutSignups$worko3 = workoutSignups[workoutId]) === null || _workoutSignups$worko3 === void 0 ? void 0 : _workoutSignups$worko3.some(s => s.user_id === currentUser.id);\n    if (wasOnWaitlist && isNowSignedUp) {\n      // User was promoted from waitlist!\n      const workout = workoutPosts.find(w => w.id === workoutId);\n      setPromotedWorkout(workout);\n      setShowPromotionMessage(true);\n\n      // Auto-hide after 10 seconds\n      setTimeout(() => {\n        setShowPromotionMessage(false);\n        setPromotedWorkout(null);\n      }, 10000);\n    }\n  };\n  const handleSubmitWorkout = async e => {\n    e.preventDefault();\n    if (!workoutForm.title.trim() || !workoutForm.date || !workoutForm.time || !workoutForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(workoutForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n\n    if (selectedDate <= today) {\n      alert('Please select a future date for your workout.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: workoutForm.title.trim(),\n          workoutType: workoutForm.type,\n          workoutDate: workoutForm.date,\n          workoutTime: workoutForm.time,\n          content: workoutForm.content.trim(),\n          capacity: workoutForm.capacity ? parseInt(workoutForm.capacity) : null,\n          type: 'workout'\n        })\n      });\n      if (response.ok) {\n        const newPostData = await response.json();\n        console.log('ðŸ” New workout data received:', newPostData);\n\n        // Check if the response has the expected structure\n        if (newPostData.post) {\n          setWorkoutPosts([newPostData.post, ...workoutPosts]);\n          console.log('âœ… Workout added to state');\n        } else if (newPostData.id) {\n          // If the response is the post directly\n          setWorkoutPosts([newPostData, ...workoutPosts]);\n          console.log('âœ… Workout added to state (direct response)');\n        } else {\n          console.error('âŒ Unexpected response structure:', newPostData);\n          // Fallback: reload all posts\n          console.log('ðŸ”„ Reloading all posts as fallback...');\n          loadForumPosts();\n        }\n        setWorkoutForm({\n          title: '',\n          type: 'spin',\n          date: '',\n          time: '',\n          content: '',\n          capacity: ''\n        });\n        setShowWorkoutForm(false);\n      } else {\n        console.error('Failed to create workout post');\n      }\n    } catch (error) {\n      console.error('Error creating workout post:', error);\n    }\n  };\n  const handleSubmitEvent = async e => {\n    e.preventDefault();\n    if (!eventForm.title.trim() || !eventForm.date || !eventForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(eventForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n\n    if (selectedDate <= today) {\n      alert('Please select a future date for your event.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: eventForm.title.trim(),\n          eventDate: eventForm.date,\n          content: eventForm.content.trim(),\n          type: 'event'\n        })\n      });\n      if (response.ok) {\n        const newPostData = await response.json();\n        setEventPosts([newPostData.post, ...eventPosts]);\n        setEventForm({\n          title: '',\n          date: '',\n          content: ''\n        });\n        setShowEventForm(false);\n      } else {\n        console.error('Failed to create event post');\n      }\n    } catch (error) {\n      console.error('Error creating event post:', error);\n    }\n  };\n  const handleLike = async postId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        // Reload posts to get updated like count\n        loadForumPosts();\n      } else {\n        console.error('Failed to like post');\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n  const handleDeleteWorkout = async postId => {\n    if (!window.confirm('Are you sure you want to delete this workout post?')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete workout post');\n      }\n    } catch (error) {\n      console.error('Error deleting workout post:', error);\n    }\n  };\n  const handleDeleteEvent = async postId => {\n    if (!window.confirm('Are you sure you want to delete this event post?')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete event post');\n      }\n    } catch (error) {\n      console.error('Error deleting event post:', error);\n    }\n  };\n  const handleEditWorkout = workout => {\n    setEditingWorkout(workout.id);\n    setEditWorkoutForm({\n      title: workout.title || '',\n      type: workout.workout_type || 'spin',\n      date: workout.workout_date ? workout.workout_date.split('T')[0] : '',\n      time: workout.workout_time || '',\n      content: workout.content || '',\n      capacity: workout.capacity || ''\n    });\n  };\n  const handleCancelEdit = () => {\n    setEditingWorkout(null);\n    setEditWorkoutForm({\n      title: '',\n      type: 'spin',\n      date: '',\n      time: '',\n      content: '',\n      capacity: ''\n    });\n  };\n  const handleSaveWorkoutEdit = async workoutId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${workoutId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: editWorkoutForm.title,\n          workoutType: editWorkoutForm.type,\n          workoutDate: editWorkoutForm.date,\n          workoutTime: editWorkoutForm.time,\n          content: editWorkoutForm.content,\n          capacity: editWorkoutForm.capacity\n        })\n      });\n      if (response.ok) {\n        await loadForumPosts();\n        setEditingWorkout(null);\n      } else {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to update workout');\n      }\n    } catch (error) {\n      console.error('Error updating workout:', error);\n      alert(`Error updating workout: ${error.message}`);\n    }\n  };\n\n  // Filter workouts based on selected filter\n  const getFilteredWorkouts = () => {\n    if (workoutFilter === 'all') {\n      return workoutPosts;\n    }\n    return workoutPosts.filter(post => {\n      switch (workoutFilter) {\n        case 'bike':\n          return post.workout_type === 'spin' || post.workout_type === 'outdoor-ride' || post.workout_type === 'brick';\n        case 'swim':\n          return post.workout_type === 'swim';\n        case 'run':\n          return post.workout_type === 'run';\n        default:\n          return true;\n      }\n    });\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 699,\n      columnNumber: 12\n    }, this);\n  }\n  if (!currentUser) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"forum-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"section-title\",\n        children: \"Team Forum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 709,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"section-subtitle\",\n        children: \"Connect with your teammates and discuss training, races, and more!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"forum-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'workouts' ? 'active' : ''}`,\n          onClick: () => setActiveTab('workouts'),\n          children: \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F Workouts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-button ${activeTab === 'events' ? 'active' : ''}`,\n          onClick: () => setActiveTab('events'),\n          children: \"\\uD83C\\uDF89 Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 9\n      }, this), activeTab === 'workouts' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"workouts-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Workout Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this), isExec(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-post-btn\",\n            onClick: () => setShowWorkoutForm(true),\n            children: \"+ New Workout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"workout-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'all' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('all'),\n            children: \"\\uD83C\\uDFC3\\u200D\\u2642\\uFE0F All Workouts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'bike' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('bike'),\n            children: \"\\uD83D\\uDEB4\\u200D\\u2642\\uFE0F Bike (Indoor/Outdoor/Brick)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'swim' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('swim'),\n            children: \"\\uD83C\\uDFCA\\u200D\\u2642\\uFE0F Swim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `filter-btn ${workoutFilter === 'run' ? 'active' : ''}`,\n            onClick: () => setWorkoutFilter('run'),\n            children: \"\\uD83C\\uDFC3\\u200D\\u2640\\uFE0F Run\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 744,\n          columnNumber: 13\n        }, this), getFilteredWorkouts().length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-posts\",\n          children: workoutPosts.length === 0 ? 'No workout posts yet.' : `No ${workoutFilter === 'all' ? '' : workoutFilter} workouts found.`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-list\",\n          children: getFilteredWorkouts().filter(post => post && post.id).map(post => {\n            var _workoutSignups$post$, _workoutSignups$post$2, _workoutWaitlists$pos;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-card workout-post\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-header\",\n                children: [post.title ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-title\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: `/workout/${post.id}`,\n                      className: \"workout-title-link\",\n                      children: post.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 783,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 782,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 781,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-title\",\n                  children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                    children: \"Untitled Workout\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 790,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 25\n                }, this), (currentUser.id === post.user_id || currentUser.role === 'exec' || currentUser.role === 'administrator') && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-actions-admin\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"edit-btn\",\n                    onClick: () => handleEditWorkout(post),\n                    disabled: editingWorkout === post.id,\n                    children: \"\\u270F\\uFE0F Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 797,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"delete-btn\",\n                    onClick: () => handleDeleteWorkout(post.id),\n                    disabled: editingWorkout === post.id,\n                    children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 804,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-author\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"author-info\",\n                  children: [post.authorProfilePictureUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: `http://localhost:5001${post.authorProfilePictureUrl}`,\n                    alt: \"Profile\",\n                    className: \"author-avatar\",\n                    onError: e => {\n                      e.target.src = '/images/default_profile.png';\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 818,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/images/default_profile.png\",\n                    alt: \"Profile\",\n                    className: \"author-avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 827,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"author-name\",\n                    children: [\"Posted by \", post.author_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 21\n              }, this), editingWorkout === post.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-edit-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `edit-title-${post.id}`,\n                    children: \"Title:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 840,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: `edit-title-${post.id}`,\n                    type: \"text\",\n                    value: editForm.title,\n                    onChange: e => updateField('title', e.target.value),\n                    className: \"form-input\",\n                    placeholder: \"Enter workout title...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 841,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `edit-type-${post.id}`,\n                      children: \"Workout Type:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 853,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: `edit-type-${post.id}`,\n                      type: \"text\",\n                      value: editForm.workoutType,\n                      onChange: e => updateField('workoutType', e.target.value),\n                      className: \"form-input\",\n                      placeholder: \"Enter workout type...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 854,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `edit-capacity-${post.id}`,\n                      children: \"Capacity:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 865,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: `edit-capacity-${post.id}`,\n                      type: \"number\",\n                      min: \"1\",\n                      value: editForm.capacity,\n                      onChange: e => updateField('capacity', e.target.value),\n                      className: \"form-input\",\n                      placeholder: \"Enter capacity...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 866,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 851,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `edit-date-${post.id}`,\n                      children: \"Date:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 880,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: `edit-date-${post.id}`,\n                      type: \"date\",\n                      value: editForm.workoutDate,\n                      onChange: e => updateField('workoutDate', e.target.value),\n                      className: \"form-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 879,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: `edit-time-${post.id}`,\n                      children: \"Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 891,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      id: `edit-time-${post.id}`,\n                      type: \"time\",\n                      value: editForm.workoutTime,\n                      onChange: e => updateField('workoutTime', e.target.value),\n                      className: \"form-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 892,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 890,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `edit-content-${post.id}`,\n                    children: \"Description:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 903,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    id: `edit-content-${post.id}`,\n                    value: editWorkoutForm.content,\n                    onChange: e => setEditWorkoutForm(prev => ({\n                      ...prev,\n                      content: e.target.value\n                    })),\n                    className: \"form-textarea\",\n                    rows: \"3\",\n                    placeholder: \"Enter workout description...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 904,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-primary\",\n                    onClick: () => handleSaveWorkoutEdit(post.id),\n                    children: \"Save Changes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-secondary\",\n                    onClick: handleCancelEdit,\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 921,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [post.workout_type && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"workout-type-badge\",\n                    children: post.workout_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 933,\n                    columnNumber: 29\n                  }, this), post.workout_date && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"workout-date\",\n                    children: [\"\\uD83D\\uDCC5 \", new Date(post.workout_date).toLocaleDateString(), post.workout_time && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"workout-time\",\n                      children: [\" \\u2022 \\uD83D\\uDD50 \", post.workout_time]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 938,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 935,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 932,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"workout-content\",\n                  children: post.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 945,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"workout-signup-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"button-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `signup-btn ${isUserSignedUp(post.id) ? 'signed-up' : ''} ${isWorkoutFull(post.id) ? 'full' : ''}`,\n                    onClick: () => handleWorkoutSignUp(post.id),\n                    disabled: isWorkoutFull(post.id) && !isUserSignedUp(post.id),\n                    children: isUserSignedUp(post.id) ? 'âœ“ Signed Up' : isWorkoutFull(post.id) ? 'Full' : 'Sign Up'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 954,\n                    columnNumber: 25\n                  }, this), isUserSignedUp(post.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"cancel-btn\",\n                    onClick: () => handleCancelClick(post.id),\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 964,\n                    columnNumber: 27\n                  }, this), post.capacity && isWorkoutFull(post.id) && !isUserSignedUp(post.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `waitlist-btn ${isUserOnWaitlist(post.id) ? 'on-waitlist' : ''}`,\n                    onClick: () => isUserOnWaitlist(post.id) ? handleWaitlistLeave(post.id) : handleWaitlistJoin(post.id),\n                    children: isUserOnWaitlist(post.id) ? 'Leave Waitlist' : 'Join Waitlist'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 974,\n                    columnNumber: 27\n                  }, this), post.capacity && isWorkoutFull(post.id) && isUserOnWaitlist(post.id) && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"waitlist-position\",\n                    children: `You're ${formatOrdinal(getWaitlistPosition(post.id))} on the waitlist`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 984,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"signup-count\",\n                  children: [post.capacity ? `${((_workoutSignups$post$ = workoutSignups[post.id]) === null || _workoutSignups$post$ === void 0 ? void 0 : _workoutSignups$post$.length) || 0}/${post.capacity} signed up` : `${((_workoutSignups$post$2 = workoutSignups[post.id]) === null || _workoutSignups$post$2 === void 0 ? void 0 : _workoutSignups$post$2.length) || 0} signed up`, post.capacity && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `capacity-status ${isWorkoutFull(post.id) ? 'full' : 'available'}`,\n                    children: isWorkoutFull(post.id) ? ' (Full)' : ' (Available)'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 996,\n                    columnNumber: 27\n                  }, this), post.capacity && ((_workoutWaitlists$pos = workoutWaitlists[post.id]) === null || _workoutWaitlists$pos === void 0 ? void 0 : _workoutWaitlists$pos.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"waitlist-count\",\n                    children: [\"\\u2022 \", workoutWaitlists[post.id].length, \" on waitlist\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1001,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 990,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 21\n              }, this)]\n            }, post.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 776,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 11\n      }, this), activeTab === 'events' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"events-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Event Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 15\n          }, this), isExec(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"new-post-btn\",\n            onClick: () => setShowEventForm(true),\n            children: \"+ New Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 13\n        }, this), eventPosts.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-posts\",\n          children: \"No event posts yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1031,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"posts-list\",\n          children: eventPosts.map(post => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-card event-post\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-header\",\n              children: [post.title && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `/event/${post.id}`,\n                    className: \"event-title-link\",\n                    children: post.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1040,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1039,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1038,\n                columnNumber: 25\n              }, this), currentUser.id === post.user_id && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-btn\",\n                onClick: () => handleDeleteEvent(post.id),\n                children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1049,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-author\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"author-info\",\n                children: [post.authorProfilePictureUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `http://localhost:5001${post.authorProfilePictureUrl}`,\n                  alt: \"Profile\",\n                  className: \"author-avatar\",\n                  onError: e => {\n                    e.target.src = '/images/default_profile.png';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1061,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/images/default_profile.png\",\n                  alt: \"Profile\",\n                  className: \"author-avatar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1070,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"author-name\",\n                  children: [\"Posted by \", post.author_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1076,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 21\n            }, this), post.event_date && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"event-meta\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"event-date\",\n                children: [\"\\uD83D\\uDCC5 \", new Date(post.event_date).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1082,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1081,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rsvp-buttons\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn going\",\n                  children: \"Going\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1090,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn maybe\",\n                  children: \"Maybe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1091,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"rsvp-btn not-going\",\n                  children: \"Not Going\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1092,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1089,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1088,\n              columnNumber: 21\n            }, this)]\n          }, post.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1035,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1033,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1017,\n        columnNumber: 11\n      }, this), showPromotionMessage && promotedWorkout && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"promotion-message\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"promotion-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83C\\uDF89 Congratulations!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"You've been promoted from the waitlist for \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: promotedWorkout.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 61\n            }, this), \"!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Check your email for details. You're now officially signed up for this workout.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"promotion-close-btn\",\n            onClick: () => setShowPromotionMessage(false),\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1104,\n        columnNumber: 11\n      }, this), showCancelModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal cancel-modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Cancel Workout Signup\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cancel-warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\u26A0\\uFE0F \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Important:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 23\n              }, this), \" If you cancel less than 24 hours in advance, it will count as an absence.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Your absences are recorded and once you have three, you will be suspended from signing up for a week.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1126,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"This is to keep it fair for all members!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1127,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-secondary\",\n              onClick: handleCancelCancel,\n              children: \"Keep Booking\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-danger\",\n              onClick: handleCancelConfirm,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1121,\n        columnNumber: 11\n      }, this), showWorkoutForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create New Workout Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmitWorkout,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1148,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: workoutForm.title,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  title: e.target.value\n                }),\n                placeholder: \"e.g., Tuesday Morning Swim, Weekend Long Run\",\n                maxLength: \"100\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Type:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: workoutForm.type,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  type: e.target.value\n                }),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"spin\",\n                  children: \"Spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"outdoor-ride\",\n                  children: \"Outdoor Ride\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1167,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"run\",\n                  children: \"Run\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"swim\",\n                  children: \"Swim\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"brick\",\n                  children: \"Brick (Bike + Run)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"other\",\n                  children: \"Other\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1171,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1161,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1176,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: workoutForm.date,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  date: e.target.value\n                }),\n                min: new Date().toISOString().split('T')[0],\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1177,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1175,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Workout Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"time\",\n                value: workoutForm.time,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  time: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1188,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Additional Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1197,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: workoutForm.content,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  content: e.target.value\n                }),\n                placeholder: \"Describe the workout, time, location, requirements, what to bring...\",\n                rows: \"4\",\n                maxLength: \"500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"char-count\",\n                children: [workoutForm.content.length, \"/500\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Capacity (Optional):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1210,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: workoutForm.capacity,\n                onChange: e => setWorkoutForm({\n                  ...workoutForm,\n                  capacity: e.target.value\n                }),\n                placeholder: \"Leave empty for unlimited spots\",\n                min: \"1\",\n                max: \"100\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Maximum number of people who can sign up. Leave empty for unlimited spots.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1219,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Post Workout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowWorkoutForm(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1224,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1143,\n        columnNumber: 11\n      }, this), showEventForm && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create New Event Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmitEvent,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Title:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: eventForm.title,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  title: e.target.value\n                }),\n                placeholder: \"e.g., Club Social Night, Race Watch Party\",\n                maxLength: \"100\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: eventForm.date,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  date: e.target.value\n                }),\n                min: new Date().toISOString().split('T')[0],\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1251,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1249,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Event Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1261,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: eventForm.content,\n                onChange: e => setEventForm({\n                  ...eventForm,\n                  content: e.target.value\n                }),\n                placeholder: \"Describe the event, time, location, what to bring, RSVP details...\",\n                rows: \"4\",\n                maxLength: \"500\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"char-count\",\n                children: [eventForm.content.length, \"/500\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1260,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Post Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setShowEventForm(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1273,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1236,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1234,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1233,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 707,\n    columnNumber: 5\n  }, this);\n};\n_s(Forum, \"NeVRMmRl+2vOrAkJk2wiDuGt21A=\", false, function () {\n  return [useAuth, useNavigate, useWorkoutEdit];\n});\n_c = Forum;\nexport default Forum;\nvar _c;\n$RefreshReg$(_c, \"Forum\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","useNavigate","useWorkoutEdit","jsxDEV","_jsxDEV","Fragment","_Fragment","Forum","_s","currentUser","isMember","isExec","getUserRole","navigate","activeTab","setActiveTab","workoutPosts","setWorkoutPosts","eventPosts","setEventPosts","newWorkout","setNewWorkout","newEvent","setNewEvent","loading","setLoading","showWorkoutForm","setShowWorkoutForm","showEventForm","setShowEventForm","workoutFilter","setWorkoutFilter","workoutForm","setWorkoutForm","title","type","date","time","content","capacity","eventForm","setEventForm","workoutSignups","setWorkoutSignups","workoutWaitlists","setWorkoutWaitlists","showCancelModal","setShowCancelModal","workoutToCancel","setWorkoutToCancel","showPromotionMessage","setShowPromotionMessage","promotedWorkout","setPromotedWorkout","editingWorkout","editForm","saving","startEdit","cancelEdit","updateField","saveWorkout","API_BASE_URL","loadForumPosts","handleProfileUpdate","event","console","log","window","addEventListener","removeEventListener","token","localStorage","getItem","error","workoutResponse","fetch","headers","ok","workoutData","json","posts","validPosts","filter","post","id","loadWorkoutSignups","loadWorkoutWaitlists","eventResponse","eventData","workouts","signupsData","workout","signupsResponse","data","signups","Object","keys","map","key","_signupsData$key","workoutId","signupCount","length","waitlistData","waitlistResponse","waitlist","handleWorkoutSignUp","isCurrentlySignedUp","isUserSignedUp","find","w","_workoutSignups$worko","currentSignups","alert","response","method","result","isSignedUp","some","signup","user_id","currentUserEmail","email","isWorkoutFull","_workoutSignups$worko2","isUserOnWaitlist","_workoutWaitlists$wor","getWaitlistPosition","list","idx","findIndex","formatOrdinal","n","s","v","handleWaitlistJoin","handleWaitlistLeave","handleCancelClick","handleCancelConfirm","handleCancelCancel","checkForWaitlistPromotion","_workoutWaitlists$wor2","_workoutSignups$worko3","wasOnWaitlist","isNowSignedUp","setTimeout","handleSubmitWorkout","e","preventDefault","trim","selectedDate","Date","today","setHours","body","JSON","stringify","workoutType","workoutDate","workoutTime","parseInt","newPostData","handleSubmitEvent","eventDate","handleLike","postId","handleDeleteWorkout","confirm","handleDeleteEvent","handleEditWorkout","setEditingWorkout","setEditWorkoutForm","workout_type","workout_date","split","workout_time","handleCancelEdit","handleSaveWorkoutEdit","Error","editWorkoutForm","message","getFilteredWorkouts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_workoutSignups$post$","_workoutSignups$post$2","_workoutWaitlists$pos","href","role","disabled","authorProfilePictureUrl","src","alt","onError","target","author_name","htmlFor","value","onChange","placeholder","min","prev","rows","toLocaleDateString","event_date","onSubmit","maxLength","required","toISOString","max","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Forum.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { useWorkoutEdit } from '../hooks/useWorkoutEdit';\nimport './Forum.css';\n\nconst Forum = () => {\n  const { currentUser, isMember, isExec, getUserRole } = useAuth();\n  const navigate = useNavigate();\n  const [activeTab, setActiveTab] = useState('workouts');\n  const [workoutPosts, setWorkoutPosts] = useState([]);\n  const [eventPosts, setEventPosts] = useState([]);\n  const [newWorkout, setNewWorkout] = useState('');\n  const [newEvent, setNewEvent] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [showWorkoutForm, setShowWorkoutForm] = useState(false);\n  const [showEventForm, setShowEventForm] = useState(false);\n  const [workoutFilter, setWorkoutFilter] = useState('all');\n  const [workoutForm, setWorkoutForm] = useState({\n    title: '',\n    type: 'spin',\n    date: '',\n    time: '',\n    content: '',\n    capacity: ''\n  });\n  const [eventForm, setEventForm] = useState({\n    title: '',\n    date: '',\n    content: ''\n  });\n  const [workoutSignups, setWorkoutSignups] = useState({});\n  const [workoutWaitlists, setWorkoutWaitlists] = useState({});\n  const [showCancelModal, setShowCancelModal] = useState(false);\n  const [workoutToCancel, setWorkoutToCancel] = useState(null);\n  const [showPromotionMessage, setShowPromotionMessage] = useState(false);\n  const [promotedWorkout, setPromotedWorkout] = useState(null);\n  const { \n    editingWorkout, \n    editForm, \n    saving, \n    startEdit, \n    cancelEdit, \n    updateField, \n    saveWorkout \n  } = useWorkoutEdit(API_BASE_URL);\n\n  const API_BASE_URL = 'http://localhost:5001/api';\n\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    \n    // Check if user has member access or higher\n    if (!isMember(currentUser)) {\n      navigate('/login');\n      return;\n    }\n    \n    // Load forum posts from backend API\n    loadForumPosts();\n  }, [currentUser, navigate, isMember]);\n\n  // Listen for profile updates to refresh profile pictures\n  useEffect(() => {\n    const handleProfileUpdate = (event) => {\n      console.log('ðŸ”„ Profile updated event received in Forum, refreshing posts...');\n      loadForumPosts();\n    };\n\n    window.addEventListener('profileUpdated', handleProfileUpdate);\n    \n    return () => {\n      window.removeEventListener('profileUpdated', handleProfileUpdate);\n    };\n  }, []);\n\n  const loadForumPosts = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load workout posts\n      const workoutResponse = await fetch(`${API_BASE_URL}/forum/posts?type=workout`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (workoutResponse.ok) {\n        const workoutData = await workoutResponse.json();\n        console.log('ðŸ” Workout data received:', workoutData);\n        \n        // Ensure we have valid posts data\n        const posts = workoutData.posts || workoutData || [];\n        console.log('ðŸ” Posts to set:', posts);\n        \n        // Filter out any invalid posts\n        const validPosts = posts.filter(post => post && post.id && typeof post === 'object');\n        console.log('ðŸ” Valid posts:', validPosts);\n        \n        setWorkoutPosts(validPosts);\n        \n        // Load signup data for all workouts\n        await loadWorkoutSignups(validPosts);\n        // Load waitlist data for all workouts\n        await loadWorkoutWaitlists(validPosts);\n      }\n\n      // Load event posts\n      const eventResponse = await fetch(`${API_BASE_URL}/forum/posts?type=event`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (eventResponse.ok) {\n        const eventData = await eventResponse.json();\n        console.log('ðŸ” Event data received:', eventData);\n        \n        // Ensure we have valid posts data\n        const posts = eventData.posts || eventData || [];\n        console.log('ðŸ” Event posts to set:', posts);\n        \n        // Filter out any invalid posts\n        const validPosts = posts.filter(post => post && post.id && typeof post === 'object');\n        console.log('ðŸ” Valid event posts:', validPosts);\n        \n        setEventPosts(validPosts);\n      }\n    } catch (error) {\n      console.error('Error loading forum posts:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadWorkoutSignups = async (workouts) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n\n      const signupsData = {};\n      \n      for (const workout of workouts) {\n        const signupsResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/signups`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        \n        if (signupsResponse.ok) {\n          const data = await signupsResponse.json();\n          signupsData[workout.id] = data.signups || [];\n          console.log(`ðŸ” Workout ${workout.id} signups:`, data.signups || []);\n        }\n      }\n      \n      setWorkoutSignups(signupsData);\n      console.log('ðŸ“Š All workout signups loaded:', signupsData);\n      console.log('ðŸ” Current workoutSignups state structure:', Object.keys(signupsData).map(key => ({\n        workoutId: key,\n        signupCount: signupsData[key]?.length || 0,\n        signups: signupsData[key] || []\n      })));\n    } catch (error) {\n      console.error('Error loading workout signups:', error);\n    }\n  };\n\n  const loadWorkoutWaitlists = async (workouts) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) return;\n\n      const waitlistData = {};\n      \n      for (const workout of workouts) {\n        const waitlistResponse = await fetch(`${API_BASE_URL}/forum/workouts/${workout.id}/waitlist`, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n\n        if (waitlistResponse.ok) {\n          const data = await waitlistResponse.json();\n          waitlistData[workout.id] = data.waitlist || [];\n        }\n      }\n      \n      setWorkoutWaitlists(waitlistData);\n    } catch (error) {\n      console.error('Error loading workout waitlists:', error);\n    }\n  };\n\n  const handleWorkoutSignUp = async (workoutId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Check if user is already signed up\n      const isCurrentlySignedUp = isUserSignedUp(workoutId);\n      \n      if (!isCurrentlySignedUp) {\n        // Check capacity limit before allowing sign-up\n        const workout = workoutPosts.find(w => w.id === workoutId);\n        if (workout && workout.capacity) {\n          const currentSignups = workoutSignups[workoutId]?.length || 0;\n          if (currentSignups >= workout.capacity) {\n            alert(`Sorry, this workout is full! Maximum capacity: ${workout.capacity} people.`);\n            return;\n          }\n        }\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        \n        // Reload signup data from backend to ensure accuracy\n        await loadWorkoutSignups(workoutPosts);\n        \n        // Also reload waitlist data in case someone was promoted\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        console.error('Error updating signup:', error.error);\n      }\n    } catch (error) {\n      console.error('Error updating signup:', error);\n    }\n  };\n\n  const isUserSignedUp = (workoutId) => {\n    if (!workoutId) return false;\n    const signups = workoutSignups[workoutId] || [];\n    const isSignedUp = signups.some(signup => signup && signup.user_id === currentUser.id);\n    console.log(`ðŸ” isUserSignedUp for workout ${workoutId}:`, {\n      workoutId,\n      currentUser: currentUser.id,\n      currentUserEmail: currentUser.email,\n      signups,\n      isSignedUp\n    });\n    return isSignedUp;\n  };\n\n  const isWorkoutFull = (workoutId) => {\n    if (!workoutId) return false;\n    const workout = workoutPosts.find(w => w && w.id === workoutId);\n    if (!workout || !workout.capacity) return false;\n    const currentSignups = workoutSignups[workoutId]?.length || 0;\n    return currentSignups >= workout.capacity;\n  };\n\n  const isUserOnWaitlist = (workoutId) => {\n    if (!workoutId) return false;\n    return workoutWaitlists[workoutId]?.some(waitlist => waitlist && waitlist.user_id === currentUser.id) || false;\n  };\n\n  // Returns 1-based position or null if not on waitlist\n  const getWaitlistPosition = (workoutId) => {\n    if (!workoutId) return null;\n    const list = workoutWaitlists[workoutId] || [];\n    const idx = list.findIndex(w => w && w.user_id === currentUser.id);\n    return idx === -1 ? null : idx + 1;\n  };\n\n  const formatOrdinal = (n) => {\n    if (n == null) return '';\n    const s = [\"th\",\"st\",\"nd\",\"rd\"], v = n % 100;\n    return n + (s[(v-20)%10] || s[v] || s[0]);\n  };\n\n  const handleWaitlistJoin = async (workoutId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/waitlist`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Refresh waitlist data\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to join waitlist');\n      }\n    } catch (error) {\n      console.error('Error joining waitlist:', error);\n      alert('Failed to join waitlist');\n    }\n  };\n\n  const handleWaitlistLeave = async (workoutId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutId}/waitlist`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Refresh waitlist data\n        await loadWorkoutWaitlists(workoutPosts);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to leave waitlist');\n      }\n    } catch (error) {\n      console.error('Error leaving waitlist:', error);\n      alert('Failed to leave waitlist');\n    }\n  };\n\n  const handleCancelClick = (workoutId) => {\n    setWorkoutToCancel(workoutId);\n    setShowCancelModal(true);\n  };\n\n  const handleCancelConfirm = async () => {\n    if (!workoutToCancel) return;\n    \n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/workouts/${workoutToCancel}/signup`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Refresh both signup and waitlist data since someone might have been promoted\n        await loadWorkoutSignups(workoutPosts);\n        await loadWorkoutWaitlists(workoutPosts);\n        setShowCancelModal(false);\n        setWorkoutToCancel(null);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to cancel signup');\n      }\n    } catch (error) {\n      console.error('Error canceling signup:', error);\n      alert('Failed to cancel signup');\n    }\n  };\n\n  const handleCancelCancel = () => {\n    setShowCancelModal(false);\n    setWorkoutToCancel(null);\n  };\n\n  // Check if user was promoted from waitlist after data refresh\n  const checkForWaitlistPromotion = (workoutId) => {\n            const wasOnWaitlist = workoutWaitlists[workoutId]?.some(w => w.user_id === currentUser.id);\n        const isNowSignedUp = workoutSignups[workoutId]?.some(s => s.user_id === currentUser.id);\n    \n    if (wasOnWaitlist && isNowSignedUp) {\n      // User was promoted from waitlist!\n      const workout = workoutPosts.find(w => w.id === workoutId);\n      setPromotedWorkout(workout);\n      setShowPromotionMessage(true);\n      \n      // Auto-hide after 10 seconds\n      setTimeout(() => {\n        setShowPromotionMessage(false);\n        setPromotedWorkout(null);\n      }, 10000);\n    }\n  };\n\n  const handleSubmitWorkout = async (e) => {\n    e.preventDefault();\n    if (!workoutForm.title.trim() || !workoutForm.date || !workoutForm.time || !workoutForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(workoutForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n    \n    if (selectedDate <= today) {\n      alert('Please select a future date for your workout.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: workoutForm.title.trim(),\n          workoutType: workoutForm.type,\n          workoutDate: workoutForm.date,\n          workoutTime: workoutForm.time,\n          content: workoutForm.content.trim(),\n          capacity: workoutForm.capacity ? parseInt(workoutForm.capacity) : null,\n          type: 'workout'\n        })\n      });\n\n      if (response.ok) {\n        const newPostData = await response.json();\n        console.log('ðŸ” New workout data received:', newPostData);\n        \n        // Check if the response has the expected structure\n        if (newPostData.post) {\n          setWorkoutPosts([newPostData.post, ...workoutPosts]);\n          console.log('âœ… Workout added to state');\n        } else if (newPostData.id) {\n          // If the response is the post directly\n          setWorkoutPosts([newPostData, ...workoutPosts]);\n          console.log('âœ… Workout added to state (direct response)');\n        } else {\n          console.error('âŒ Unexpected response structure:', newPostData);\n          // Fallback: reload all posts\n          console.log('ðŸ”„ Reloading all posts as fallback...');\n          loadForumPosts();\n        }\n        \n        setWorkoutForm({\n          title: '',\n          type: 'spin',\n          date: '',\n          time: '',\n          content: '',\n          capacity: ''\n        });\n        setShowWorkoutForm(false);\n      } else {\n        console.error('Failed to create workout post');\n      }\n    } catch (error) {\n        console.error('Error creating workout post:', error);\n    }\n  };\n\n  const handleSubmitEvent = async (e) => {\n    e.preventDefault();\n    if (!eventForm.title.trim() || !eventForm.date || !eventForm.content.trim()) return;\n\n    // Check if the selected date is in the future\n    const selectedDate = new Date(eventForm.date);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0); // Reset time to start of day for accurate comparison\n    \n    if (selectedDate <= today) {\n      alert('Please select a future date for your event.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: eventForm.title.trim(),\n          eventDate: eventForm.date,\n          content: eventForm.content.trim(),\n          type: 'event'\n        })\n      });\n\n      if (response.ok) {\n        const newPostData = await response.json();\n        setEventPosts([newPostData.post, ...eventPosts]);\n        setEventForm({\n          title: '',\n          date: '',\n          content: ''\n        });\n        setShowEventForm(false);\n      } else {\n        console.error('Failed to create event post');\n      }\n    } catch (error) {\n      console.error('Error creating event post:', error);\n    }\n  };\n\n  const handleLike = async (postId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        // Reload posts to get updated like count\n        loadForumPosts();\n      } else {\n        console.error('Failed to like post');\n      }\n    } catch (error) {\n      console.error('Error liking post:', error);\n    }\n  };\n\n  const handleDeleteWorkout = async (postId) => {\n    if (!window.confirm('Are you sure you want to delete this workout post?')) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete workout post');\n      }\n    } catch (error) {\n      console.error('Error deleting workout post:', error);\n    }\n  };\n\n  const handleDeleteEvent = async (postId) => {\n    if (!window.confirm('Are you sure you want to delete this event post?')) {\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${postId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        loadForumPosts();\n      } else {\n        console.error('Failed to delete event post');\n      }\n    } catch (error) {\n      console.error('Error deleting event post:', error);\n    }\n  };\n\n  const handleEditWorkout = (workout) => {\n    setEditingWorkout(workout.id);\n    setEditWorkoutForm({\n      title: workout.title || '',\n      type: workout.workout_type || 'spin',\n      date: workout.workout_date ? workout.workout_date.split('T')[0] : '',\n      time: workout.workout_time || '',\n      content: workout.content || '',\n      capacity: workout.capacity || ''\n    });\n  };\n\n  const handleCancelEdit = () => {\n    setEditingWorkout(null);\n    setEditWorkoutForm({\n      title: '',\n      type: 'spin',\n      date: '',\n      time: '',\n      content: '',\n      capacity: ''\n    });\n  };\n\n  const handleSaveWorkoutEdit = async (workoutId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        throw new Error('No authentication token found');\n      }\n\n      const response = await fetch(`${API_BASE_URL}/forum/posts/${workoutId}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title: editWorkoutForm.title,\n          workoutType: editWorkoutForm.type,\n          workoutDate: editWorkoutForm.date,\n          workoutTime: editWorkoutForm.time,\n          content: editWorkoutForm.content,\n          capacity: editWorkoutForm.capacity\n        })\n      });\n\n      if (response.ok) {\n        await loadForumPosts();\n        setEditingWorkout(null);\n      } else {\n        const error = await response.json();\n        throw new Error(error.error || 'Failed to update workout');\n      }\n    } catch (error) {\n      console.error('Error updating workout:', error);\n      alert(`Error updating workout: ${error.message}`);\n    }\n  };\n\n  // Filter workouts based on selected filter\n  const getFilteredWorkouts = () => {\n    if (workoutFilter === 'all') {\n      return workoutPosts;\n    }\n    \n    return workoutPosts.filter(post => {\n      switch (workoutFilter) {\n        case 'bike':\n          return post.workout_type === 'spin' || post.workout_type === 'outdoor-ride' || post.workout_type === 'brick';\n        case 'swim':\n          return post.workout_type === 'swim';\n        case 'run':\n          return post.workout_type === 'run';\n        default:\n          return true;\n      }\n    });\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <div className=\"forum-container\">\n      <div className=\"container\">\n        <h1 className=\"section-title\">Team Forum</h1>\n        <p className=\"section-subtitle\">Connect with your teammates and discuss training, races, and more!</p>\n        \n        {/* Forum Tabs */}\n        <div className=\"forum-tabs\">\n          <button \n            className={`tab-button ${activeTab === 'workouts' ? 'active' : ''}`}\n            onClick={() => setActiveTab('workouts')}\n          >\n            ðŸƒâ€â™‚ï¸ Workouts\n          </button>\n          <button \n            className={`tab-button ${activeTab === 'events' ? 'active' : ''}`}\n            onClick={() => setActiveTab('events')}\n          >\n            ðŸŽ‰ Events\n          </button>\n        </div>\n\n        {/* Workouts Section */}\n        {activeTab === 'workouts' && (\n          <div className=\"workouts-section\">\n            <div className=\"section-header\">\n              <h2>Workout Posts</h2>\n              {isExec(currentUser) && (\n                <button \n                  className=\"new-post-btn\"\n                  onClick={() => setShowWorkoutForm(true)}\n                >\n                  + New Workout\n                </button>\n              )}\n            </div>\n\n            {/* Workout Filter Buttons */}\n            <div className=\"workout-filters\">\n              <button \n                className={`filter-btn ${workoutFilter === 'all' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('all')}\n              >\n                ðŸƒâ€â™‚ï¸ All Workouts\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'bike' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('bike')}\n              >\n                ðŸš´â€â™‚ï¸ Bike (Indoor/Outdoor/Brick)\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'swim' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('swim')}\n              >\n                ðŸŠâ€â™‚ï¸ Swim\n              </button>\n              <button \n                className={`filter-btn ${workoutFilter === 'run' ? 'active' : ''}`}\n                onClick={() => setWorkoutFilter('run')}\n              >\n                ðŸƒâ€â™€ï¸ Run\n              </button>\n            </div>\n\n            {getFilteredWorkouts().length === 0 ? (\n              <p className=\"no-posts\">\n                {workoutPosts.length === 0 ? 'No workout posts yet.' : `No ${workoutFilter === 'all' ? '' : workoutFilter} workouts found.`}\n              </p>\n            ) : (\n              <div className=\"posts-list\">\n                {getFilteredWorkouts().filter(post => post && post.id).map(post => (\n                  <div key={post.id} className=\"post-card workout-post\">\n                    <div className=\"post-header\">\n                      {post.title ? (\n                        <div className=\"workout-title\">\n                          <h2>\n                            <a href={`/workout/${post.id}`} className=\"workout-title-link\">\n                              {post.title}\n                            </a>\n                          </h2>\n                        </div>\n                      ) : (\n                        <div className=\"workout-title\">\n                          <h2>Untitled Workout</h2>\n                        </div>\n                      )}\n                      \n                      {/* Edit and Delete buttons for workout author, executives, and administrators */}\n                      {(currentUser.id === post.user_id || currentUser.role === 'exec' || currentUser.role === 'administrator') && (\n                        <div className=\"workout-actions-admin\">\n                          <button \n                            className=\"edit-btn\"\n                            onClick={() => handleEditWorkout(post)}\n                            disabled={editingWorkout === post.id}\n                          >\n                            âœï¸ Edit\n                          </button>\n                          <button \n                            className=\"delete-btn\"\n                            onClick={() => handleDeleteWorkout(post.id)}\n                            disabled={editingWorkout === post.id}\n                          >\n                            ðŸ—‘ï¸ Delete\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"workout-author\">\n                      <div className=\"author-info\">\n                        {post.authorProfilePictureUrl ? (\n                          <img \n                            src={`http://localhost:5001${post.authorProfilePictureUrl}`} \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                            onError={(e) => {\n                              e.target.src = '/images/default_profile.png';\n                            }}\n                          />\n                        ) : (\n                          <img \n                            src=\"/images/default_profile.png\" \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                          />\n                        )}\n                        <span className=\"author-name\">Posted by {post.author_name}</span>\n                      </div>\n                    </div>\n                    \n                    {editingWorkout === post.id ? (\n                      <div className=\"workout-edit-form\">\n                        <div className=\"form-group\">\n                          <label htmlFor={`edit-title-${post.id}`}>Title:</label>\n                          <input\n                            id={`edit-title-${post.id}`}\n                            type=\"text\"\n                            value={editForm.title}\n                            onChange={(e) => updateField('title', e.target.value)}\n                            className=\"form-input\"\n                            placeholder=\"Enter workout title...\"\n                          />\n                        </div>\n                        \n                        <div className=\"form-row\">\n                          <div className=\"form-group\">\n                            <label htmlFor={`edit-type-${post.id}`}>Workout Type:</label>\n                            <input\n                              id={`edit-type-${post.id}`}\n                              type=\"text\"\n                                                          value={editForm.workoutType}\n                            onChange={(e) => updateField('workoutType', e.target.value)}\n                              className=\"form-input\"\n                              placeholder=\"Enter workout type...\"\n                            />\n                          </div>\n                          \n                          <div className=\"form-group\">\n                            <label htmlFor={`edit-capacity-${post.id}`}>Capacity:</label>\n                            <input\n                              id={`edit-capacity-${post.id}`}\n                              type=\"number\"\n                              min=\"1\"\n                                                          value={editForm.capacity}\n                            onChange={(e) => updateField('capacity', e.target.value)}\n                              className=\"form-input\"\n                              placeholder=\"Enter capacity...\"\n                            />\n                          </div>\n                        </div>\n                        \n                        <div className=\"form-row\">\n                          <div className=\"form-group\">\n                            <label htmlFor={`edit-date-${post.id}`}>Date:</label>\n                            <input\n                              id={`edit-date-${post.id}`}\n                              type=\"date\"\n                                                          value={editForm.workoutDate}\n                            onChange={(e) => updateField('workoutDate', e.target.value)}\n                              className=\"form-input\"\n                            />\n                          </div>\n                          \n                          <div className=\"form-group\">\n                            <label htmlFor={`edit-time-${post.id}`}>Time:</label>\n                            <input\n                              id={`edit-time-${post.id}`}\n                              type=\"time\"\n                                                          value={editForm.workoutTime}\n                            onChange={(e) => updateField('workoutTime', e.target.value)}\n                              className=\"form-input\"\n                            />\n                          </div>\n                        </div>\n                        \n                        <div className=\"form-group\">\n                          <label htmlFor={`edit-content-${post.id}`}>Description:</label>\n                          <textarea\n                            id={`edit-content-${post.id}`}\n                            value={editWorkoutForm.content}\n                            onChange={(e) => setEditWorkoutForm(prev => ({ ...prev, content: e.target.value }))}\n                            className=\"form-textarea\"\n                            rows=\"3\"\n                            placeholder=\"Enter workout description...\"\n                          />\n                        </div>\n                        \n                        <div className=\"edit-actions\">\n                          <button \n                            className=\"btn btn-primary\" \n                            onClick={() => handleSaveWorkoutEdit(post.id)}\n                          >\n                            Save Changes\n                          </button>\n                          <button \n                            className=\"btn btn-secondary\" \n                            onClick={handleCancelEdit}\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                      </div>\n                    ) : (\n                      <>\n                        {post.workout_type && (\n                          <div className=\"workout-meta\">\n                            <span className=\"workout-type-badge\">{post.workout_type}</span>\n                            {post.workout_date && (\n                              <span className=\"workout-date\">\n                                ðŸ“… {new Date(post.workout_date).toLocaleDateString()}\n                                {post.workout_time && (\n                                  <span className=\"workout-time\"> â€¢ ðŸ• {post.workout_time}</span>\n                                )}\n                              </span>\n                            )}\n                          </div>\n                        )}\n\n                        <div className=\"workout-content\">\n                          {post.content}\n                        </div>\n                      </>\n                    )}\n\n                    {/* Sign-up button positioned at bottom right */}\n                    <div className=\"workout-signup-section\">\n                      <div className=\"button-group\">\n                        <button \n                          className={`signup-btn ${isUserSignedUp(post.id) ? 'signed-up' : ''} ${isWorkoutFull(post.id) ? 'full' : ''}`}\n                          onClick={() => handleWorkoutSignUp(post.id)}\n                          disabled={isWorkoutFull(post.id) && !isUserSignedUp(post.id)}\n                        >\n                          {isUserSignedUp(post.id) ? 'âœ“ Signed Up' : isWorkoutFull(post.id) ? 'Full' : 'Sign Up'}\n                        </button>\n                        \n                        {/* Cancel button for signed-up users */}\n                        {isUserSignedUp(post.id) && (\n                          <button \n                            className=\"cancel-btn\"\n                            onClick={() => handleCancelClick(post.id)}\n                          >\n                            Cancel\n                          </button>\n                        )}\n                        \n                        {/* Waitlist button for full workouts */}\n                        {post.capacity && isWorkoutFull(post.id) && !isUserSignedUp(post.id) && (\n                          <button \n                            className={`waitlist-btn ${isUserOnWaitlist(post.id) ? 'on-waitlist' : ''}`}\n                            onClick={() => isUserOnWaitlist(post.id) ? handleWaitlistLeave(post.id) : handleWaitlistJoin(post.id)}\n                          >\n                            {isUserOnWaitlist(post.id) ? 'Leave Waitlist' : 'Join Waitlist'}\n                          </button>\n                        )}\n                        \n                        {/* Position label when on waitlist */}\n                        {post.capacity && isWorkoutFull(post.id) && isUserOnWaitlist(post.id) && (\n                          <span className=\"waitlist-position\">\n                            {`You're ${formatOrdinal(getWaitlistPosition(post.id))} on the waitlist`}\n                          </span>\n                        )}\n                      </div>\n                      \n                      <span className=\"signup-count\">\n                        {post.capacity \n                          ? `${workoutSignups[post.id]?.length || 0}/${post.capacity} signed up`\n                          : `${workoutSignups[post.id]?.length || 0} signed up`\n                        }\n                        {post.capacity && (\n                          <span className={`capacity-status ${isWorkoutFull(post.id) ? 'full' : 'available'}`}>\n                            {isWorkoutFull(post.id) ? ' (Full)' : ' (Available)'}\n                          </span>\n                        )}\n                        {post.capacity && workoutWaitlists[post.id]?.length > 0 && (\n                          <span className=\"waitlist-count\">\n                            â€¢ {workoutWaitlists[post.id].length} on waitlist\n                          </span>\n                        )}\n                      </span>\n                    </div>\n\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Events Section */}\n        {activeTab === 'events' && (\n          <div className=\"events-section\">\n            <div className=\"section-header\">\n              <h2>Event Posts</h2>\n              {isExec(currentUser) && (\n                <button \n                  className=\"new-post-btn\"\n                  onClick={() => setShowEventForm(true)}\n                >\n                  + New Event\n                </button>\n              )}\n            </div>\n\n            {eventPosts.length === 0 ? (\n              <p className=\"no-posts\">No event posts yet.</p>\n            ) : (\n              <div className=\"posts-list\">\n                {eventPosts.map(post => (\n                  <div key={post.id} className=\"post-card event-post\">\n                    <div className=\"post-header\">\n                      {post.title && (\n                        <div className=\"event-title\">\n                          <h3>\n                            <a href={`/event/${post.id}`} className=\"event-title-link\">\n                              {post.title}\n                            </a>\n                          </h3>\n                        </div>\n                      )}\n                      \n                      {/* Delete button for event author */}\n                      {currentUser.id === post.user_id && (\n                        <button \n                          className=\"delete-btn\"\n                          onClick={() => handleDeleteEvent(post.id)}\n                        >\n                          ðŸ—‘ï¸ Delete\n                        </button>\n                      )}\n                    </div>\n                    \n                    <div className=\"event-author\">\n                      <div className=\"author-info\">\n                        {post.authorProfilePictureUrl ? (\n                          <img \n                            src={`http://localhost:5001${post.authorProfilePictureUrl}`} \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                            onError={(e) => {\n                              e.target.src = '/images/default_profile.png';\n                            }}\n                          />\n                        ) : (\n                          <img \n                            src=\"/images/default_profile.png\" \n                            alt=\"Profile\" \n                            className=\"author-avatar\"\n                          />\n                        )}\n                        <span className=\"author-name\">Posted by {post.author_name}</span>\n                      </div>\n                    </div>\n                    \n                    {post.event_date && (\n                      <div className=\"event-meta\">\n                        <span className=\"event-date\">\n                          ðŸ“… {new Date(post.event_date).toLocaleDateString()}\n                        </span>\n                      </div>\n                    )}\n                    \n                    <div className=\"post-footer\">\n                      <div className=\"rsvp-buttons\">\n                        <button className=\"rsvp-btn going\">Going</button>\n                        <button className=\"rsvp-btn maybe\">Maybe</button>\n                        <button className=\"rsvp-btn not-going\">Not Going</button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Waitlist Promotion Success Message */}\n        {showPromotionMessage && promotedWorkout && (\n          <div className=\"promotion-message\">\n            <div className=\"promotion-content\">\n              <h3>ðŸŽ‰ Congratulations!</h3>\n              <p>You've been promoted from the waitlist for <strong>{promotedWorkout.title}</strong>!</p>\n              <p>Check your email for details. You're now officially signed up for this workout.</p>\n              <button \n                className=\"promotion-close-btn\"\n                onClick={() => setShowPromotionMessage(false)}\n              >\n                âœ•\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Cancel Confirmation Modal */}\n        {showCancelModal && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal cancel-modal\">\n              <h2>Cancel Workout Signup</h2>\n              <div className=\"cancel-warning\">\n                <p>âš ï¸ <strong>Important:</strong> If you cancel less than 24 hours in advance, it will count as an absence.</p>\n                <p>Your absences are recorded and once you have three, you will be suspended from signing up for a week.</p>\n                <p>This is to keep it fair for all members!</p>\n              </div>\n              <div className=\"modal-actions\">\n                <button className=\"btn-secondary\" onClick={handleCancelCancel}>\n                  Keep Booking\n                </button>\n                <button className=\"btn-danger\" onClick={handleCancelConfirm}>\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Workout Creation Modal */}\n        {showWorkoutForm && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal\">\n              <h2>Create New Workout Post</h2>\n              <form onSubmit={handleSubmitWorkout}>\n                <div className=\"form-group\">\n                  <label>Workout Title:</label>\n                  <input\n                    type=\"text\"\n                    value={workoutForm.title}\n                    onChange={(e) => setWorkoutForm({...workoutForm, title: e.target.value})}\n                    placeholder=\"e.g., Tuesday Morning Swim, Weekend Long Run\"\n                    maxLength=\"100\"\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Workout Type:</label>\n                  <select\n                    value={workoutForm.type}\n                    onChange={(e) => setWorkoutForm({...workoutForm, type: e.target.value})}\n                    required\n                  >\n                    <option value=\"spin\">Spin</option>\n                    <option value=\"outdoor-ride\">Outdoor Ride</option>\n                    <option value=\"run\">Run</option>\n                    <option value=\"swim\">Swim</option>\n                    <option value=\"brick\">Brick (Bike + Run)</option>\n                    <option value=\"other\">Other</option>\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Workout Date:</label>\n                  <input\n                    type=\"date\"\n                    value={workoutForm.date}\n                    onChange={(e) => setWorkoutForm({...workoutForm, date: e.target.value})}\n                    min={new Date().toISOString().split('T')[0]}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Workout Time:</label>\n                  <input\n                    type=\"time\"\n                    value={workoutForm.time}\n                    onChange={(e) => setWorkoutForm({...workoutForm, time: e.target.value})}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Additional Details:</label>\n                  <textarea\n                    value={workoutForm.content}\n                    onChange={(e) => setWorkoutForm({...workoutForm, content: e.target.value})}\n                    placeholder=\"Describe the workout, time, location, requirements, what to bring...\"\n                    rows=\"4\"\n                    maxLength=\"500\"\n                    required\n                  />\n                  <small className=\"char-count\">{workoutForm.content.length}/500</small>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Capacity (Optional):</label>\n                  <input\n                    type=\"number\"\n                    value={workoutForm.capacity}\n                    onChange={(e) => setWorkoutForm({...workoutForm, capacity: e.target.value})}\n                    placeholder=\"Leave empty for unlimited spots\"\n                    min=\"1\"\n                    max=\"100\"\n                  />\n                  <small>Maximum number of people who can sign up. Leave empty for unlimited spots.</small>\n                </div>\n\n                <div className=\"modal-actions\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Post Workout</button>\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowWorkoutForm(false)}>Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Event Creation Modal */}\n        {showEventForm && (\n          <div className=\"modal-overlay\">\n            <div className=\"modal\">\n              <h2>Create New Event Post</h2>\n              <form onSubmit={handleSubmitEvent}>\n                <div className=\"form-group\">\n                  <label>Event Title:</label>\n                  <input\n                    type=\"text\"\n                    value={eventForm.title}\n                    onChange={(e) => setEventForm({...eventForm, title: e.target.value})}\n                    placeholder=\"e.g., Club Social Night, Race Watch Party\"\n                    maxLength=\"100\"\n                    required\n                  />\n                </div>\n\n                                <div className=\"form-group\">\n                  <label>Event Date:</label>\n                  <input\n                    type=\"date\"\n                    value={eventForm.date}\n                    onChange={(e) => setEventForm({...eventForm, date: e.target.value})}\n                    min={new Date().toISOString().split('T')[0]}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Event Details:</label>\n                  <textarea\n                    value={eventForm.content}\n                    onChange={(e) => setEventForm({...eventForm, content: e.target.value})}\n                    placeholder=\"Describe the event, time, location, what to bring, RSVP details...\"\n                    rows=\"4\"\n                    maxLength=\"500\"\n                    required\n                  />\n                  <small className=\"char-count\">{eventForm.content.length}/500</small>\n                </div>\n\n                <div className=\"modal-actions\">\n                  <button type=\"submit\" className=\"btn btn-primary\">Post Event</button>\n                  <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setShowEventForm(false)}>Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Forum;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}