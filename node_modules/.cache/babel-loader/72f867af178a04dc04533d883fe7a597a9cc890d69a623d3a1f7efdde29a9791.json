{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/TeamGear.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './TeamGear.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TeamGear = () => {\n  _s();\n  var _orderSelections$sele2, _orderSelections$sele3;\n  const {\n    currentUser,\n    isAdmin\n  } = useAuth();\n  const API_BASE = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const [gearItems, setGearItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // State to track current image index for each gear item\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\n\n  // Admin edit modal state\n  const [editingItem, setEditingItem] = useState(null);\n  const [editForm, setEditForm] = useState({\n    title: '',\n    price: '',\n    description: ''\n  });\n  const [newImages, setNewImages] = useState([]);\n  const [saving, setSaving] = useState(false);\n  const [currentImages, setCurrentImages] = useState([]);\n  // Simple per-item selection for ordering options\n  const [orderSelections, setOrderSelections] = useState({}); // { [itemId]: { fit: 'mens'|'womens', size: 'xs'|'s'|'m'|'l'|'xl'|'2xl' } }\n\n  // Admin add modal state\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addForm, setAddForm] = useState({\n    title: '',\n    price: '',\n    description: ''\n  });\n  const [adding, setAdding] = useState(false);\n\n  // Lightbox (enlarge) state\n  const [lightboxItem, setLightboxItem] = useState(null);\n  const [lightboxIndex, setLightboxIndex] = useState(0);\n\n  // Order confirmation modal state\n  const [showOrderModal, setShowOrderModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [orderSubmitting, setOrderSubmitting] = useState(false);\n  const [orderEmail, setOrderEmail] = useState('');\n  const [orderEmailConfirm, setOrderEmailConfirm] = useState('');\n  const [orderError, setOrderError] = useState('');\n\n  // Success modal state\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [orderSuccessData, setOrderSuccessData] = useState(null);\n  const normalizeImageUrl = url => {\n    if (!url) {\n      console.log('ðŸ–¼ï¸ [NORMALIZE] No URL provided, using placeholder');\n      return '/images/placeholder-gear.svg';\n    }\n    console.log('ðŸ–¼ï¸ [NORMALIZE] Processing URL:', url);\n    if (url.startsWith('/uploads/')) {\n      const normalized = `${API_BASE}/..${url}`;\n      console.log('ðŸ–¼ï¸ [NORMALIZE] Uploads URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('/api/')) {\n      const normalized = `${API_BASE.replace('/api', '')}${url}`;\n      console.log('ðŸ–¼ï¸ [NORMALIZE] API URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('http')) {\n      console.log('ðŸ–¼ï¸ [NORMALIZE] Full URL ->', url);\n      return url;\n    }\n    console.log('ðŸ–¼ï¸ [NORMALIZE] Fallback to placeholder for:', url);\n    return '/images/placeholder-gear.svg';\n  };\n\n  // Fetch gear items from backend\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`${API_BASE}/gear`);\n        if (!res.ok) throw new Error('Failed to load gear');\n        const data = await res.json();\n        const items = (data.items || []).map(item => ({\n          ...item,\n          images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n        }));\n        setGearItems(items);\n      } catch (e) {\n        setError('Failed to load team gear');\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [API_BASE]);\n\n  // Navigation functions\n  const goToPreviousImage = itemId => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === 0 ? item.images.length - 1 : currentIndex - 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n  const goToNextImage = itemId => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === item.images.length - 1 ? 0 : currentIndex + 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  // Get current image for an item\n  const getCurrentImage = item => {\n    const currentIndex = currentImageIndex[item.id] || 0;\n    const src = item.images[currentIndex] || item.images[0] || '/images/placeholder-gear.svg';\n    return normalizeImageUrl(src);\n  };\n\n  // Lightbox helpers\n  const openLightbox = (item, index = 0) => {\n    setLightboxItem(item);\n    setLightboxIndex(index);\n    document.body.style.overflow = 'hidden';\n  };\n  const closeLightbox = () => {\n    setLightboxItem(null);\n    setLightboxIndex(0);\n    document.body.style.overflow = '';\n  };\n  const lightboxPrev = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex(prev => prev === 0 ? len - 1 : prev - 1);\n  };\n  const lightboxNext = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex(prev => prev === len - 1 ? 0 : prev + 1);\n  };\n\n  // Edit handlers\n  const openEditModal = item => {\n    console.log('ðŸ“ [GEAR EDIT] Opening modal for item:', item);\n    setEditingItem(item);\n    setEditForm({\n      title: item.title || '',\n      price: item.price || '',\n      description: item.description || ''\n    });\n    setCurrentImages([...(item.images || [])]);\n    setNewImages([]);\n  };\n  const closeEditModal = () => {\n    setEditingItem(null);\n    setNewImages([]);\n    setCurrentImages([]);\n    setSaving(false);\n  };\n  const handleFilesChange = e => {\n    const files = Array.from(e.target.files || []);\n    console.log('ðŸ“ [GEAR FILES] Selected files:', files.map(f => ({\n      name: f.name,\n      size: f.size,\n      type: f.type\n    })));\n    setNewImages(files);\n  };\n\n  // Image management functions\n  const removeImage = async imageUrl => {\n    if (!editingItem) return;\n\n    // Don't try to delete placeholder images\n    if (imageUrl.includes('placeholder-gear.svg') || imageUrl.includes('/images/')) {\n      console.log('ðŸ—‘ï¸ [FRONTEND] Skipping placeholder image deletion:', imageUrl);\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n      return;\n    }\n    try {\n      console.log('ðŸ—‘ï¸ [FRONTEND] Attempting to remove image:', imageUrl);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          imageUrl\n        })\n      });\n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({}));\n        console.error('âŒ [FRONTEND] Delete image failed:', res.status, errorData);\n        throw new Error(errorData.error || `Failed to remove image (${res.status})`);\n      }\n      const result = await res.json();\n      console.log('âœ… [FRONTEND] Image removed successfully:', result);\n\n      // Update local state\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n    } catch (e) {\n      console.error('âŒ [FRONTEND] Error removing image:', e);\n      alert(`Failed to remove image: ${e.message}`);\n    }\n  };\n  const moveImageUp = index => {\n    if (index === 0) return;\n    const newImages = [...currentImages];\n    [newImages[index - 1], newImages[index]] = [newImages[index], newImages[index - 1]];\n    setCurrentImages(newImages);\n  };\n  const moveImageDown = index => {\n    if (index === currentImages.length - 1) return;\n    const newImages = [...currentImages];\n    [newImages[index], newImages[index + 1]] = [newImages[index + 1], newImages[index]];\n    setCurrentImages(newImages);\n  };\n\n  // Add new gear item\n  const addGearItem = async () => {\n    if (!addForm.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    try {\n      setAdding(true);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(addForm)\n      });\n      if (!res.ok) throw new Error('Failed to create gear item');\n\n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      setShowAddModal(false);\n      setAddForm({\n        title: '',\n        price: '',\n        description: ''\n      });\n    } catch (e) {\n      console.error('Error adding gear item:', e);\n      alert('Failed to add gear item');\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Delete gear item\n  const deleteGearItem = async itemId => {\n    if (!window.confirm('Are you sure you want to delete this gear item? This action cannot be undone.')) {\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!res.ok) throw new Error('Failed to delete gear item');\n\n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      closeEditModal();\n    } catch (e) {\n      console.error('Error deleting gear item:', e);\n      alert('Failed to delete gear item');\n    }\n  };\n  const saveEdit = async () => {\n    console.log('ðŸš€ [GEAR SAVE] Function called, editingItem:', editingItem);\n    if (!editingItem) return;\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ [GEAR SAVE] Token exists:', !!token);\n\n      // Update fields including reordered images\n      console.log('ðŸ“¤ [GEAR SAVE] PUT details', editForm);\n      console.log('ðŸ“¤ [GEAR SAVE] Current images order:', currentImages);\n      const putRes = await fetch(`${API_BASE}/gear/${editingItem.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: editForm.title,\n          price: editForm.price,\n          description: editForm.description,\n          images: currentImages\n        })\n      });\n      if (!putRes.ok) throw new Error('Failed to save gear details');\n\n      // Upload new images if any\n      if (newImages.length > 0) {\n        const formData = new FormData();\n        newImages.forEach(f => formData.append('images', f));\n        console.log('ðŸ“¤ [GEAR SAVE] POST images', newImages.map(f => ({\n          name: f.name,\n          size: f.size,\n          type: f.type\n        })));\n        const imgRes = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (!imgRes.ok) throw new Error('Failed to upload images');\n        const imgJson = await imgRes.json().catch(() => null);\n        console.log('âœ… [GEAR SAVE] Images response:', imgJson);\n\n        // Update currentImages with the new images from server\n        if (imgJson && imgJson.images) {\n          setCurrentImages(imgJson.images);\n          console.log('ðŸ”„ [GEAR SAVE] Updated currentImages with server response:', imgJson.images);\n        }\n      }\n\n      // Refetch list\n      console.log('ðŸ”„ [GEAR SAVE] Refetch gear list');\n      const res = await fetch(`${API_BASE}/gear`);\n      const data = await res.json();\n      const updatedItems = (data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      }));\n      setGearItems(updatedItems);\n      console.log('âœ… [GEAR SAVE] Updated gear items:', updatedItems);\n      closeEditModal();\n    } catch (e) {\n      console.error(e);\n      alert(e.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Order confirmation handlers\n  const handleOrderClick = item => {\n    setSelectedItem(item);\n    setShowOrderModal(true);\n  };\n  const closeOrderModal = () => {\n    setShowOrderModal(false);\n    setSelectedItem(null);\n    setOrderEmail('');\n    setOrderEmailConfirm('');\n    setOrderError('');\n  };\n  const submitOrder = async () => {\n    if (!selectedItem || !currentUser) return;\n    // Validate email confirmation\n    const emailToUse = (orderEmail || '').trim();\n    const emailConfirmToUse = (orderEmailConfirm || '').trim();\n    if (!emailToUse || !emailConfirmToUse) {\n      setOrderError('Please enter both email addresses.');\n      return;\n    }\n    if (emailToUse !== emailConfirmToUse) {\n      setOrderError('Emails do not match.');\n      return;\n    }\n    setOrderError('');\n    setOrderSubmitting(true);\n    try {\n      var _currentUser$name, _currentUser$name2, _orderSelections$sele;\n      const token = localStorage.getItem('triathlonToken');\n      const orderData = {\n        firstName: currentUser.first_name || ((_currentUser$name = currentUser.name) === null || _currentUser$name === void 0 ? void 0 : _currentUser$name.split(' ')[0]) || '',\n        lastName: currentUser.last_name || ((_currentUser$name2 = currentUser.name) === null || _currentUser$name2 === void 0 ? void 0 : _currentUser$name2.split(' ').slice(1).join(' ')) || '',\n        email: emailToUse,\n        item: selectedItem.title,\n        size: ((_orderSelections$sele = orderSelections[selectedItem.id]) === null || _orderSelections$sele === void 0 ? void 0 : _orderSelections$sele.size) || '',\n        quantity: 1\n      };\n      const response = await fetch(`${API_BASE}/merch-orders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to submit order');\n      }\n      alert('Order submitted successfully! You will receive an invoice email shortly.');\n      closeOrderModal();\n    } catch (error) {\n      console.error('Order submission error:', error);\n      alert('Failed to submit order. Please try again.');\n    } finally {\n      setOrderSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container teamgear-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Team Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"page-description\",\n      children: \"Show your UofT Tri Club pride with our official team gear!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Triathlon Specific Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"The tri suits, bike kits and running singletsre from Champion Systems. The main reference for triathlon is here https://www.champ-sys.ca/pages/triathlon, but you may look at cycling and running items.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        marginTop: '2rem'\n      },\n      children: \"Under Armour Gear\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please order through website by October 19th. After this you will receive an invoice from the university.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-grid\",\n      children: gearItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-image-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getCurrentImage(item),\n            alt: item.title,\n            className: \"gear-image\",\n            onError: e => {\n              e.target.src = '/images/placeholder-gear.svg';\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-enlarge-button\",\n            onClick: () => openLightbox(item, currentImageIndex[item.id] || 0),\n            \"aria-label\": \"Enlarge image\",\n            title: \"Enlarge\",\n            children: \"\\u2922\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), item.images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-nav-button gear-nav-left\",\n              onClick: () => goToPreviousImage(item.id),\n              \"aria-label\": \"Previous image\",\n              children: \"\\u2039\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-nav-button gear-nav-right\",\n              onClick: () => goToNextImage(item.id),\n              \"aria-label\": \"Next image\",\n              children: \"\\u203A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-image-indicators\",\n              children: item.images.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `gear-indicator ${(currentImageIndex[item.id] || 0) === index ? 'active' : ''}`,\n                onClick: () => setCurrentImageIndex(prev => ({\n                  ...prev,\n                  [item.id]: index\n                })),\n                \"aria-label\": `Go to image ${index + 1}`\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gear-title\",\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"gear-description\",\n            children: item.images && item.images.length > 1 ? (item.description || '').replace(/image coming soon\\.?/ig, '').trim() : item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-price\",\n            children: [\"$\", item.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this), (() => {\n            const isClothingItem = item.title.toLowerCase().includes('suit') || item.title.toLowerCase().includes('jersey') || item.title.toLowerCase().includes('shorts');\n            const isUnisexItem = item.title.toLowerCase().includes('backpack') || item.title.toLowerCase().includes('cap');\n            if (isUnisexItem) {\n              // No ordering options for unisex items (backpack, cap) - they're one-size\n              return null;\n            } else if (isClothingItem) {\n              var _orderSelections$item, _orderSelections$item2, _orderSelections$item3;\n              // Show both fit and size for clothing items\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-order-options\",\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: '8px',\n                  margin: '8px 0 12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Fit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item = orderSelections[item.id]) === null || _orderSelections$item === void 0 ? void 0 : _orderSelections$item.fit) || 'mens',\n                    onChange: e => setOrderSelections(prev => {\n                      const fit = e.target.value;\n                      const prevItem = prev[item.id] || {};\n                      const adjustedSize = fit === 'mens' && prevItem.size === 'xs' ? 's' : prevItem.size || 'm';\n                      return {\n                        ...prev,\n                        [item.id]: {\n                          ...prevItem,\n                          fit,\n                          size: adjustedSize\n                        }\n                      };\n                    }),\n                    \"aria-label\": \"Select fit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mens\",\n                      children: \"Men's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 541,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"womens\",\n                      children: \"Women's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 542,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 531,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 546,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item2 = orderSelections[item.id]) === null || _orderSelections$item2 === void 0 ? void 0 : _orderSelections$item2.size) || 'm',\n                    onChange: e => setOrderSelections(prev => ({\n                      ...prev,\n                      [item.id]: {\n                        ...(prev[item.id] || {}),\n                        size: e.target.value\n                      }\n                    })),\n                    \"aria-label\": \"Select size\",\n                    children: [(((_orderSelections$item3 = orderSelections[item.id]) === null || _orderSelections$item3 === void 0 ? void 0 : _orderSelections$item3.fit) || 'mens') !== 'mens' && /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xs\",\n                      children: \"XS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 87\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"s\",\n                      children: \"S\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 553,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"m\",\n                      children: \"M\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"l\",\n                      children: \"L\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xl\",\n                      children: \"XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 556,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2xl\",\n                      children: \"2XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 547,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 21\n              }, this);\n            } else {\n              var _orderSelections$item4, _orderSelections$item5, _orderSelections$item6;\n              // Default: show both options for other items\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-order-options\",\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: '8px',\n                  margin: '8px 0 12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Fit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 567,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item4 = orderSelections[item.id]) === null || _orderSelections$item4 === void 0 ? void 0 : _orderSelections$item4.fit) || 'mens',\n                    onChange: e => setOrderSelections(prev => {\n                      const fit = e.target.value;\n                      const prevItem = prev[item.id] || {};\n                      const adjustedSize = fit === 'mens' && prevItem.size === 'xs' ? 's' : prevItem.size || 'm';\n                      return {\n                        ...prev,\n                        [item.id]: {\n                          ...prevItem,\n                          fit,\n                          size: adjustedSize\n                        }\n                      };\n                    }),\n                    \"aria-label\": \"Select fit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"mens\",\n                      children: \"Men's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"womens\",\n                      children: \"Women's\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 579,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  style: {\n                    margin: 0\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      display: 'block',\n                      fontSize: '12px',\n                      color: '#6b7280',\n                      marginBottom: '4px'\n                    },\n                    children: \"Size\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 583,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: ((_orderSelections$item5 = orderSelections[item.id]) === null || _orderSelections$item5 === void 0 ? void 0 : _orderSelections$item5.size) || 'm',\n                    onChange: e => setOrderSelections(prev => ({\n                      ...prev,\n                      [item.id]: {\n                        ...(prev[item.id] || {}),\n                        size: e.target.value\n                      }\n                    })),\n                    \"aria-label\": \"Select size\",\n                    children: [(((_orderSelections$item6 = orderSelections[item.id]) === null || _orderSelections$item6 === void 0 ? void 0 : _orderSelections$item6.fit) || 'mens') !== 'mens' && /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xs\",\n                      children: \"XS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 589,\n                      columnNumber: 87\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"s\",\n                      children: \"S\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 590,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"m\",\n                      children: \"M\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"l\",\n                      children: \"L\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"xl\",\n                      children: \"XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"2xl\",\n                      children: \"2XL\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 584,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this);\n            }\n          })(), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-button\",\n              onClick: () => handleOrderClick(item),\n              children: \"Order Now\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 17\n            }, this), isAdmin && isAdmin(currentUser) && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gear-edit-button\",\n              onClick: () => openEditModal(item),\n              children: \"\\u270E Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }, this), isAdmin && isAdmin(currentUser) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-add-section\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"gear-add-button\",\n        onClick: () => setShowAddModal(true),\n        children: \"+ Add New Merchandise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 9\n    }, this), lightboxItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-lightbox-overlay\",\n      onClick: closeLightbox,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-lightbox\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-close\",\n          onClick: closeLightbox,\n          \"aria-label\": \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-nav gear-lightbox-left\",\n          onClick: lightboxPrev,\n          \"aria-label\": \"Previous\",\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"gear-lightbox-image\",\n          src: normalizeImageUrl(lightboxItem.images[lightboxIndex]),\n          alt: lightboxItem.title,\n          onError: e => {\n            e.target.src = '/images/placeholder-gear.svg';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gear-lightbox-nav gear-lightbox-right\",\n          onClick: lightboxNext,\n          \"aria-label\": \"Next\",\n          children: \"\\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 13\n        }, this), Array.isArray(lightboxItem.images) && lightboxItem.images.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-lightbox-indicators\",\n          children: lightboxItem.images.map((_, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `gear-indicator ${lightboxIndex === idx ? 'active' : ''}`,\n            onClick: () => setLightboxIndex(idx),\n            \"aria-label\": `Go to image ${idx + 1}`\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 644,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 631,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 9\n    }, this), editingItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: closeEditModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Edit Gear: \", editingItem.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editForm.title,\n            onChange: e => setEditForm({\n              ...editForm,\n              title: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editForm.price,\n            onChange: e => setEditForm({\n              ...editForm,\n              price: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 678,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: \"5\",\n            value: editForm.description,\n            onChange: e => setEditForm({\n              ...editForm,\n              description: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Current Images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 15\n          }, this), currentImages.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-current-images\",\n            children: currentImages.map((imageUrl, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-image-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: normalizeImageUrl(imageUrl),\n                alt: `Image ${index + 1}`,\n                className: \"gear-image-preview\",\n                onError: e => {\n                  e.target.src = '/images/placeholder-gear.svg';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"gear-image-controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => moveImageUp(index),\n                  disabled: index === 0,\n                  className: \"gear-move-btn\",\n                  title: \"Move up\",\n                  children: \"\\u2191\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 698,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => moveImageDown(index),\n                  disabled: index === currentImages.length - 1,\n                  className: \"gear-move-btn\",\n                  title: \"Move down\",\n                  children: \"\\u2193\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 707,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removeImage(imageUrl),\n                  className: \"gear-remove-btn\",\n                  title: \"Remove image\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 697,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"gear-no-images\",\n            children: \"No images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Add New Photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            multiple: true,\n            onChange: handleFilesChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 15\n          }, this), newImages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gear-new-images\",\n            children: newImages.map((f, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"gear-new-image\",\n              children: f.name\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 738,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 736,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 732,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: closeEditModal,\n            disabled: saving,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-button\",\n            onClick: () => deleteGearItem(editingItem.id),\n            disabled: saving,\n            style: {\n              backgroundColor: '#ef4444',\n              marginRight: 'auto'\n            },\n            children: \"Delete Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: saveEdit,\n            disabled: saving,\n            children: saving ? 'Saving...' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 9\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: () => setShowAddModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Add New Merchandise\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-modal-close\",\n            onClick: () => setShowAddModal(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addForm.title,\n              onChange: e => setAddForm({\n                ...addForm,\n                title: e.target.value\n              }),\n              placeholder: \"Enter merchandise title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 770,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: addForm.price,\n              onChange: e => setAddForm({\n                ...addForm,\n                price: e.target.value\n              }),\n              placeholder: \"Enter price (e.g., $25 or X)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 777,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: \"3\",\n              value: addForm.description,\n              onChange: e => setAddForm({\n                ...addForm,\n                description: e.target.value\n              }),\n              placeholder: \"Enter description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: () => setShowAddModal(false),\n            disabled: adding,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: addGearItem,\n            disabled: adding,\n            children: adding ? 'Adding...' : 'Add Item'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 761,\n      columnNumber: 9\n    }, this), showOrderModal && selectedItem && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gear-modal-overlay\",\n      onClick: closeOrderModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gear-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Confirm Order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"gear-modal-close\",\n            onClick: closeOrderModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 808,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-confirmation\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Order Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Item:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 19\n              }, this), \" \", selectedItem.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 815,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `order-item ${(_orderSelections$sele2 = orderSelections[selectedItem.id]) !== null && _orderSelections$sele2 !== void 0 && _orderSelections$sele2.size ? 'size-highlighted' : ''}`,\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Size:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 19\n              }, this), \" \", (_orderSelections$sele3 = orderSelections[selectedItem.id]) !== null && _orderSelections$sele3 !== void 0 && _orderSelections$sele3.size ? /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#059669',\n                  fontWeight: '600'\n                },\n                children: orderSelections[selectedItem.id].size.toUpperCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#6b7280',\n                  fontStyle: 'italic'\n                },\n                children: \"Not specified\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 19\n              }, this), \" 1\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 827,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 19\n              }, this), \" \", selectedItem.price || 'Contact for pricing']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              style: {\n                marginTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  fontWeight: 600,\n                  marginBottom: 4\n                },\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: orderEmail,\n                onChange: e => setOrderEmail(e.target.value),\n                placeholder: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.email) || 'Enter your email',\n                required: true,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 833,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-item\",\n              style: {\n                marginTop: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                style: {\n                  display: 'block',\n                  fontWeight: 600,\n                  marginBottom: 4\n                },\n                children: \"Confirm Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 845,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: orderEmailConfirm,\n                onChange: e => setOrderEmailConfirm(e.target.value),\n                placeholder: \"Retype your email\",\n                required: true,\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 844,\n              columnNumber: 17\n            }, this), orderError && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b91c1c',\n                marginTop: 6\n              },\n              children: orderError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 856,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '0.9rem',\n                color: '#6b7280',\n                marginTop: 8\n              },\n              children: \"Note: Use your University of Toronto email, or the same email you used to purchase your gym membership.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 858,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-notice\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Important:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 862,\n                  columnNumber: 22\n                }, this), \" You will receive an invoice email shortly after confirming your order.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 862,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Please check your email for payment instructions and order details.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 861,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gear-modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-button\",\n            onClick: closeOrderModal,\n            disabled: orderSubmitting,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 868,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: submitOrder,\n            disabled: orderSubmitting,\n            style: {\n              backgroundColor: '#10b981'\n            },\n            children: orderSubmitting ? 'Submitting...' : 'Confirm Order'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 806,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 443,\n    columnNumber: 5\n  }, this);\n};\n_s(TeamGear, \"g8BT2EGX/icXQrdI0H938W1fgB0=\", false, function () {\n  return [useAuth];\n});\n_c = TeamGear;\nexport default TeamGear;\nvar _c;\n$RefreshReg$(_c, \"TeamGear\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","TeamGear","_s","_orderSelections$sele2","_orderSelections$sele3","currentUser","isAdmin","API_BASE","process","env","REACT_APP_API_BASE_URL","gearItems","setGearItems","loading","setLoading","error","setError","currentImageIndex","setCurrentImageIndex","editingItem","setEditingItem","editForm","setEditForm","title","price","description","newImages","setNewImages","saving","setSaving","currentImages","setCurrentImages","orderSelections","setOrderSelections","showAddModal","setShowAddModal","addForm","setAddForm","adding","setAdding","lightboxItem","setLightboxItem","lightboxIndex","setLightboxIndex","showOrderModal","setShowOrderModal","selectedItem","setSelectedItem","orderSubmitting","setOrderSubmitting","orderEmail","setOrderEmail","orderEmailConfirm","setOrderEmailConfirm","orderError","setOrderError","showSuccessModal","setShowSuccessModal","orderSuccessData","setOrderSuccessData","normalizeImageUrl","url","console","log","startsWith","normalized","replace","load","res","fetch","ok","Error","data","json","items","map","item","images","Array","isArray","length","e","goToPreviousImage","itemId","currentIndex","find","id","newIndex","prev","goToNextImage","getCurrentImage","src","openLightbox","index","document","body","style","overflow","closeLightbox","lightboxPrev","len","lightboxNext","openEditModal","closeEditModal","handleFilesChange","files","from","target","f","name","size","type","removeImage","imageUrl","includes","filter","img","token","localStorage","getItem","method","headers","JSON","stringify","errorData","catch","status","result","alert","message","moveImageUp","moveImageDown","addGearItem","trim","gearRes","deleteGearItem","window","confirm","saveEdit","putRes","formData","FormData","forEach","append","imgRes","imgJson","updatedItems","handleOrderClick","closeOrderModal","submitOrder","emailToUse","emailConfirmToUse","_currentUser$name","_currentUser$name2","_orderSelections$sele","orderData","firstName","first_name","split","lastName","last_name","slice","join","email","quantity","response","className","children","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","alt","onError","onClick","_","isClothingItem","toLowerCase","isUnisexItem","_orderSelections$item","_orderSelections$item2","_orderSelections$item3","display","gridTemplateColumns","gap","margin","fontSize","color","marginBottom","value","fit","onChange","prevItem","adjustedSize","_orderSelections$item4","_orderSelections$item5","_orderSelections$item6","stopPropagation","idx","rows","disabled","accept","multiple","backgroundColor","marginRight","placeholder","fontWeight","toUpperCase","fontStyle","required","width","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/TeamGear.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './TeamGear.css';\n\nconst TeamGear = () => {\n  const { currentUser, isAdmin } = useAuth();\n  const API_BASE = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const [gearItems, setGearItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // State to track current image index for each gear item\n  const [currentImageIndex, setCurrentImageIndex] = useState({});\n\n  // Admin edit modal state\n  const [editingItem, setEditingItem] = useState(null);\n  const [editForm, setEditForm] = useState({ title: '', price: '', description: '' });\n  const [newImages, setNewImages] = useState([]);\n  const [saving, setSaving] = useState(false);\n  const [currentImages, setCurrentImages] = useState([]);\n  // Simple per-item selection for ordering options\n  const [orderSelections, setOrderSelections] = useState({}); // { [itemId]: { fit: 'mens'|'womens', size: 'xs'|'s'|'m'|'l'|'xl'|'2xl' } }\n\n  // Admin add modal state\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [addForm, setAddForm] = useState({ title: '', price: '', description: '' });\n  const [adding, setAdding] = useState(false);\n\n  // Lightbox (enlarge) state\n  const [lightboxItem, setLightboxItem] = useState(null);\n  const [lightboxIndex, setLightboxIndex] = useState(0);\n\n  // Order confirmation modal state\n  const [showOrderModal, setShowOrderModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [orderSubmitting, setOrderSubmitting] = useState(false);\n  const [orderEmail, setOrderEmail] = useState('');\n  const [orderEmailConfirm, setOrderEmailConfirm] = useState('');\n  const [orderError, setOrderError] = useState('');\n  \n  // Success modal state\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [orderSuccessData, setOrderSuccessData] = useState(null);\n\n  const normalizeImageUrl = (url) => {\n    if (!url) {\n      console.log('ðŸ–¼ï¸ [NORMALIZE] No URL provided, using placeholder');\n      return '/images/placeholder-gear.svg';\n    }\n    \n    console.log('ðŸ–¼ï¸ [NORMALIZE] Processing URL:', url);\n    \n    if (url.startsWith('/uploads/')) {\n      const normalized = `${API_BASE}/..${url}`;\n      console.log('ðŸ–¼ï¸ [NORMALIZE] Uploads URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('/api/')) {\n      const normalized = `${API_BASE.replace('/api','')}${url}`;\n      console.log('ðŸ–¼ï¸ [NORMALIZE] API URL ->', normalized);\n      return normalized;\n    }\n    if (url.startsWith('http')) {\n      console.log('ðŸ–¼ï¸ [NORMALIZE] Full URL ->', url);\n      return url;\n    }\n    \n    console.log('ðŸ–¼ï¸ [NORMALIZE] Fallback to placeholder for:', url);\n    return '/images/placeholder-gear.svg';\n  };\n\n  // Fetch gear items from backend\n  useEffect(() => {\n    const load = async () => {\n      try {\n        setLoading(true);\n        const res = await fetch(`${API_BASE}/gear`);\n        if (!res.ok) throw new Error('Failed to load gear');\n        const data = await res.json();\n        const items = (data.items || []).map(item => ({\n          ...item,\n          images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n        }));\n        setGearItems(items);\n      } catch (e) {\n        setError('Failed to load team gear');\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [API_BASE]);\n\n  // Navigation functions\n  const goToPreviousImage = (itemId) => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === 0 ? item.images.length - 1 : currentIndex - 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  const goToNextImage = (itemId) => {\n    const currentIndex = currentImageIndex[itemId] || 0;\n    const item = gearItems.find(item => item.id === itemId);\n    if (item && item.images.length > 0) {\n      const newIndex = currentIndex === item.images.length - 1 ? 0 : currentIndex + 1;\n      setCurrentImageIndex(prev => ({\n        ...prev,\n        [itemId]: newIndex\n      }));\n    }\n  };\n\n  // Get current image for an item\n  const getCurrentImage = (item) => {\n    const currentIndex = currentImageIndex[item.id] || 0;\n    const src = item.images[currentIndex] || item.images[0] || '/images/placeholder-gear.svg';\n    return normalizeImageUrl(src);\n  };\n\n  // Lightbox helpers\n  const openLightbox = (item, index = 0) => {\n    setLightboxItem(item);\n    setLightboxIndex(index);\n    document.body.style.overflow = 'hidden';\n  };\n\n  const closeLightbox = () => {\n    setLightboxItem(null);\n    setLightboxIndex(0);\n    document.body.style.overflow = '';\n  };\n\n  const lightboxPrev = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex((prev) => (prev === 0 ? len - 1 : prev - 1));\n  };\n\n  const lightboxNext = () => {\n    if (!lightboxItem) return;\n    const len = (lightboxItem.images || []).length;\n    if (len === 0) return;\n    setLightboxIndex((prev) => (prev === len - 1 ? 0 : prev + 1));\n  };\n\n  // Edit handlers\n  const openEditModal = (item) => {\n    console.log('ðŸ“ [GEAR EDIT] Opening modal for item:', item);\n    setEditingItem(item);\n    setEditForm({\n      title: item.title || '',\n      price: item.price || '',\n      description: item.description || ''\n    });\n    setCurrentImages([...(item.images || [])]);\n    setNewImages([]);\n  };\n\n  const closeEditModal = () => {\n    setEditingItem(null);\n    setNewImages([]);\n    setCurrentImages([]);\n    setSaving(false);\n  };\n\n  const handleFilesChange = (e) => {\n    const files = Array.from(e.target.files || []);\n    console.log('ðŸ“ [GEAR FILES] Selected files:', files.map(f => ({name: f.name, size: f.size, type: f.type})));\n    setNewImages(files);\n  };\n\n  // Image management functions\n  const removeImage = async (imageUrl) => {\n    if (!editingItem) return;\n    \n    // Don't try to delete placeholder images\n    if (imageUrl.includes('placeholder-gear.svg') || imageUrl.includes('/images/')) {\n      console.log('ðŸ—‘ï¸ [FRONTEND] Skipping placeholder image deletion:', imageUrl);\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n      return;\n    }\n    \n    try {\n      console.log('ðŸ—‘ï¸ [FRONTEND] Attempting to remove image:', imageUrl);\n      const token = localStorage.getItem('triathlonToken');\n      const res = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({ imageUrl })\n      });\n      \n      if (!res.ok) {\n        const errorData = await res.json().catch(() => ({}));\n        console.error('âŒ [FRONTEND] Delete image failed:', res.status, errorData);\n        throw new Error(errorData.error || `Failed to remove image (${res.status})`);\n      }\n      \n      const result = await res.json();\n      console.log('âœ… [FRONTEND] Image removed successfully:', result);\n      \n      // Update local state\n      setCurrentImages(prev => prev.filter(img => img !== imageUrl));\n    } catch (e) {\n      console.error('âŒ [FRONTEND] Error removing image:', e);\n      alert(`Failed to remove image: ${e.message}`);\n    }\n  };\n\n  const moveImageUp = (index) => {\n    if (index === 0) return;\n    const newImages = [...currentImages];\n    [newImages[index - 1], newImages[index]] = [newImages[index], newImages[index - 1]];\n    setCurrentImages(newImages);\n  };\n\n  const moveImageDown = (index) => {\n    if (index === currentImages.length - 1) return;\n    const newImages = [...currentImages];\n    [newImages[index], newImages[index + 1]] = [newImages[index + 1], newImages[index]];\n    setCurrentImages(newImages);\n  };\n\n  // Add new gear item\n  const addGearItem = async () => {\n    if (!addForm.title.trim()) {\n      alert('Please enter a title');\n      return;\n    }\n    \n    try {\n      setAdding(true);\n      const token = localStorage.getItem('triathlonToken');\n      \n      const res = await fetch(`${API_BASE}/gear`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify(addForm)\n      });\n      \n      if (!res.ok) throw new Error('Failed to create gear item');\n      \n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      \n      setShowAddModal(false);\n      setAddForm({ title: '', price: '', description: '' });\n    } catch (e) {\n      console.error('Error adding gear item:', e);\n      alert('Failed to add gear item');\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Delete gear item\n  const deleteGearItem = async (itemId) => {\n    if (!window.confirm('Are you sure you want to delete this gear item? This action cannot be undone.')) {\n      return;\n    }\n    \n    try {\n      const token = localStorage.getItem('triathlonToken');\n      \n      const res = await fetch(`${API_BASE}/gear/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (!res.ok) throw new Error('Failed to delete gear item');\n      \n      // Refetch gear list\n      const gearRes = await fetch(`${API_BASE}/gear`);\n      const data = await gearRes.json();\n      setGearItems((data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      })));\n      \n      closeEditModal();\n    } catch (e) {\n      console.error('Error deleting gear item:', e);\n      alert('Failed to delete gear item');\n    }\n  };\n\n  const saveEdit = async () => {\n    console.log('ðŸš€ [GEAR SAVE] Function called, editingItem:', editingItem);\n    if (!editingItem) return;\n    try {\n      setSaving(true);\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ [GEAR SAVE] Token exists:', !!token);\n\n      // Update fields including reordered images\n      console.log('ðŸ“¤ [GEAR SAVE] PUT details', editForm);\n      console.log('ðŸ“¤ [GEAR SAVE] Current images order:', currentImages);\n      const putRes = await fetch(`${API_BASE}/gear/${editingItem.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          title: editForm.title,\n          price: editForm.price,\n          description: editForm.description,\n          images: currentImages\n        })\n      });\n      if (!putRes.ok) throw new Error('Failed to save gear details');\n\n      // Upload new images if any\n      if (newImages.length > 0) {\n        const formData = new FormData();\n        newImages.forEach(f => formData.append('images', f));\n        console.log('ðŸ“¤ [GEAR SAVE] POST images', newImages.map(f=>({name:f.name,size:f.size,type:f.type})));\n        const imgRes = await fetch(`${API_BASE}/gear/${editingItem.id}/images`, {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          },\n          body: formData\n        });\n        if (!imgRes.ok) throw new Error('Failed to upload images');\n        const imgJson = await imgRes.json().catch(()=>null);\n        console.log('âœ… [GEAR SAVE] Images response:', imgJson);\n        \n        // Update currentImages with the new images from server\n        if (imgJson && imgJson.images) {\n          setCurrentImages(imgJson.images);\n          console.log('ðŸ”„ [GEAR SAVE] Updated currentImages with server response:', imgJson.images);\n        }\n      }\n\n      // Refetch list\n      console.log('ðŸ”„ [GEAR SAVE] Refetch gear list');\n      const res = await fetch(`${API_BASE}/gear`);\n      const data = await res.json();\n      const updatedItems = (data.items || []).map(item => ({\n        ...item,\n        images: Array.isArray(item.images) && item.images.length > 0 ? item.images : ['/images/placeholder-gear.svg']\n      }));\n      setGearItems(updatedItems);\n      console.log('âœ… [GEAR SAVE] Updated gear items:', updatedItems);\n\n      closeEditModal();\n    } catch (e) {\n      console.error(e);\n      alert(e.message || 'Failed to save');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // Order confirmation handlers\n  const handleOrderClick = (item) => {\n    setSelectedItem(item);\n    setShowOrderModal(true);\n  };\n\n  const closeOrderModal = () => {\n    setShowOrderModal(false);\n    setSelectedItem(null);\n    setOrderEmail('');\n    setOrderEmailConfirm('');\n    setOrderError('');\n  };\n\n  const submitOrder = async () => {\n    if (!selectedItem || !currentUser) return;\n    // Validate email confirmation\n    const emailToUse = (orderEmail || '').trim();\n    const emailConfirmToUse = (orderEmailConfirm || '').trim();\n    \n    if (!emailToUse || !emailConfirmToUse) {\n      setOrderError('Please enter both email addresses.');\n      return;\n    }\n    \n    if (emailToUse !== emailConfirmToUse) {\n      setOrderError('Emails do not match.');\n      return;\n    }\n    setOrderError('');\n\n    setOrderSubmitting(true);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const orderData = {\n        firstName: currentUser.first_name || currentUser.name?.split(' ')[0] || '',\n        lastName: currentUser.last_name || currentUser.name?.split(' ').slice(1).join(' ') || '',\n        email: emailToUse,\n        item: selectedItem.title,\n        size: orderSelections[selectedItem.id]?.size || '',\n        quantity: 1\n      };\n\n      const response = await fetch(`${API_BASE}/merch-orders`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData)\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to submit order');\n      }\n\n      alert('Order submitted successfully! You will receive an invoice email shortly.');\n      closeOrderModal();\n    } catch (error) {\n      console.error('Order submission error:', error);\n      alert('Failed to submit order. Please try again.');\n    } finally {\n      setOrderSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"page-container teamgear-page\">\n      <h1>Team Gear</h1>\n      <p className=\"page-description\">\n        Show your UofT Tri Club pride with our official team gear! \n      </p>\n      <h3>Triathlon Specific Gear</h3>\n      <p>\n      The tri suits, bike kits and running singletsre from Champion Systems. The main reference for triathlon is here\n      https://www.champ-sys.ca/pages/triathlon, but you may look at cycling and running items. \n\n      \n      </p>\n      \n      <h3 style={{ marginTop: '2rem' }}>Under Armour Gear</h3>\n      <p>Please order through website by October 19th. After this you will receive an invoice from the university.</p>\n      <div className=\"gear-grid\">\n        {gearItems.map(item => (\n          <div key={item.id} className=\"gear-item\">\n            <div className=\"gear-image-container\">\n              <img \n                src={getCurrentImage(item)} \n                alt={item.title}\n                className=\"gear-image\"\n                onError={(e) => {\n                  e.target.src = '/images/placeholder-gear.svg';\n                }}\n              />\n              <button\n                className=\"gear-enlarge-button\"\n                onClick={() => openLightbox(item, currentImageIndex[item.id] || 0)}\n                aria-label=\"Enlarge image\"\n                title=\"Enlarge\"\n              >\n                â¤¢\n              </button>\n              {item.images.length > 1 && (\n                <>\n                  <button \n                    className=\"gear-nav-button gear-nav-left\"\n                    onClick={() => goToPreviousImage(item.id)}\n                    aria-label=\"Previous image\"\n                  >\n                    â€¹\n                  </button>\n                  <button \n                    className=\"gear-nav-button gear-nav-right\"\n                    onClick={() => goToNextImage(item.id)}\n                    aria-label=\"Next image\"\n                  >\n                    â€º\n                  </button>\n                  <div className=\"gear-image-indicators\">\n                    {item.images.map((_, index) => (\n                      <button\n                        key={index}\n                        className={`gear-indicator ${(currentImageIndex[item.id] || 0) === index ? 'active' : ''}`}\n                        onClick={() => setCurrentImageIndex(prev => ({\n                          ...prev,\n                          [item.id]: index\n                        }))}\n                        aria-label={`Go to image ${index + 1}`}\n                      />\n                    ))}\n                  </div>\n                </>\n              )}\n            </div>\n            <div className=\"gear-content\">\n              <h3 className=\"gear-title\">{item.title}</h3>\n              <p className=\"gear-description\">{(item.images && item.images.length > 1) ? (item.description || '').replace(/image coming soon\\.?/ig, '').trim() : item.description}</p>\n              <div className=\"gear-price\">${item.price}</div>\n              {/* Ordering options */}\n              {(() => {\n                const isClothingItem = item.title.toLowerCase().includes('suit') || \n                                     item.title.toLowerCase().includes('jersey') || \n                                     item.title.toLowerCase().includes('shorts');\n                const isUnisexItem = item.title.toLowerCase().includes('backpack') || \n                                   item.title.toLowerCase().includes('cap');\n                \n                if (isUnisexItem) {\n                  // No ordering options for unisex items (backpack, cap) - they're one-size\n                  return null;\n                } else if (isClothingItem) {\n                  // Show both fit and size for clothing items\n                  return (\n                    <div className=\"gear-order-options\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', margin: '8px 0 12px' }}>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Fit</label>\n                        <select\n                          value={(orderSelections[item.id]?.fit) || 'mens'}\n                          onChange={(e) => setOrderSelections(prev => {\n                            const fit = e.target.value;\n                            const prevItem = prev[item.id] || {};\n                            const adjustedSize = (fit === 'mens' && prevItem.size === 'xs') ? 's' : (prevItem.size || 'm');\n                            return { ...prev, [item.id]: { ...prevItem, fit, size: adjustedSize } };\n                          })}\n                          aria-label=\"Select fit\"\n                        >\n                          <option value=\"mens\">Men's</option>\n                          <option value=\"womens\">Women's</option>\n                        </select>\n                      </div>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Size</label>\n                        <select\n                          value={(orderSelections[item.id]?.size) || 'm'}\n                          onChange={(e) => setOrderSelections(prev => ({ ...prev, [item.id]: { ...(prev[item.id]||{}), size: e.target.value } }))}\n                          aria-label=\"Select size\"\n                        >\n                          {((orderSelections[item.id]?.fit) || 'mens') !== 'mens' && (<option value=\"xs\">XS</option>)}\n                          <option value=\"s\">S</option>\n                          <option value=\"m\">M</option>\n                          <option value=\"l\">L</option>\n                          <option value=\"xl\">XL</option>\n                          <option value=\"2xl\">2XL</option>\n                        </select>\n                      </div>\n                    </div>\n                  );\n                } else {\n                  // Default: show both options for other items\n                  return (\n                    <div className=\"gear-order-options\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '8px', margin: '8px 0 12px' }}>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Fit</label>\n                        <select\n                          value={(orderSelections[item.id]?.fit) || 'mens'}\n                          onChange={(e) => setOrderSelections(prev => {\n                            const fit = e.target.value;\n                            const prevItem = prev[item.id] || {};\n                            const adjustedSize = (fit === 'mens' && prevItem.size === 'xs') ? 's' : (prevItem.size || 'm');\n                            return { ...prev, [item.id]: { ...prevItem, fit, size: adjustedSize } };\n                          })}\n                          aria-label=\"Select fit\"\n                        >\n                          <option value=\"mens\">Men's</option>\n                          <option value=\"womens\">Women's</option>\n                        </select>\n                      </div>\n                      <div className=\"form-group\" style={{ margin: 0 }}>\n                        <label style={{ display: 'block', fontSize: '12px', color: '#6b7280', marginBottom: '4px' }}>Size</label>\n                        <select\n                          value={(orderSelections[item.id]?.size) || 'm'}\n                          onChange={(e) => setOrderSelections(prev => ({ ...prev, [item.id]: { ...(prev[item.id]||{}), size: e.target.value } }))}\n                          aria-label=\"Select size\"\n                        >\n                          {((orderSelections[item.id]?.fit) || 'mens') !== 'mens' && (<option value=\"xs\">XS</option>)}\n                          <option value=\"s\">S</option>\n                          <option value=\"m\">M</option>\n                          <option value=\"l\">L</option>\n                          <option value=\"xl\">XL</option>\n                          <option value=\"2xl\">2XL</option>\n                        </select>\n                      </div>\n                    </div>\n                  );\n                }\n              })()}\n              <div className=\"gear-buttons\">\n                <button className=\"gear-button\" onClick={() => handleOrderClick(item)}>\n                  Order Now\n                </button>\n                {isAdmin && isAdmin(currentUser) && (\n                  <button className=\"gear-edit-button\" onClick={() => openEditModal(item)}>\n                    âœŽ Edit\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      {isAdmin && isAdmin(currentUser) && (\n        <div className=\"gear-add-section\">\n          <button \n            className=\"gear-add-button\" \n            onClick={() => setShowAddModal(true)}\n          >\n            + Add New Merchandise\n          </button>\n        </div>\n      )}\n      \n    \n\n      {lightboxItem && (\n        <div className=\"gear-lightbox-overlay\" onClick={closeLightbox}>\n          <div className=\"gear-lightbox\" onClick={(e) => e.stopPropagation()}>\n            <button className=\"gear-lightbox-close\" onClick={closeLightbox} aria-label=\"Close\">Ã—</button>\n            <button className=\"gear-lightbox-nav gear-lightbox-left\" onClick={lightboxPrev} aria-label=\"Previous\">â€¹</button>\n            <img\n              className=\"gear-lightbox-image\"\n              src={normalizeImageUrl(lightboxItem.images[lightboxIndex])}\n              alt={lightboxItem.title}\n              onError={(e) => { e.target.src = '/images/placeholder-gear.svg'; }}\n            />\n            <button className=\"gear-lightbox-nav gear-lightbox-right\" onClick={lightboxNext} aria-label=\"Next\">â€º</button>\n            {Array.isArray(lightboxItem.images) && lightboxItem.images.length > 1 && (\n              <div className=\"gear-lightbox-indicators\">\n                {lightboxItem.images.map((_, idx) => (\n                  <button\n                    key={idx}\n                    className={`gear-indicator ${lightboxIndex === idx ? 'active' : ''}`}\n                    onClick={() => setLightboxIndex(idx)}\n                    aria-label={`Go to image ${idx + 1}`}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {editingItem && (\n        <div className=\"gear-modal-overlay\" onClick={closeEditModal}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <h2>Edit Gear: {editingItem.title}</h2>\n            <div className=\"form-group\">\n              <label>Title</label>\n              <input\n                type=\"text\"\n                value={editForm.title}\n                onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Price</label>\n              <input\n                type=\"text\"\n                value={editForm.price}\n                onChange={(e) => setEditForm({ ...editForm, price: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Description</label>\n              <textarea\n                rows=\"5\"\n                value={editForm.description}\n                onChange={(e) => setEditForm({ ...editForm, description: e.target.value })}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Current Images</label>\n              {currentImages.length > 0 ? (\n                <div className=\"gear-current-images\">\n                  {currentImages.map((imageUrl, index) => (\n                    <div key={index} className=\"gear-image-item\">\n                      <img \n                        src={normalizeImageUrl(imageUrl)} \n                        alt={`Image ${index + 1}`}\n                        className=\"gear-image-preview\"\n                        onError={(e) => { e.target.src = '/images/placeholder-gear.svg'; }}\n                      />\n                      <div className=\"gear-image-controls\">\n                        <button \n                          type=\"button\" \n                          onClick={() => moveImageUp(index)}\n                          disabled={index === 0}\n                          className=\"gear-move-btn\"\n                          title=\"Move up\"\n                        >\n                          â†‘\n                        </button>\n                        <button \n                          type=\"button\" \n                          onClick={() => moveImageDown(index)}\n                          disabled={index === currentImages.length - 1}\n                          className=\"gear-move-btn\"\n                          title=\"Move down\"\n                        >\n                          â†“\n                        </button>\n                        <button \n                          type=\"button\" \n                          onClick={() => removeImage(imageUrl)}\n                          className=\"gear-remove-btn\"\n                          title=\"Remove image\"\n                        >\n                          Ã—\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"gear-no-images\">No images</p>\n              )}\n            </div>\n            <div className=\"form-group\">\n              <label>Add New Photos</label>\n              <input type=\"file\" accept=\"image/*\" multiple onChange={handleFilesChange} />\n              {newImages.length > 0 && (\n                <div className=\"gear-new-images\">\n                  {newImages.map((f, idx) => (\n                    <div className=\"gear-new-image\" key={idx}>{f.name}</div>\n                  ))}\n                </div>\n              )}\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={closeEditModal} disabled={saving}>Cancel</button>\n              <button \n                className=\"delete-button\" \n                onClick={() => deleteGearItem(editingItem.id)}\n                disabled={saving}\n                style={{ backgroundColor: '#ef4444', marginRight: 'auto' }}\n              >\n                Delete Item\n              </button>\n              <button className=\"save-button\" onClick={saveEdit} disabled={saving}>{saving ? 'Saving...' : 'Save'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add new gear modal */}\n      {showAddModal && (\n        <div className=\"gear-modal-overlay\" onClick={() => setShowAddModal(false)}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"gear-modal-header\">\n              <h2>Add New Merchandise</h2>\n              <button className=\"gear-modal-close\" onClick={() => setShowAddModal(false)}>Ã—</button>\n            </div>\n            <div className=\"gear-modal-body\">\n              <div className=\"form-group\">\n                <label>Title *</label>\n                <input\n                  type=\"text\"\n                  value={addForm.title}\n                  onChange={(e) => setAddForm({ ...addForm, title: e.target.value })}\n                  placeholder=\"Enter merchandise title\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Price</label>\n                <input\n                  type=\"text\"\n                  value={addForm.price}\n                  onChange={(e) => setAddForm({ ...addForm, price: e.target.value })}\n                  placeholder=\"Enter price (e.g., $25 or X)\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Description</label>\n                <textarea\n                  rows=\"3\"\n                  value={addForm.description}\n                  onChange={(e) => setAddForm({ ...addForm, description: e.target.value })}\n                  placeholder=\"Enter description\"\n                />\n              </div>\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={() => setShowAddModal(false)} disabled={adding}>Cancel</button>\n              <button className=\"save-button\" onClick={addGearItem} disabled={adding}>{adding ? 'Adding...' : 'Add Item'}</button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Order confirmation modal */}\n      {showOrderModal && selectedItem && (\n        <div className=\"gear-modal-overlay\" onClick={closeOrderModal}>\n          <div className=\"gear-modal\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"gear-modal-header\">\n              <h2>Confirm Order</h2>\n              <button className=\"gear-modal-close\" onClick={closeOrderModal}>Ã—</button>\n            </div>\n            <div className=\"gear-modal-body\">\n              <div className=\"order-confirmation\">\n                <h3>Order Details</h3>\n                <div className=\"order-item\">\n                  <strong>Item:</strong> {selectedItem.title}\n                </div>\n                <div className={`order-item ${orderSelections[selectedItem.id]?.size ? 'size-highlighted' : ''}`}>\n                  <strong>Size:</strong> {orderSelections[selectedItem.id]?.size ? (\n                    <span style={{ color: '#059669', fontWeight: '600' }}>\n                      {orderSelections[selectedItem.id].size.toUpperCase()}\n                    </span>\n                  ) : (\n                    <span style={{ color: '#6b7280', fontStyle: 'italic' }}>Not specified</span>\n                  )}\n                </div>\n                <div className=\"order-item\">\n                  <strong>Quantity:</strong> 1\n                </div>\n                <div className=\"order-item\">\n                  <strong>Price:</strong> {selectedItem.price || 'Contact for pricing'}\n                </div>\n                <div className=\"order-item\" style={{ marginTop: '10px' }}>\n                  <label style={{ display: 'block', fontWeight: 600, marginBottom: 4 }}>Email</label>\n                  <input\n                    type=\"email\"\n                    value={orderEmail}\n                    onChange={(e) => setOrderEmail(e.target.value)}\n                    placeholder={currentUser?.email || 'Enter your email'}\n                    required\n                    style={{ width: '100%' }}\n                  />\n                </div>\n                <div className=\"order-item\" style={{ marginTop: '8px' }}>\n                  <label style={{ display: 'block', fontWeight: 600, marginBottom: 4 }}>Confirm Email</label>\n                  <input\n                    type=\"email\"\n                    value={orderEmailConfirm}\n                    onChange={(e) => setOrderEmailConfirm(e.target.value)}\n                    placeholder=\"Retype your email\"\n                    required\n                    style={{ width: '100%' }}\n                  />\n                </div>\n                {orderError && (\n                  <div style={{ color: '#b91c1c', marginTop: 6 }}>{orderError}</div>\n                )}\n                <p style={{ fontSize: '0.9rem', color: '#6b7280', marginTop: 8 }}>\n                  Note: Use your University of Toronto email, or the same email you used to purchase your gym membership.\n                </p>\n                <div className=\"order-notice\">\n                  <p><strong>Important:</strong> You will receive an invoice email shortly after confirming your order.</p>\n                  <p>Please check your email for payment instructions and order details.</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"gear-modal-actions\">\n              <button className=\"cancel-button\" onClick={closeOrderModal} disabled={orderSubmitting}>\n                Cancel\n              </button>\n              <button \n                className=\"save-button\" \n                onClick={submitOrder} \n                disabled={orderSubmitting}\n                style={{ backgroundColor: '#10b981' }}\n              >\n                {orderSubmitting ? 'Submitting...' : 'Confirm Order'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TeamGear;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}