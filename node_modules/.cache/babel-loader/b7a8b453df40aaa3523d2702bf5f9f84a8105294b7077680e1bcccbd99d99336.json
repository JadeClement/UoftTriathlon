{"ast":null,"code":"// Utility to normalize profile image URLs across the app\n// Handles full http(s) URLs (e.g., S3), '/api/...' and '/uploads/...' paths\nexport function normalizeProfileImageUrl(rawUrl) {\n  if (!rawUrl || typeof rawUrl !== 'string') return null;\n  const apiBase = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const originBase = apiBase.replace(/\\/api\\/?$/, '');\n  const url = rawUrl.trim();\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    return url; // Already absolute (e.g., S3)\n  }\n  if (url.startsWith('/api/')) {\n    return `${originBase}${url}`;\n  }\n  if (url.startsWith('/uploads/')) {\n    return `${apiBase}/..${url}`;\n  }\n  // Unknown shape\n  return null;\n}","map":{"version":3,"names":["normalizeProfileImageUrl","rawUrl","apiBase","process","env","REACT_APP_API_BASE_URL","originBase","replace","url","trim","startsWith"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/utils/imageUtils.js"],"sourcesContent":["// Utility to normalize profile image URLs across the app\n// Handles full http(s) URLs (e.g., S3), '/api/...' and '/uploads/...' paths\nexport function normalizeProfileImageUrl(rawUrl) {\n  if (!rawUrl || typeof rawUrl !== 'string') return null;\n\n  const apiBase = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n  const originBase = apiBase.replace(/\\/api\\/?$/, '');\n\n  const url = rawUrl.trim();\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    return url; // Already absolute (e.g., S3)\n  }\n  if (url.startsWith('/api/')) {\n    return `${originBase}${url}`;\n  }\n  if (url.startsWith('/uploads/')) {\n    return `${apiBase}/..${url}`;\n  }\n  // Unknown shape\n  return null;\n}\n\n\n"],"mappings":"AAAA;AACA;AACA,OAAO,SAASA,wBAAwBA,CAACC,MAAM,EAAE;EAC/C,IAAI,CAACA,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE,OAAO,IAAI;EAEtD,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,2BAA2B;EACjF,MAAMC,UAAU,GAAGJ,OAAO,CAACK,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;EAEnD,MAAMC,GAAG,GAAGP,MAAM,CAACQ,IAAI,CAAC,CAAC;EACzB,IAAID,GAAG,CAACE,UAAU,CAAC,SAAS,CAAC,IAAIF,GAAG,CAACE,UAAU,CAAC,UAAU,CAAC,EAAE;IAC3D,OAAOF,GAAG,CAAC,CAAC;EACd;EACA,IAAIA,GAAG,CAACE,UAAU,CAAC,OAAO,CAAC,EAAE;IAC3B,OAAO,GAAGJ,UAAU,GAAGE,GAAG,EAAE;EAC9B;EACA,IAAIA,GAAG,CAACE,UAAU,CAAC,WAAW,CAAC,EAAE;IAC/B,OAAO,GAAGR,OAAO,MAAMM,GAAG,EAAE;EAC9B;EACA;EACA,OAAO,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}