{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Link,useLocation}from'react-router-dom';import{useAuth}from'../context/AuthContext';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[isOpen,setIsOpen]=useState(false);const[isProfileOpen,setIsProfileOpen]=useState(false);const location=useLocation();const{currentUser,isMember,isAdmin}=useAuth();const profileRef=useRef(null);const toggleMenu=()=>{setIsOpen(!isOpen);};const closeMenu=()=>{setIsOpen(false);};const closeProfileMenu=()=>{setIsProfileOpen(false);};const isActive=path=>{return location.pathname===path;};// Handle clicks outside profile dropdown\nuseEffect(()=>{const handleClickOutside=event=>{if(profileRef.current&&!profileRef.current.contains(event.target)){setIsProfileOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-container\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"navbar-logo\",onClick:closeMenu,children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/icon.png\",alt:\"UofT Triathlon Logo\",className:\"navbar-icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"UofT Triathlon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-menu \".concat(isOpen?'active':''),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-link \".concat(isActive('/')?'active':''),onClick:closeMenu,children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/schedule\",className:\"navbar-link \".concat(isActive('/schedule')?'active':''),onClick:closeMenu,children:\"Schedule\"}),/*#__PURE__*/_jsx(Link,{to:\"/join-us\",className:\"navbar-link \".concat(isActive('/join-us')?'active':''),onClick:closeMenu,children:\"Join Us\"}),/*#__PURE__*/_jsx(Link,{to:\"/races\",className:\"navbar-link \".concat(isActive('/races')?'active':''),onClick:closeMenu,children:\"Races\"}),/*#__PURE__*/_jsx(Link,{to:\"/coaches-exec\",className:\"navbar-link \".concat(isActive('/coaches-exec')?'active':''),onClick:closeMenu,children:\"Coaches & Exec\"}),currentUser&&isAdmin(currentUser)&&/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"navbar-link \".concat(isActive('/admin')?'active':''),onClick:closeMenu,children:\"Admin\"}),currentUser&&isMember(currentUser)&&/*#__PURE__*/_jsx(Link,{to:\"/forum\",className:\"navbar-link \".concat(isActive('/forum')?'active':''),onClick:closeMenu,children:\"Forum\"}),currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",ref:profileRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-picture-nav\",onClick:()=>setIsProfileOpen(!isProfileOpen),children:currentUser.profilePictureUrl?/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5001\".concat(currentUser.profilePictureUrl),alt:\"Profile\"}):/*#__PURE__*/_jsx(\"div\",{className:\"profile-picture-placeholder-nav\",children:/*#__PURE__*/_jsx(\"span\",{children:currentUser.name?currentUser.name.charAt(0).toUpperCase():'U'})})}),isProfileOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"profile-menu-item\",onClick:()=>{setIsProfileOpen(false);closeMenu();},children:\"Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile-menu-item logout-btn\",onClick:()=>{localStorage.removeItem('triathlonUser');localStorage.removeItem('triathlonToken');window.location.reload();},children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"navbar-link \".concat(isActive('/login')?'active':''),onClick:closeMenu,children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-toggle\",onClick:toggleMenu,children:[/*#__PURE__*/_jsx(\"span\",{className:\"bar \".concat(isOpen?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"bar \".concat(isOpen?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"bar \".concat(isOpen?'active':'')})]})]})});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Navbar","isOpen","setIsOpen","isProfileOpen","setIsProfileOpen","location","currentUser","isMember","isAdmin","profileRef","toggleMenu","closeMenu","closeProfileMenu","isActive","path","pathname","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","children","to","onClick","src","alt","concat","ref","profilePictureUrl","name","charAt","toUpperCase","localStorage","removeItem","window","reload"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../context/AuthContext';\nimport './Navbar.css';\n\nconst Navbar = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n  const location = useLocation();\n  const { currentUser, isMember, isAdmin } = useAuth();\n  const profileRef = useRef(null);\n\n  const toggleMenu = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const closeMenu = () => {\n    setIsOpen(false);\n  };\n\n  const closeProfileMenu = () => {\n    setIsProfileOpen(false);\n  };\n\n  const isActive = (path) => {\n    return location.pathname === path;\n  };\n\n  // Handle clicks outside profile dropdown\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (profileRef.current && !profileRef.current.contains(event.target)) {\n        setIsProfileOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  return (\n    <nav className=\"navbar\">\n      <div className=\"navbar-container\">\n        <Link to=\"/\" className=\"navbar-logo\" onClick={closeMenu}>\n          <img src=\"/images/icon.png\" alt=\"UofT Triathlon Logo\" className=\"navbar-icon\" />\n          <span className=\"logo-text\">UofT Triathlon</span>\n        </Link>\n        \n        <div className={`navbar-menu ${isOpen ? 'active' : ''}`}>\n          <Link \n            to=\"/\" \n            className={`navbar-link ${isActive('/') ? 'active' : ''}`}\n            onClick={closeMenu}\n          >\n            Home\n          </Link>\n          <Link \n            to=\"/schedule\" \n            className={`navbar-link ${isActive('/schedule') ? 'active' : ''}`}\n            onClick={closeMenu}\n          >\n            Schedule\n          </Link>\n\n          <Link \n            to=\"/join-us\" \n            className={`navbar-link ${isActive('/join-us') ? 'active' : ''}`}\n            onClick={closeMenu}\n          >\n            Join Us\n          </Link>\n\n          <Link \n            to=\"/races\" \n            className={`navbar-link ${isActive('/races') ? 'active' : ''}`}\n            onClick={closeMenu}\n          >\n            Races\n          </Link>\n\n          <Link\n            to=\"/coaches-exec\"\n            className={`navbar-link ${isActive('/coaches-exec') ? 'active' : ''}`}\n            onClick={closeMenu}\n          >\n            Coaches & Exec\n          </Link>\n          {currentUser && isAdmin(currentUser) && (\n            <Link\n              to=\"/admin\"\n              className={`navbar-link ${isActive('/admin') ? 'active' : ''}`}\n              onClick={closeMenu}\n            >\n              Admin\n            </Link>\n          )}\n\n          {currentUser && isMember(currentUser) && (\n            <Link \n              to=\"/forum\" \n              className={`navbar-link ${isActive('/forum') ? 'active' : ''}`}\n              onClick={closeMenu}\n            >\n              Forum\n            </Link>\n          )}\n          \n          {currentUser ? (\n            <div className=\"profile-dropdown\" ref={profileRef}>\n              <div \n                className=\"profile-picture-nav\"\n                onClick={() => setIsProfileOpen(!isProfileOpen)}\n              >\n                {currentUser.profilePictureUrl ? (\n                  <img \n                    src={`http://localhost:5001${currentUser.profilePictureUrl}`} \n                    alt=\"Profile\" \n                  />\n                ) : (\n                  <div className=\"profile-picture-placeholder-nav\">\n                    <span>{currentUser.name ? currentUser.name.charAt(0).toUpperCase() : 'U'}</span>\n                  </div>\n                )}\n              </div>\n              \n              {isProfileOpen && (\n                <div className=\"profile-menu\">\n                  <Link \n                    to=\"/profile\" \n                    className=\"profile-menu-item\"\n                    onClick={() => {\n                      setIsProfileOpen(false);\n                      closeMenu();\n                    }}\n                  >\n                    Profile\n                  </Link>\n                  <button \n                    className=\"profile-menu-item logout-btn\"\n                    onClick={() => {\n                      localStorage.removeItem('triathlonUser');\n                      localStorage.removeItem('triathlonToken');\n                      window.location.reload();\n                    }}\n                  >\n                    Logout\n                  </button>\n                </div>\n              )}\n            </div>\n          ) : (\n            <Link \n              to=\"/login\" \n              className={`navbar-link ${isActive('/login') ? 'active' : ''}`}\n              onClick={closeMenu}\n            >\n              Login\n            </Link>\n          )}\n        </div>\n        \n        <div className=\"navbar-toggle\" onClick={toggleMenu}>\n          <span className={`bar ${isOpen ? 'active' : ''}`}></span>\n          <span className={`bar ${isOpen ? 'active' : ''}`}></span>\n          <span className={`bar ${isOpen ? 'active' : ''}`}></span>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}