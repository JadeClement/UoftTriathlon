{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport './Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    currentUser,\n    updateUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [profile, setProfile] = useState({\n    name: '',\n    email: '',\n    bio: '',\n    profilePicture: null,\n    profilePictureUrl: ''\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const API_BASE_URL = 'http://localhost:5001/api';\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    loadProfile();\n  }, [currentUser, navigate]);\n  const loadProfile = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n      const response = await fetch(`${API_BASE_URL}/users/profile`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const userData = await response.json();\n        setProfile({\n          name: userData.name || '',\n          email: userData.email || '',\n          bio: userData.bio || '',\n          profilePicture: null,\n          profilePictureUrl: userData.profilePictureUrl || ''\n        });\n        setPreviewUrl(userData.profilePictureUrl || '');\n      } else {\n        console.error('Failed to load profile');\n      }\n    } catch (error) {\n      console.error('Error loading profile:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n    }\n  };\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('name', profile.name);\n      formData.append('email', profile.email);\n      formData.append('bio', profile.bio);\n      if (selectedFile) {\n        formData.append('profilePicture', selectedFile);\n      }\n      const response = await fetch(`${API_BASE_URL}/users/profile`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        const updatedUser = await response.json();\n        setProfile(prev => ({\n          ...prev,\n          profilePictureUrl: updatedUser.profilePictureUrl || prev.profilePictureUrl\n        }));\n        setPreviewUrl(updatedUser.profilePictureUrl || previewUrl);\n        setEditMode(false);\n        setSelectedFile(null);\n\n        // Update the current user in context\n        if (updateUser) {\n          updateUser(updatedUser);\n        }\n      } else {\n        console.error('Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n  const handleCancel = () => {\n    setEditMode(false);\n    setSelectedFile(null);\n    setPreviewUrl(profile.profilePictureUrl || '');\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 12\n    }, this);\n  }\n  if (!currentUser) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage your personal information and profile picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-picture-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-picture\",\n            children: previewUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: previewUrl,\n              alt: \"Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-picture-placeholder\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDCF7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"picture-upload\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"profile-picture\",\n              className: \"upload-btn\",\n              children: \"Choose Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"profile-picture\",\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: handleFileSelect,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"file-name\",\n              children: selectedFile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-details\",\n          children: editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: profile.name,\n                onChange: e => setProfile({\n                  ...profile,\n                  name: e.target.value\n                }),\n                placeholder: \"Enter your name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                value: profile.email,\n                onChange: e => setProfile({\n                  ...profile,\n                  email: e.target.value\n                }),\n                placeholder: \"Enter your email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: profile.bio,\n                onChange: e => setProfile({\n                  ...profile,\n                  bio: e.target.value\n                }),\n                placeholder: \"Tell us about yourself...\",\n                rows: \"4\",\n                maxLength: \"500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"char-count\",\n                children: [profile.bio.length, \"/500\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: handleSave,\n                disabled: saving,\n                children: saving ? 'Saving...' : 'Save Changes'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                onClick: handleCancel,\n                disabled: saving,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profile-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: profile.name || 'Not set'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: profile.email || 'Not set'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bio-text\",\n                children: profile.bio || 'No bio added yet'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"profile-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => setEditMode(true),\n                children: \"Edit Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"ZwYVZQoUg1mc1Iv7JbuejN8fJjU=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useAuth","useNavigate","jsxDEV","_jsxDEV","Profile","_s","currentUser","updateUser","navigate","loading","setLoading","saving","setSaving","profile","setProfile","name","email","bio","profilePicture","profilePictureUrl","editMode","setEditMode","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","API_BASE_URL","loadProfile","token","localStorage","getItem","console","error","response","fetch","headers","ok","userData","json","handleFileSelect","event","file","target","files","url","URL","createObjectURL","handleSave","formData","FormData","append","method","body","updatedUser","prev","handleCancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","htmlFor","id","type","accept","onChange","style","display","value","e","placeholder","rows","maxLength","length","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport './Profile.css';\n\nconst Profile = () => {\n  const { currentUser, updateUser } = useAuth();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [profile, setProfile] = useState({\n    name: '',\n    email: '',\n    bio: '',\n    profilePicture: null,\n    profilePictureUrl: ''\n  });\n  const [editMode, setEditMode] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewUrl, setPreviewUrl] = useState('');\n\n  const API_BASE_URL = 'http://localhost:5001/api';\n\n  useEffect(() => {\n    if (!currentUser) {\n      navigate('/login');\n      return;\n    }\n    loadProfile();\n  }, [currentUser, navigate]);\n\n  const loadProfile = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      const response = await fetch(`${API_BASE_URL}/users/profile`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (response.ok) {\n        const userData = await response.json();\n        setProfile({\n          name: userData.name || '',\n          email: userData.email || '',\n          bio: userData.bio || '',\n          profilePicture: null,\n          profilePictureUrl: userData.profilePictureUrl || ''\n        });\n        setPreviewUrl(userData.profilePictureUrl || '');\n      } else {\n        console.error('Failed to load profile');\n      }\n    } catch (error) {\n      console.error('Error loading profile:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n    }\n  };\n\n  const handleSave = async () => {\n    setSaving(true);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Create FormData for file upload\n      const formData = new FormData();\n      formData.append('name', profile.name);\n      formData.append('email', profile.email);\n      formData.append('bio', profile.bio);\n      if (selectedFile) {\n        formData.append('profilePicture', selectedFile);\n      }\n\n      const response = await fetch(`${API_BASE_URL}/users/profile`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      if (response.ok) {\n        const updatedUser = await response.json();\n        setProfile(prev => ({\n          ...prev,\n          profilePictureUrl: updatedUser.profilePictureUrl || prev.profilePictureUrl\n        }));\n        setPreviewUrl(updatedUser.profilePictureUrl || previewUrl);\n        setEditMode(false);\n        setSelectedFile(null);\n        \n        // Update the current user in context\n        if (updateUser) {\n          updateUser(updatedUser);\n        }\n      } else {\n        console.error('Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setEditMode(false);\n    setSelectedFile(null);\n    setPreviewUrl(profile.profilePictureUrl || '');\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!currentUser) {\n    return null;\n  }\n\n  return (\n    <div className=\"profile-container\">\n      <div className=\"container\">\n        <div className=\"profile-header\">\n          <h1>My Profile</h1>\n          <p>Manage your personal information and profile picture</p>\n        </div>\n\n        <div className=\"profile-content\">\n          <div className=\"profile-picture-section\">\n            <div className=\"profile-picture\">\n              {previewUrl ? (\n                <img src={previewUrl} alt=\"Profile\" />\n              ) : (\n                <div className=\"profile-picture-placeholder\">\n                  <span>ðŸ“·</span>\n                </div>\n              )}\n            </div>\n            \n            {editMode && (\n              <div className=\"picture-upload\">\n                <label htmlFor=\"profile-picture\" className=\"upload-btn\">\n                  Choose Photo\n                </label>\n                <input\n                  id=\"profile-picture\"\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleFileSelect}\n                  style={{ display: 'none' }}\n                />\n                {selectedFile && (\n                  <p className=\"file-name\">{selectedFile.name}</p>\n                )}\n              </div>\n            )}\n          </div>\n\n          <div className=\"profile-details\">\n            {editMode ? (\n              <div className=\"edit-form\">\n                <div className=\"form-group\">\n                  <label>Name:</label>\n                  <input\n                    type=\"text\"\n                    value={profile.name}\n                    onChange={(e) => setProfile({...profile, name: e.target.value})}\n                    placeholder=\"Enter your name\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Email:</label>\n                  <input\n                    type=\"email\"\n                    value={profile.email}\n                    onChange={(e) => setProfile({...profile, email: e.target.value})}\n                    placeholder=\"Enter your email\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Bio:</label>\n                  <textarea\n                    value={profile.bio}\n                    onChange={(e) => setProfile({...profile, bio: e.target.value})}\n                    placeholder=\"Tell us about yourself...\"\n                    rows=\"4\"\n                    maxLength=\"500\"\n                  />\n                  <small className=\"char-count\">{profile.bio.length}/500</small>\n                </div>\n\n                <div className=\"form-actions\">\n                  <button \n                    className=\"btn btn-primary\" \n                    onClick={handleSave}\n                    disabled={saving}\n                  >\n                    {saving ? 'Saving...' : 'Save Changes'}\n                  </button>\n                  <button \n                    className=\"btn btn-secondary\" \n                    onClick={handleCancel}\n                    disabled={saving}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <div className=\"profile-info\">\n                <div className=\"info-row\">\n                  <label>Name:</label>\n                  <span>{profile.name || 'Not set'}</span>\n                </div>\n                \n                <div className=\"info-row\">\n                  <label>Email:</label>\n                  <span>{profile.email || 'Not set'}</span>\n                </div>\n                \n                <div className=\"info-row\">\n                  <label>Bio:</label>\n                  <span className=\"bio-text\">\n                    {profile.bio || 'No bio added yet'}\n                  </span>\n                </div>\n\n                <div className=\"profile-actions\">\n                  <button \n                    className=\"btn btn-primary\"\n                    onClick={() => setEditMode(true)}\n                  >\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}