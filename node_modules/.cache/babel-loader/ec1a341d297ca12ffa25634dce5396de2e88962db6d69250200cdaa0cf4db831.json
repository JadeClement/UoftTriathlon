{"ast":null,"code":"var _jsxFileName = \"/Users/jadeclement/Documents/Developer/uofttri/src/components/Admin.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './Admin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Admin = () => {\n  _s();\n  const {\n    currentUser,\n    isAdmin\n  } = useAuth();\n  const [members, setMembers] = useState([]);\n  const [pendingMembers, setPendingMembers] = useState([]);\n  const [activeTab, setActiveTab] = useState('members');\n  const [bannerForm, setBannerForm] = useState({\n    enabled: false,\n    message: ''\n  });\n  const [emailForm, setEmailForm] = useState({\n    to: '',\n    subject: '',\n    message: ''\n  });\n  const [template, setTemplate] = useState({\n    bannerTitle: '',\n    title: '',\n    intro: '',\n    bullets: [''],\n    body: ''\n  });\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [emailStatus, setEmailStatus] = useState(null);\n  const [editingMember, setEditingMember] = useState(null);\n  const [editForm, setEditForm] = useState({\n    name: '',\n    email: '',\n    role: '',\n    expiryDate: '',\n    phoneNumber: '',\n    charterAccepted: false\n  });\n  const [approvingMember, setApprovingMember] = useState(null);\n  const [approvalForm, setApprovalForm] = useState({\n    role: 'member',\n    expiryDate: ''\n  });\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n\n  // Phone number formatting functions (same as Login.js and Profile.js)\n  const validatePhoneNumber = phone => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Check if it's 10 digits (North American format)\n    return digitsOnly.length === 10;\n  };\n  const formatPhoneNumber = phone => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Format as (XXX) XXX-XXXX\n    if (digitsOnly.length === 10) {\n      return `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n    }\n    return phone; // Return original if not 10 digits\n  };\n  const handlePhoneNumberChange = e => {\n    const value = e.target.value;\n    // Remove all non-digit characters\n    const digitsOnly = value.replace(/\\D/g, '');\n\n    // Limit to 10 digits\n    if (digitsOnly.length <= 10) {\n      // Format as user types\n      let formatted = digitsOnly;\n      if (digitsOnly.length >= 6) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n      } else if (digitsOnly.length >= 3) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3)}`;\n      } else if (digitsOnly.length > 0) {\n        formatted = `(${digitsOnly}`;\n      }\n      setEditForm({\n        ...editForm,\n        phoneNumber: formatted\n      });\n    }\n  };\n\n  // Load data from backend API\n  useEffect(() => {\n    if (!currentUser || !isAdmin(currentUser)) {\n      return;\n    }\n    loadAdminData();\n  }, [currentUser, isAdmin]);\n  const loadBannerData = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/site/banner`);\n      if (response.ok) {\n        var _data$banner, _data$banner2;\n        const data = await response.json();\n        setBannerForm({\n          enabled: ((_data$banner = data.banner) === null || _data$banner === void 0 ? void 0 : _data$banner.enabled) || false,\n          message: ((_data$banner2 = data.banner) === null || _data$banner2 === void 0 ? void 0 : _data$banner2.message) || ''\n        });\n      }\n    } catch (error) {\n      console.error('Error loading banner data:', error);\n    }\n  };\n  const loadAdminData = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load banner data\n      await loadBannerData();\n\n      // Load all members\n      const membersResponse = await fetch(`${API_BASE_URL}/admin/members`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (membersResponse.ok) {\n        var _transformedMembers$f, _transformedMembers$f2;\n        const membersData = await membersResponse.json();\n        console.log('ðŸ“Š Members data received:', membersData.members);\n\n        // Transform backend data to frontend format (snake_case to camelCase)\n        const transformedMembers = membersData.members.map(member => ({\n          ...member,\n          joinDate: member.join_date,\n          expiryDate: member.expiry_date,\n          absences: member.absences || 0,\n          charterAccepted: member.charter_accepted || 0\n        }));\n        console.log('ðŸ”„ Transformed members data:', transformedMembers);\n        console.log('ðŸ“Š Raw backend data:', membersData.members);\n        console.log('ðŸ” Sample member with absences:', (_transformedMembers$f = transformedMembers.find(m => m.id)) === null || _transformedMembers$f === void 0 ? void 0 : _transformedMembers$f.absences);\n        console.log('ðŸ” Sample member with charter:', (_transformedMembers$f2 = transformedMembers.find(m => m.id)) === null || _transformedMembers$f2 === void 0 ? void 0 : _transformedMembers$f2.charterAccepted);\n        console.log('ðŸ” Raw charter_accepted values:', membersData.members.map(m => ({\n          id: m.id,\n          charter_accepted: m.charter_accepted\n        })));\n        console.log('ðŸ” Full transformed members:', JSON.stringify(transformedMembers, null, 2));\n        setMembers(transformedMembers);\n\n        // Filter pending members\n        const pending = transformedMembers.filter(m => m.role === 'pending');\n        setPendingMembers(pending);\n      }\n    } catch (error) {\n      console.error('Error loading admin data:', error);\n    }\n  };\n  const approveMember = member => {\n    setApprovingMember(member);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n  const handleApprovalSubmit = async () => {\n    if (!approvingMember || !approvalForm.expiryDate) {\n      alert('Please set an expiry date before approving the member.');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${approvingMember.id}/approve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role: approvalForm.role,\n          expiryDate: approvalForm.expiryDate\n        })\n      });\n      if (response.ok) {\n        // Reload data to get updated information\n        await loadAdminData();\n        setApprovingMember(null);\n        setApprovalForm({\n          role: 'member',\n          expiryDate: ''\n        });\n      } else {\n        console.error('Failed to approve member');\n      }\n    } catch (error) {\n      console.error('Error approving member:', error);\n    }\n  };\n  const cancelApproval = () => {\n    setApprovingMember(null);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n  const removeMember = async memberId => {\n    const confirmed = window.confirm('âš ï¸ WARNING: This will PERMANENTLY DELETE this user and all their data!\\n\\nThis action cannot be undone. Are you sure you want to continue?');\n    if (!confirmed) return;\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        console.log('âœ… User deleted successfully');\n        await loadAdminData();\n      } else {\n        console.error('Failed to delete user');\n        const err = await response.json().catch(() => ({}));\n        alert(`Failed to delete user${err.error ? `: ${err.error}` : ''}`);\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      alert(`Error deleting user: ${error.message}`);\n    }\n  };\n  const rejectMember = async memberId => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          role: 'rejected'\n        })\n      });\n      if (response.ok) {\n        // Reload data to get updated information\n        loadAdminData();\n      } else {\n        console.error('Failed to reject member');\n      }\n    } catch (error) {\n      console.error('Error rejecting member:', error);\n    }\n  };\n  const editMember = member => {\n    console.log('ðŸ”„ Editing member:', member);\n    console.log('ðŸ” Member charterAccepted value:', member.charterAccepted);\n    const initialCharterAccepted = member.charterAccepted || false;\n    console.log('ðŸ” Initial charterAccepted value:', initialCharterAccepted);\n    setEditingMember(member);\n    setEditForm({\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n    console.log('ðŸ“ Edit form set to:', {\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n  };\n  const saveMemberEdit = async () => {\n    console.log('ðŸš¨ saveMemberEdit function called!');\n    if (!editingMember) {\n      console.log('âŒ No editingMember, returning early');\n      return;\n    }\n    console.log('ðŸ”„ Saving member edit for:', editingMember.id);\n    console.log('ðŸ“ Form data:', editForm);\n\n    // Clean up the form data - convert empty strings to null for optional fields\n    const cleanFormData = {\n      ...editForm,\n      phoneNumber: formatPhoneNumber(editForm.phoneNumber),\n      // Format phone number before sending\n      expiryDate: editForm.expiryDate || null,\n      charterAccepted: editForm.charterAccepted ? 1 : 0\n    };\n    console.log('ðŸ§¹ Cleaned form data:', cleanFormData);\n    console.log('ðŸ” Charter accepted value being sent:', editForm.charterAccepted, 'â†’', cleanFormData.charterAccepted);\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ Token:', token ? 'Present' : 'Missing');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${editingMember.id}/update`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(cleanFormData)\n      });\n      console.log('ðŸ“¡ Response status:', response.status);\n      if (response.ok) {\n        const result = await response.json();\n        console.log('âœ… Update successful:', result);\n\n        // Check if role was changed and notify the user\n        if (editForm.role !== editingMember.role) {\n          console.log('ðŸ”„ Role changed from', editingMember.role, 'to', editForm.role);\n\n          // Send notification to the user about role change\n          try {\n            const notifyResponse = await fetch(`${API_BASE_URL}/admin/notify-role-change`, {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userId: editingMember.id,\n                oldRole: editingMember.role,\n                newRole: editForm.role\n              })\n            });\n            if (notifyResponse.ok) {\n              console.log('âœ… Role change notification sent');\n            } else {\n              console.log('âš ï¸ Failed to send role change notification');\n            }\n          } catch (error) {\n            console.log('âš ï¸ Error sending role change notification:', error);\n          }\n        }\n        console.log('ðŸ”„ Reloading admin data...');\n\n        // Reload data to get updated information\n        await loadAdminData();\n        console.log('âœ… Admin data reloaded');\n        setEditingMember(null);\n        setEditForm({\n          name: '',\n          email: '',\n          role: '',\n          expiryDate: '',\n          phoneNumber: '',\n          charterAccepted: false\n        });\n      } else {\n        const errorData = await response.json();\n        console.error('âŒ Failed to update member:', errorData);\n        alert(`Failed to update member: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('âŒ Error updating member:', error);\n      alert(`Error updating member: ${error.message}`);\n    }\n  };\n  const cancelEdit = () => {\n    setEditingMember(null);\n    setEditForm({\n      name: '',\n      email: '',\n      role: '',\n      expiryDate: '',\n      phoneNumber: '',\n      charterAccepted: false\n    });\n  };\n\n  // Debug: Log current user info\n  console.log('Current user:', currentUser);\n  console.log('Is admin check:', isAdmin(currentUser));\n\n  // Check if current user is admin\n  if (!currentUser || !isAdmin(currentUser)) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-access-denied\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Access Denied\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You don't have permission to access the admin panel.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current user: \", currentUser ? currentUser.email : 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"User role: \", currentUser ? currentUser.role : 'None']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please contact the club administrators if you believe this is an error.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Manage club members and monitor activity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'members' ? 'active' : ''}`,\n        onClick: () => setActiveTab('members'),\n        children: \"All Members\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'pending' ? 'active' : ''}`,\n        onClick: () => setActiveTab('pending'),\n        children: \"Pending Approval\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'email' ? 'active' : ''}`,\n        onClick: () => setActiveTab('email'),\n        children: \"Send Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'banner' ? 'active' : ''}`,\n        onClick: () => setActiveTab('banner'),\n        children: \"Site Banner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [activeTab === 'members' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"members-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"All Members\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-warning\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u26A0\\uFE0F Important:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 20\n            }, this), \" The \\\"Delete\\\" button will permanently remove users and all their data. This action cannot be undone.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"members-table\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Phone Number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Join Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Expiry Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Absences\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Charter Accepted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Actions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: members.map(member => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `role-badge ${member.role}`,\n                    children: member.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.phone_number || 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.joinDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `absence-count ${member.absences > 0 ? 'has-absences' : 'no-absences'}`,\n                    children: member.absences || 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `charter-status ${member.charterAccepted ? 'accepted' : 'not-accepted'}`,\n                    children: member.charterAccepted ? 'âœ… Yes' : 'âŒ No'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn small\",\n                    onClick: () => editMember(member),\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn small danger\",\n                    onClick: () => removeMember(member.id),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 477,\n                  columnNumber: 23\n                }, this)]\n              }, member.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 23\n      }, this), activeTab === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pending-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Pending Approval\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this), pendingMembers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-pending\",\n          children: \"No pending members to approve!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pending-grid\",\n          children: pendingMembers.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pending-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"member-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: member.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Email:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 26\n                }, this), \" \", member.email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Role:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 26\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"role-badge\",\n                  children: member.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Phone Number:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 26\n                }, this), \" \", member.phone_number || 'Not set']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Join Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 26\n                }, this), \" \", member.joinDate]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Expiry Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 26\n                }, this), \" \", member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"approval-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"approve-btn\",\n                onClick: () => approveMember(member),\n                children: \"\\u2705 Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"reject-btn\",\n                onClick: () => rejectMember(member.id),\n                children: \"\\u274C Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 21\n            }, this)]\n          }, member.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 11\n      }, this), activeTab === 'banner' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Site Banner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Toggle a banner at the top of the site with a message.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: async e => {\n            e.preventDefault();\n            try {\n              const token = localStorage.getItem('triathlonToken');\n              const resp = await fetch(`${API_BASE_URL}/site/banner`, {\n                method: 'PUT',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify(bannerForm)\n              });\n              if (!resp.ok) {\n                const err = await resp.json().catch(() => ({}));\n                throw new Error(err.error || 'Failed to update banner');\n              }\n              alert('Banner updated');\n            } catch (err) {\n              alert(err.message);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"toggle-switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: !!bannerForm.enabled,\n                onChange: e => setBannerForm({\n                  ...bannerForm,\n                  enabled: e.target.checked\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"toggle-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"toggle-label\",\n              children: bannerForm.enabled ? 'On' : 'Off'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: bannerForm.message,\n              onChange: e => setBannerForm({\n                ...bannerForm,\n                message: e.target.value\n              }),\n              placeholder: \"Work in progress\\u2026\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Save Banner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 11\n      }, this), activeTab === 'email' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Send Individual Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: async e => {\n            e.preventDefault();\n            setEmailStatus(null);\n            if (!emailForm.to || !emailForm.subject) {\n              setEmailStatus({\n                type: 'error',\n                text: 'Please provide recipient and subject.'\n              });\n              return;\n            }\n            const hasTemplate = template.title || template.intro || (template.bullets || []).some(Boolean) || template.body;\n            if (!emailForm.message && !hasTemplate) {\n              setEmailStatus({\n                type: 'error',\n                text: 'Provide either Message or Template content.'\n              });\n              return;\n            }\n            try {\n              setSendingEmail(true);\n              const token = localStorage.getItem('triathlonToken');\n              const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': `Bearer ${token}`\n                },\n                body: JSON.stringify({\n                  ...emailForm,\n                  template\n                })\n              });\n              if (!resp.ok) {\n                const err = await resp.json().catch(() => ({}));\n                throw new Error(err.error || 'Failed to send email');\n              }\n              setEmailStatus({\n                type: 'success',\n                text: 'Email sent successfully.'\n              });\n              setEmailForm({\n                to: '',\n                subject: '',\n                message: ''\n              });\n              setTemplate({\n                bannerTitle: '',\n                title: '',\n                intro: '',\n                bullets: [''],\n                body: ''\n              });\n            } catch (err) {\n              setEmailStatus({\n                type: 'error',\n                text: err.message\n              });\n            } finally {\n              setSendingEmail(false);\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 604,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: emailForm.to,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                to: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: emailForm.subject,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                subject: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Message (optional if using template)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: \"6\",\n              value: emailForm.message,\n              onChange: e => setEmailForm({\n                ...emailForm,\n                message: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              padding: '16px',\n              border: '1px solid #eee',\n              borderRadius: 6,\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"Optional Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Banner Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: template.bannerTitle,\n                onChange: e => setTemplate({\n                  ...template,\n                  bannerTitle: e.target.value\n                }),\n                placeholder: `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined, {\n                  year: 'numeric',\n                  month: 'short',\n                  day: 'numeric'\n                })}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: template.title,\n                onChange: e => setTemplate({\n                  ...template,\n                  title: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 622,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Intro\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"3\",\n                value: template.intro,\n                onChange: e => setTemplate({\n                  ...template,\n                  intro: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 628,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 626,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Bullets\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 19\n              }, this), (template.bullets || []).map((b, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 8,\n                  marginBottom: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: b,\n                  onChange: e => {\n                    const copy = [...template.bullets];\n                    copy[idx] = e.target.value;\n                    setTemplate({\n                      ...template,\n                      bullets: copy\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 634,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"action-btn small danger\",\n                  onClick: () => {\n                    const copy = [...template.bullets];\n                    copy.splice(idx, 1);\n                    if (copy.length === 0) copy.push('');\n                    setTemplate({\n                      ...template,\n                      bullets: copy\n                    });\n                  },\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"action-btn small\",\n                onClick: () => setTemplate({\n                  ...template,\n                  bullets: [...template.bullets, '']\n                }),\n                children: \"Add bullet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 630,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Body\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                rows: \"6\",\n                value: template.body,\n                onChange: e => setTemplate({\n                  ...template,\n                  body: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 640,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            style: {\n              padding: '16px',\n              border: '1px solid #eee',\n              borderRadius: 6,\n              marginBottom: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                marginTop: 0\n              },\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#dc2626',\n                color: '#fff',\n                padding: '12px',\n                borderRadius: 8,\n                textAlign: 'center',\n                marginBottom: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: template.bannerTitle || `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined, {\n                  year: 'numeric',\n                  month: 'short',\n                  day: 'numeric'\n                })}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 17\n            }, this), template.title && /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: template.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 36\n            }, this), template.intro && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: template.intro\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 36\n            }, this), (template.bullets || []).filter(Boolean).length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: template.bullets.filter(Boolean).map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: b\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 68\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 19\n            }, this), (template.body || emailForm.message) && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: template.body || emailForm.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 58\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this), emailStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `notice ${emailStatus.type}`,\n            children: emailStatus.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 661,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: sendingEmail,\n              children: sendingEmail ? 'Sending...' : 'Send Email'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 664,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this), editingMember && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Edit Member: \", editingMember.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 13\n        }, this), console.log('ðŸ” Modal rendering with editForm:', editForm), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            saveMemberEdit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editForm.name,\n              onChange: e => setEditForm({\n                ...editForm,\n                name: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              value: editForm.email,\n              onChange: e => setEditForm({\n                ...editForm,\n                email: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 701,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editForm.role,\n              onChange: e => setEditForm({\n                ...editForm,\n                role: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"pending\",\n                children: \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"member\",\n                children: \"Member\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exec\",\n                children: \"Executive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 709,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"administrator\",\n                children: \"Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 702,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 700,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Expiry Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: editForm.expiryDate,\n              onChange: e => setEditForm({\n                ...editForm,\n                expiryDate: e.target.value\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Phone Number:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 724,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\",\n              value: editForm.phoneNumber,\n              onChange: handlePhoneNumberChange,\n              placeholder: \"(123) 456-7890\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 17\n            }, this), editForm.phoneNumber && !validatePhoneNumber(editForm.phoneNumber) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"error-message\",\n              children: \"Please enter a valid 10-digit phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 732,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"For SMS notifications when promoted from waitlists\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 723,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Charter Accepted:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: editForm.charterAccepted ? '1' : '0',\n              onChange: e => {\n                const newValue = e.target.value === '1';\n                console.log('ðŸ” Charter dropdown changed:', e.target.value, 'â†’', newValue);\n                setEditForm({\n                  ...editForm,\n                  charterAccepted: newValue\n                });\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"0\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"Yes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 750,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Whether the member has accepted the team charter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '0.8em',\n                color: '#666',\n                marginTop: '4px'\n              },\n              children: [\"Current value: \", editForm.charterAccepted ? 'Yes (1)' : 'No (0)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 758,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: cancelEdit,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 9\n    }, this), approvingMember && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Approve Member: \", approvingMember.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            handleApprovalSubmit();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Role:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: approvalForm.role,\n              onChange: e => setApprovalForm({\n                ...approvalForm,\n                role: e.target.value\n              }),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"member\",\n                children: \"Member\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"exec\",\n                children: \"Executive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"administrator\",\n                children: \"Administrator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Expiry Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 786,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: approvalForm.expiryDate,\n              onChange: e => setApprovalForm({\n                ...approvalForm,\n                expiryDate: e.target.value\n              }),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"Membership will expire on this date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 785,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              children: \"Approve Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 797,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: cancelApproval,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 798,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 796,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n};\n_s(Admin, \"gWmzOmSmzmjMK1jaMG3OHfB5MNA=\", false, function () {\n  return [useAuth];\n});\n_c = Admin;\nexport default Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useAuth","jsxDEV","_jsxDEV","Admin","_s","currentUser","isAdmin","members","setMembers","pendingMembers","setPendingMembers","activeTab","setActiveTab","bannerForm","setBannerForm","enabled","message","emailForm","setEmailForm","to","subject","template","setTemplate","bannerTitle","title","intro","bullets","body","sendingEmail","setSendingEmail","emailStatus","setEmailStatus","editingMember","setEditingMember","editForm","setEditForm","name","email","role","expiryDate","phoneNumber","charterAccepted","approvingMember","setApprovingMember","approvalForm","setApprovalForm","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","validatePhoneNumber","phone","digitsOnly","replace","length","formatPhoneNumber","slice","handlePhoneNumberChange","e","value","target","formatted","loadAdminData","loadBannerData","response","fetch","ok","_data$banner","_data$banner2","data","json","banner","error","console","token","localStorage","getItem","membersResponse","headers","_transformedMembers$f","_transformedMembers$f2","membersData","log","transformedMembers","map","member","joinDate","join_date","expiry_date","absences","charter_accepted","find","m","id","JSON","stringify","pending","filter","approveMember","handleApprovalSubmit","alert","method","cancelApproval","removeMember","memberId","confirmed","window","confirm","err","catch","rejectMember","editMember","initialCharterAccepted","phone_number","saveMemberEdit","cleanFormData","status","result","notifyResponse","userId","oldRole","newRole","errorData","cancelEdit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","Date","toLocaleDateString","onSubmit","preventDefault","resp","Error","style","display","alignItems","gap","type","checked","onChange","placeholder","text","hasTemplate","some","Boolean","required","rows","padding","border","borderRadius","marginBottom","marginTop","undefined","year","month","day","b","idx","copy","splice","push","background","color","textAlign","i","whiteSpace","disabled","newValue","fontSize","_c","$RefreshReg$"],"sources":["/Users/jadeclement/Documents/Developer/uofttri/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport './Admin.css';\n\nconst Admin = () => {\n  const { currentUser, isAdmin } = useAuth();\n  const [members, setMembers] = useState([]);\n  const [pendingMembers, setPendingMembers] = useState([]);\n  const [activeTab, setActiveTab] = useState('members');\n  const [bannerForm, setBannerForm] = useState({ enabled: false, message: '' });\n  const [emailForm, setEmailForm] = useState({ to: '', subject: '', message: '' });\n  const [template, setTemplate] = useState({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n  const [sendingEmail, setSendingEmail] = useState(false);\n  const [emailStatus, setEmailStatus] = useState(null);\n\n  const [editingMember, setEditingMember] = useState(null);\n  const [editForm, setEditForm] = useState({\n    name: '',\n    email: '',\n    role: '',\n    expiryDate: '',\n    phoneNumber: '',\n    charterAccepted: false\n  });\n  const [approvingMember, setApprovingMember] = useState(null);\n  const [approvalForm, setApprovalForm] = useState({\n    role: 'member',\n    expiryDate: ''\n  });\n\n\n  const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5001/api';\n\n\n  // Phone number formatting functions (same as Login.js and Profile.js)\n  const validatePhoneNumber = (phone) => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Check if it's 10 digits (North American format)\n    return digitsOnly.length === 10;\n  };\n\n  const formatPhoneNumber = (phone) => {\n    // Remove all non-digit characters\n    const digitsOnly = phone.replace(/\\D/g, '');\n    // Format as (XXX) XXX-XXXX\n    if (digitsOnly.length === 10) {\n      return `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n    }\n    return phone; // Return original if not 10 digits\n  };\n\n  const handlePhoneNumberChange = (e) => {\n    const value = e.target.value;\n    // Remove all non-digit characters\n    const digitsOnly = value.replace(/\\D/g, '');\n    \n    // Limit to 10 digits\n    if (digitsOnly.length <= 10) {\n      // Format as user types\n      let formatted = digitsOnly;\n      if (digitsOnly.length >= 6) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3, 6)}-${digitsOnly.slice(6)}`;\n      } else if (digitsOnly.length >= 3) {\n        formatted = `(${digitsOnly.slice(0, 3)}) ${digitsOnly.slice(3)}`;\n      } else if (digitsOnly.length > 0) {\n        formatted = `(${digitsOnly}`;\n      }\n      setEditForm({...editForm, phoneNumber: formatted});\n    }\n  };\n\n  // Load data from backend API\n  useEffect(() => {\n    if (!currentUser || !isAdmin(currentUser)) {\n      return;\n    }\n\n    loadAdminData();\n  }, [currentUser, isAdmin]);\n\n  const loadBannerData = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/site/banner`);\n      if (response.ok) {\n        const data = await response.json();\n        setBannerForm({\n          enabled: data.banner?.enabled || false,\n          message: data.banner?.message || ''\n        });\n      }\n    } catch (error) {\n      console.error('Error loading banner data:', error);\n    }\n  };\n\n  const loadAdminData = async () => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      if (!token) {\n        console.error('No authentication token found');\n        return;\n      }\n\n      // Load banner data\n      await loadBannerData();\n\n      // Load all members\n      const membersResponse = await fetch(`${API_BASE_URL}/admin/members`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      \n      if (membersResponse.ok) {\n        const membersData = await membersResponse.json();\n        console.log('ðŸ“Š Members data received:', membersData.members);\n        \n        // Transform backend data to frontend format (snake_case to camelCase)\n        const transformedMembers = membersData.members.map(member => ({\n          ...member,\n          joinDate: member.join_date,\n          expiryDate: member.expiry_date,\n          absences: member.absences || 0,\n          charterAccepted: member.charter_accepted || 0\n        }));\n        \n        console.log('ðŸ”„ Transformed members data:', transformedMembers);\n        console.log('ðŸ“Š Raw backend data:', membersData.members);\n        console.log('ðŸ” Sample member with absences:', transformedMembers.find(m => m.id)?.absences);\n        console.log('ðŸ” Sample member with charter:', transformedMembers.find(m => m.id)?.charterAccepted);\n        console.log('ðŸ” Raw charter_accepted values:', membersData.members.map(m => ({ id: m.id, charter_accepted: m.charter_accepted })));\n        console.log('ðŸ” Full transformed members:', JSON.stringify(transformedMembers, null, 2));\n        setMembers(transformedMembers);\n        \n        // Filter pending members\n        const pending = transformedMembers.filter(m => m.role === 'pending');\n        setPendingMembers(pending);\n      }\n    } catch (error) {\n      console.error('Error loading admin data:', error);\n    }\n  };\n\n  const approveMember = (member) => {\n    setApprovingMember(member);\n    setApprovalForm({\n      role: 'member',\n      expiryDate: ''\n    });\n  };\n\n  const handleApprovalSubmit = async () => {\n    if (!approvingMember || !approvalForm.expiryDate) {\n      alert('Please set an expiry date before approving the member.');\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${approvingMember.id}/approve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ \n          role: approvalForm.role,\n          expiryDate: approvalForm.expiryDate\n        })\n      });\n\n      if (response.ok) {\n        // Reload data to get updated information\n        await loadAdminData();\n        setApprovingMember(null);\n        setApprovalForm({ role: 'member', expiryDate: '' });\n      } else {\n        console.error('Failed to approve member');\n      }\n    } catch (error) {\n      console.error('Error approving member:', error);\n    }\n  };\n\n  const cancelApproval = () => {\n    setApprovingMember(null);\n    setApprovalForm({ role: 'member', expiryDate: '' });\n  };\n\n\n\n  const removeMember = async (memberId) => {\n    const confirmed = window.confirm('âš ï¸ WARNING: This will PERMANENTLY DELETE this user and all their data!\\n\\nThis action cannot be undone. Are you sure you want to continue?');\n    if (!confirmed) return;\n\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (response.ok) {\n        console.log('âœ… User deleted successfully');\n        await loadAdminData();\n      } else {\n        console.error('Failed to delete user');\n        const err = await response.json().catch(() => ({}));\n        alert(`Failed to delete user${err.error ? `: ${err.error}` : ''}`);\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      alert(`Error deleting user: ${error.message}`);\n    }\n  };\n\n  const rejectMember = async (memberId) => {\n    try {\n      const token = localStorage.getItem('triathlonToken');\n      const response = await fetch(`${API_BASE_URL}/admin/members/${memberId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ role: 'rejected' })\n      });\n\n      if (response.ok) {\n        // Reload data to get updated information\n        loadAdminData();\n      } else {\n        console.error('Failed to reject member');\n      }\n    } catch (error) {\n      console.error('Error rejecting member:', error);\n    }\n  };\n\n  const editMember = (member) => {\n    console.log('ðŸ”„ Editing member:', member);\n    console.log('ðŸ” Member charterAccepted value:', member.charterAccepted);\n    \n    const initialCharterAccepted = member.charterAccepted || false;\n    console.log('ðŸ” Initial charterAccepted value:', initialCharterAccepted);\n    \n    setEditingMember(member);\n    setEditForm({\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n    console.log('ðŸ“ Edit form set to:', {\n      name: member.name,\n      email: member.email,\n      role: member.role,\n      expiryDate: member.expiryDate || '',\n      phoneNumber: member.phone_number || '',\n      charterAccepted: initialCharterAccepted\n    });\n  };\n\n  const saveMemberEdit = async () => {\n    console.log('ðŸš¨ saveMemberEdit function called!');\n    if (!editingMember) {\n      console.log('âŒ No editingMember, returning early');\n      return;\n    }\n    \n    console.log('ðŸ”„ Saving member edit for:', editingMember.id);\n    console.log('ðŸ“ Form data:', editForm);\n    \n    // Clean up the form data - convert empty strings to null for optional fields\n    const cleanFormData = {\n      ...editForm,\n      phoneNumber: formatPhoneNumber(editForm.phoneNumber), // Format phone number before sending\n      expiryDate: editForm.expiryDate || null,\n      charterAccepted: editForm.charterAccepted ? 1 : 0\n    };\n    \n    console.log('ðŸ§¹ Cleaned form data:', cleanFormData);\n    console.log('ðŸ” Charter accepted value being sent:', editForm.charterAccepted, 'â†’', cleanFormData.charterAccepted);\n    \n    try {\n      const token = localStorage.getItem('triathlonToken');\n      console.log('ðŸ”‘ Token:', token ? 'Present' : 'Missing');\n      \n      const response = await fetch(`${API_BASE_URL}/admin/members/${editingMember.id}/update`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(cleanFormData)\n      });\n\n      console.log('ðŸ“¡ Response status:', response.status);\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('âœ… Update successful:', result);\n        \n        // Check if role was changed and notify the user\n        if (editForm.role !== editingMember.role) {\n          console.log('ðŸ”„ Role changed from', editingMember.role, 'to', editForm.role);\n          \n          // Send notification to the user about role change\n          try {\n            const notifyResponse = await fetch(`${API_BASE_URL}/admin/notify-role-change`, {\n              method: 'POST',\n              headers: {\n                'Authorization': `Bearer ${token}`,\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userId: editingMember.id,\n                oldRole: editingMember.role,\n                newRole: editForm.role\n              })\n            });\n            \n            if (notifyResponse.ok) {\n              console.log('âœ… Role change notification sent');\n            } else {\n              console.log('âš ï¸ Failed to send role change notification');\n            }\n          } catch (error) {\n            console.log('âš ï¸ Error sending role change notification:', error);\n          }\n        }\n        \n        console.log('ðŸ”„ Reloading admin data...');\n        \n        // Reload data to get updated information\n        await loadAdminData();\n        console.log('âœ… Admin data reloaded');\n        \n        setEditingMember(null);\n        setEditForm({\n          name: '',\n          email: '',\n          role: '',\n          expiryDate: '',\n          phoneNumber: '',\n          charterAccepted: false\n        });\n      } else {\n        const errorData = await response.json();\n        console.error('âŒ Failed to update member:', errorData);\n        alert(`Failed to update member: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      console.error('âŒ Error updating member:', error);\n      alert(`Error updating member: ${error.message}`);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingMember(null);\n    setEditForm({\n      name: '',\n      email: '',\n      role: '',\n      expiryDate: '',\n      phoneNumber: '',\n      charterAccepted: false\n    });\n  };\n\n\n\n  // Debug: Log current user info\n  console.log('Current user:', currentUser);\n  console.log('Is admin check:', isAdmin(currentUser));\n\n  // Check if current user is admin\n  if (!currentUser || !isAdmin(currentUser)) {\n    return (\n      <div className=\"admin-container\">\n        <div className=\"admin-access-denied\">\n          <h2>Access Denied</h2>\n          <p>You don't have permission to access the admin panel.</p>\n          <p>Current user: {currentUser ? currentUser.email : 'None'}</p>\n          <p>User role: {currentUser ? currentUser.role : 'None'}</p>\n          <p>Please contact the club administrators if you believe this is an error.</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-container\">\n              <div className=\"admin-header\">\n          <h1>Admin Dashboard</h1>\n          <p>Manage club members and monitor activity</p>\n\n        </div>\n\n      <div className=\"admin-tabs\">\n        <button \n          className={`tab-button ${activeTab === 'members' ? 'active' : ''}`}\n          onClick={() => setActiveTab('members')}\n        >\n          All Members\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'pending' ? 'active' : ''}`}\n          onClick={() => setActiveTab('pending')}\n        >\n          Pending Approval\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'email' ? 'active' : ''}`}\n          onClick={() => setActiveTab('email')}\n        >\n          Send Email\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'banner' ? 'active' : ''}`}\n          onClick={() => setActiveTab('banner')}\n        >\n          Site Banner\n        </button>\n      </div>\n\n      <div className=\"admin-content\">\n\n\n        {activeTab === 'members' && (\n                      <div className=\"members-section\">\n              <h2>All Members</h2>\n              <div className=\"admin-warning\">\n                <p><strong>âš ï¸ Important:</strong> The \"Delete\" button will permanently remove users and all their data. This action cannot be undone.</p>\n              </div>\n              <div className=\"members-table\">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Email</th>\n                    <th>Role</th>\n                    <th>Phone Number</th>\n                    <th>Join Date</th>\n                    <th>Expiry Date</th>\n                    <th>Absences</th>\n                    <th>Charter Accepted</th>\n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {members.map(member => (\n                    <tr key={member.id}>\n                      <td>{member.name}</td>\n                      <td>{member.email}</td>\n                      <td><span className={`role-badge ${member.role}`}>{member.role}</span></td>\n                      <td>{member.phone_number || 'Not set'}</td>\n                      <td>{member.joinDate}</td>\n                      <td>{member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'}</td>\n                      <td>\n                        <span className={`absence-count ${member.absences > 0 ? 'has-absences' : 'no-absences'}`}>\n                          {member.absences || 0}\n                        </span>\n                      </td>\n                      <td>\n                        <span className={`charter-status ${member.charterAccepted ? 'accepted' : 'not-accepted'}`}>\n                          {member.charterAccepted ? 'âœ… Yes' : 'âŒ No'}\n                        </span>\n                      </td>\n\n                      <td>\n                        <button className=\"action-btn small\" onClick={() => editMember(member)}>Edit</button>\n                        <button className=\"action-btn small danger\" onClick={() => removeMember(member.id)}>Delete</button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'pending' && (\n          <div className=\"pending-section\">\n            <h2>Pending Approval</h2>\n            {pendingMembers.length === 0 ? (\n              <p className=\"no-pending\">No pending members to approve!</p>\n            ) : (\n              <div className=\"pending-grid\">\n                {pendingMembers.map(member => (\n                  <div key={member.id} className=\"pending-card\">\n                    <div className=\"member-info\">\n                      <h3>{member.name}</h3>\n                      <p><strong>Email:</strong> {member.email}</p>\n                      <p><strong>Role:</strong> <span className=\"role-badge\">{member.role}</span></p>\n                      <p><strong>Phone Number:</strong> {member.phone_number || 'Not set'}</p>\n                      <p><strong>Join Date:</strong> {member.joinDate}</p>\n                      <p><strong>Expiry Date:</strong> {member.expiryDate ? new Date(member.expiryDate).toLocaleDateString() : 'Not set'}</p>\n      \n                    </div>\n                    <div className=\"approval-actions\">\n                                              <button \n                          className=\"approve-btn\"\n                          onClick={() => approveMember(member)}\n                        >\n                          âœ… Approve\n                        </button>\n                      <button \n                        className=\"reject-btn\"\n                        onClick={() => rejectMember(member.id)}\n                      >\n                        âŒ Reject\n                      </button>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {activeTab === 'banner' && (\n          <div className=\"email-section\">\n            <h2>Site Banner</h2>\n            <p>Toggle a banner at the top of the site with a message.</p>\n            <form onSubmit={async (e) => {\n              e.preventDefault();\n              try {\n                const token = localStorage.getItem('triathlonToken');\n                const resp = await fetch(`${API_BASE_URL}/site/banner`, {\n                  method: 'PUT',\n                  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n                  body: JSON.stringify(bannerForm)\n                });\n                if (!resp.ok) {\n                  const err = await resp.json().catch(() => ({}));\n                  throw new Error(err.error || 'Failed to update banner');\n                }\n                alert('Banner updated');\n              } catch (err) {\n                alert(err.message);\n              }\n            }}>\n              <div className=\"form-group\" style={{display:'flex', alignItems:'center', gap:'12px'}}>\n                <label className=\"toggle-switch\">\n                  <input type=\"checkbox\" checked={!!bannerForm.enabled} onChange={(e)=> setBannerForm({ ...bannerForm, enabled: e.target.checked })} />\n                  <span className=\"toggle-slider\"></span>\n                </label>\n                <span className=\"toggle-label\">{bannerForm.enabled ? 'On' : 'Off'}</span>\n              </div>\n              <div className=\"form-group\">\n                <label>Message</label>\n                <input type=\"text\" value={bannerForm.message} onChange={(e)=> setBannerForm({ ...bannerForm, message: e.target.value })} placeholder=\"Work in progressâ€¦\" />\n              </div>\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Save Banner</button>\n              </div>\n            </form>\n          </div>\n        )}\n        {activeTab === 'email' && (\n          <div className=\"email-section\">\n            <h2>Send Individual Email</h2>\n            <form onSubmit={async (e) => {\n              e.preventDefault();\n              setEmailStatus(null);\n              if (!emailForm.to || !emailForm.subject) {\n                setEmailStatus({ type: 'error', text: 'Please provide recipient and subject.' });\n                return;\n              }\n              const hasTemplate = (template.title || template.intro || (template.bullets||[]).some(Boolean) || template.body);\n              if (!emailForm.message && !hasTemplate) {\n                setEmailStatus({ type: 'error', text: 'Provide either Message or Template content.' });\n                return;\n              }\n              try {\n                setSendingEmail(true);\n                const token = localStorage.getItem('triathlonToken');\n                const resp = await fetch(`${API_BASE_URL}/admin/send-email`, {\n                  method: 'POST',\n                  headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n                  body: JSON.stringify({ ...emailForm, template })\n                });\n                if (!resp.ok) {\n                  const err = await resp.json().catch(() => ({}));\n                  throw new Error(err.error || 'Failed to send email');\n                }\n                setEmailStatus({ type: 'success', text: 'Email sent successfully.' });\n                setEmailForm({ to: '', subject: '', message: '' });\n                setTemplate({ bannerTitle: '', title: '', intro: '', bullets: [''], body: '' });\n              } catch (err) {\n                setEmailStatus({ type: 'error', text: err.message });\n              } finally {\n                setSendingEmail(false);\n              }\n            }}>\n              <div className=\"form-group\">\n                <label>To</label>\n                <input type=\"email\" value={emailForm.to} onChange={(e) => setEmailForm({ ...emailForm, to: e.target.value })} required />\n              </div>\n              <div className=\"form-group\">\n                <label>Subject</label>\n                <input type=\"text\" value={emailForm.subject} onChange={(e) => setEmailForm({ ...emailForm, subject: e.target.value })} required />\n              </div>\n              <div className=\"form-group\">\n                <label>Message (optional if using template)</label>\n                <textarea rows=\"6\" value={emailForm.message} onChange={(e) => setEmailForm({ ...emailForm, message: e.target.value })} />\n              </div>\n\n              <div className=\"card\" style={{padding:'16px', border:'1px solid #eee', borderRadius:6, marginBottom:16}}>\n                <h3 style={{marginTop:0}}>Optional Template</h3>\n                <div className=\"form-group\">\n                  <label>Banner Title</label>\n                  <input type=\"text\" value={template.bannerTitle} onChange={(e)=>setTemplate({...template, bannerTitle:e.target.value})} placeholder={`UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'})}`} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input type=\"text\" value={template.title} onChange={(e)=>setTemplate({...template, title:e.target.value})} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Intro</label>\n                  <textarea rows=\"3\" value={template.intro} onChange={(e)=>setTemplate({...template, intro:e.target.value})} />\n                </div>\n                <div className=\"form-group\">\n                  <label>Bullets</label>\n                  {(template.bullets||[]).map((b, idx)=> (\n                    <div key={idx} style={{display:'flex', gap:8, marginBottom:8}}>\n                      <input type=\"text\" value={b} onChange={(e)=>{ const copy=[...template.bullets]; copy[idx]=e.target.value; setTemplate({...template, bullets:copy}); }} />\n                      <button type=\"button\" className=\"action-btn small danger\" onClick={()=>{ const copy=[...template.bullets]; copy.splice(idx,1); if(copy.length===0) copy.push(''); setTemplate({...template, bullets:copy}); }}>Remove</button>\n                    </div>\n                  ))}\n                  <button type=\"button\" className=\"action-btn small\" onClick={()=> setTemplate({...template, bullets:[...template.bullets, '']})}>Add bullet</button>\n                </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea rows=\"6\" value={template.body} onChange={(e)=>setTemplate({...template, body:e.target.value})} />\n                </div>\n              </div>\n\n              <div className=\"card\" style={{padding:'16px', border:'1px solid #eee', borderRadius:6, marginBottom:16}}>\n                <h3 style={{marginTop:0}}>Preview</h3>\n                <div style={{background:'#dc2626', color:'#fff', padding:'12px', borderRadius:8, textAlign:'center', marginBottom:12}}>\n                  <strong>{template.bannerTitle || `UofT Tri Club â€“ ${new Date().toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'})}`}</strong>\n                </div>\n                {template.title && <h4>{template.title}</h4>}\n                {template.intro && <p>{template.intro}</p>}\n                {(template.bullets||[]).filter(Boolean).length>0 && (\n                  <ul>\n                    {template.bullets.filter(Boolean).map((b, i)=> <li key={i}>{b}</li>)}\n                  </ul>\n                )}\n                {(template.body || emailForm.message) && <p style={{whiteSpace:'pre-wrap'}}>{template.body || emailForm.message}</p>}\n              </div>\n              {emailStatus && (\n                <div className={`notice ${emailStatus.type}`}>{emailStatus.text}</div>\n              )}\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={sendingEmail}>\n                  {sendingEmail ? 'Sending...' : 'Send Email'}\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n\n      </div>\n\n      {/* Edit Member Modal */}\n      {editingMember && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h2>Edit Member: {editingMember.name}</h2>\n            {console.log('ðŸ” Modal rendering with editForm:', editForm)}\n            <form onSubmit={(e) => { e.preventDefault(); saveMemberEdit(); }}>\n              <div className=\"form-group\">\n                <label>Name:</label>\n                <input\n                  type=\"text\"\n                  value={editForm.name}\n                  onChange={(e) => setEditForm({...editForm, name: e.target.value})}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Email:</label>\n                <input\n                  type=\"email\"\n                  value={editForm.email}\n                  onChange={(e) => setEditForm({...editForm, email: e.target.value})}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>Role:</label>\n                <select\n                  value={editForm.role}\n                  onChange={(e) => setEditForm({...editForm, role: e.target.value})}\n                  required\n                >\n                  <option value=\"pending\">Pending</option>\n                  <option value=\"member\">Member</option>\n                  <option value=\"exec\">Executive</option>\n                  <option value=\"administrator\">Administrator</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Expiry Date:</label>\n                <input\n                  type=\"date\"\n                  value={editForm.expiryDate}\n                  onChange={(e) => setEditForm({...editForm, expiryDate: e.target.value})}\n                />\n              </div>\n              \n              <div className=\"form-group\">\n                <label>Phone Number:</label>\n                <input\n                  type=\"tel\"\n                  value={editForm.phoneNumber}\n                  onChange={handlePhoneNumberChange}\n                  placeholder=\"(123) 456-7890\"\n                />\n                {editForm.phoneNumber && !validatePhoneNumber(editForm.phoneNumber) && (\n                  <div className=\"error-message\">\n                    Please enter a valid 10-digit phone number\n                  </div>\n                )}\n                <small>For SMS notifications when promoted from waitlists</small>\n              </div>\n              \n              <div className=\"form-group\">\n                <label>Charter Accepted:</label>\n                <select\n                  value={editForm.charterAccepted ? '1' : '0'}\n                  onChange={(e) => {\n                    const newValue = e.target.value === '1';\n                    console.log('ðŸ” Charter dropdown changed:', e.target.value, 'â†’', newValue);\n                    setEditForm({...editForm, charterAccepted: newValue});\n                  }}\n                >\n                  <option value=\"0\">No</option>\n                  <option value=\"1\">Yes</option>\n                </select>\n                <small>Whether the member has accepted the team charter</small>\n                <div style={{fontSize: '0.8em', color: '#666', marginTop: '4px'}}>\n                  Current value: {editForm.charterAccepted ? 'Yes (1)' : 'No (0)'}\n                </div>\n              </div>\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Save Changes</button>\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelEdit}>Cancel</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Approval Modal */}\n      {approvingMember && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <h2>Approve Member: {approvingMember.name}</h2>\n            <form onSubmit={(e) => { e.preventDefault(); handleApprovalSubmit(); }}>\n              <div className=\"form-group\">\n                <label>Role:</label>\n                <select\n                  value={approvalForm.role}\n                  onChange={(e) => setApprovalForm({...approvalForm, role: e.target.value})}\n                  required\n                >\n                  <option value=\"member\">Member</option>\n                  <option value=\"exec\">Executive</option>\n                  <option value=\"administrator\">Administrator</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Expiry Date:</label>\n                <input\n                  type=\"date\"\n                  value={approvalForm.expiryDate}\n                  onChange={(e) => setApprovalForm({...approvalForm, expiryDate: e.target.value})}\n                  required\n                />\n                <small>Membership will expire on this date</small>\n              </div>\n\n              <div className=\"modal-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\">Approve Member</button>\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelApproval}>Cancel</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Admin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}